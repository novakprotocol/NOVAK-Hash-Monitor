<!-- âœ… NOVAK Protocol â€” Final Public Demo Build (PART 1 of 3) -->
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NOVAK Protocol â€” Proof-Before-Action Integrity</title>

  <meta name="description"
        content="NOVAK Protocol â€” execution integrity, fraud prevention, cryptographic proof-before-action verification for government, finance, healthcare, AI, robotics, and national security." />

  <link rel="icon" type="image/png" href="favicon.png" />

  <!-- âœ… Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono&display=swap"
        rel="stylesheet" />

  <style>

/* =============================== */
/* NOVAK Documentation Dropdown    */
/* =============================== */

/* SHA Education Suite Styling */
.diagram-box {
  background: var(--card);
  border: 1px solid var(--border);
  padding: 14px;
  border-radius: 8px;
  font-family: 'JetBrains Mono', monospace;
  white-space: pre-wrap;
  margin-top: 12px;
  text-align: center;   /* âœ… FIX ALIGNMENT */
}

.diagram-box pre { 
  text-align: center; 
}

.diagram-box { 
  text-align: center; 
}

    
.sha-table { margin-top: 14px; }
.sha-row { display: flex; gap: 14px; margin-bottom: 8px; }
.sha-name { width: 110px; font-weight: 700; padding:6px 10px; border-radius:6px; text-align:center; }
.sha-desc { flex: 1; padding:6px 0; }

.sha-broken { background:#ffdddd; border:1px solid #cc6666; }
.sha-good   { background:#e2f4ff; border:1px solid #6aa7ff; }
.sha-new    { background:#eae1ff; border:1px solid #a78bfa; }

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-btn {
  padding: 7px 16px;
  font-size: 14px;
  border-radius: 999px;
  border: 1px solid var(--blue);
  background: transparent;
  cursor: pointer;
  color: var(--blue);
  transition: 0.25s;
  white-space: nowrap;
}

.dropdown-btn:hover {
  background: var(--blue);
  color: #fff;
}

.dropdown-content {
  display: none;
  position: absolute;
  top: 42px;
  right: 0;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 10px;
  min-width: 310px;
  box-shadow: 0 4px 18px rgba(0,0,0,.25);
  z-index: 99999;
  padding: 10px 0;
}

.dropdown-header {
  font-weight: 700;
  padding: 12px 18px;
  border-bottom: 1px solid var(--border);
}

.dropdown-content a {
  display: block;
  padding: 10px 18px;
  font-size: 14px;
  color: var(--text);
  text-decoration: none;
  transition: 0.12s;
  white-space: nowrap;
}

.dropdown-content a:hover {
  background: rgba(26,79,179,0.10);
}

.dropdown-divider {
  margin: 10px 0;
  border-bottom: 1px solid var(--border);
}

/* DARK MODE SUPPORT */
html[data-theme="dark"] .dropdown-btn {
  color: #fff;
  border-color: #fff;
}

html[data-theme="dark"] .dropdown-btn:hover {
  background: #fff;
  color: #000;
}

html[data-theme="dark"] .dropdown-content {
  background: var(--card-dark);
  border-color: var(--border-dark);
}

html[data-theme="dark"] .dropdown-content a:hover {
  background: #1e293b;
}
  
/* ========== FIX TOP GAP (B) ========== */
html {
  scroll-padding-top: 50px; /* header height */
}

body {
  padding-top: 50px;  /* match header height exactly */
}

/* prevent double stacking */
.card,
#audienceContent,
#explainerOutput,
#whatChangesCard,
#whyNovakCard,
#whatIsNovakCard,
#hashOutputList,
#rgac,
#gameBox,
#transparencyView,
#storyPanel {
  scroll-margin-top: 80px; /* 80 is perfect spacing */
}
   
    /* ====================================================================== */
    /* âœ… GLOBAL RESET + TYPOGRAPHY                                           */
    /* ====================================================================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Inter", sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
      line-height: 1.55;
      -webkit-font-smoothing: antialiased;
      font-size: 16px;
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px;
    }

    /* ====================================================================== */
    /* âœ… COLOR SYSTEM â€” THEME VARIABLES                                      */
    /* ====================================================================== */
    :root {
      --blue: #1a4fb3;
      --blue-hover: #0f357f;
      --green: #059669;
      --red: #dc2626;
      --yellow: #e8b400;

      --bg-light: #f8fafc;
      --bg-dark: #0f172a;

      --text-light: #0b1326;
      --text-dark: #e6edf5;

      --card-light: #ffffff;
      --card-dark: #1e293b;

      --border-light: #d4d8e1;
      --border-dark: #334155;
    }

    /* Light Mode */
    html[data-theme="light"] {
      --bg: var(--bg-light);
      --text: var(--text-light);
      --card: var(--card-light);
      --border: var(--border-light);
    }

   /* Dark Mode */
html[data-theme="dark"] {
  --bg: var(--bg-dark);
  --text: var(--text-dark);
  --card: var(--card-dark);
  --border: var(--border-dark);
}

/* Ensure readable buttons in Dark Mode */
html[data-theme="dark"] .explain-btn,
html[data-theme="dark"] .action-btn,
html[data-theme="dark"] .theme-toggle,
html[data-theme="dark"] .aud-btn {
  color: #ffffff !important;
  border-color: #ffffff !important;
}

html[data-theme="dark"] .theme-toggle:hover {
  background: #ffffff;
  color: #000000 !important;
}

html[data-theme="dark"] .card {
  color: var(--text-dark);
}

/* âœ… NEW: keep active audience button readable in dark mode */
html[data-theme="dark"] .aud-btn.active {
  background: #ffffff;
  color: #000000 !important;   /* dark text on white pill */
  border-color: #ffffff;
  box-shadow: 0 0 0 2px #ffffff;
}

    /* ====================================================================== */
    /* âœ… STICKY HEADER â€” CENTERED BRAND + SITE + THEME TOGGLE                */
    /* ====================================================================== */
    #mainHeader {
      display: flex;
      align-items: center;
      padding: 14px 28px;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      z-index: 9999;
    }

    .header-left {
      width: 80px; /* spacer, can stay mostly empty */
    }

    .header-center {
      flex: 1;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }

    #novakBrand {
      font-size: 26px;
      font-weight: 700;
      color: var(--blue);
      white-space: nowrap;
      user-select: none;
    }

    #novakTagline {
      font-size: 13px;
      opacity: 0.85;
    }

    #novakSiteLink {
      font-size: 14px;
      color: var(--blue);
      text-decoration: none;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    #headerControls {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .theme-toggle {
      cursor: pointer;
      font-size: 14px;
      padding: 7px 14px;
      border-radius: 999px;
      border: 1px solid var(--blue);
      background: transparent;
      color: var(--blue);
      transition: 0.25s;
    }

    .theme-toggle:hover {
      background: var(--blue);
      color: #fff;
    }

    /* Mobile Menu */
    #mobileMenuBtn {
      display: none;
      font-size: 26px;
      background: none;
      border: none;
      cursor: pointer;
    }

    #mobileMenuPanel {
      display: none;
      flex-direction: column;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      padding: 10px 22px 14px;
      gap: 8px;
    }

    /* ====================================================================== */
    /* âœ… SHARED UI â€” CARDS, TITLES, BUTTONS                                  */
    /* ====================================================================== */
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 26px;
      margin-top: 28px;
    }

    .section-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 14px;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .pill-btn {
      border-radius: 999px;
      border: 1px solid var(--blue);
      background: #ffffff;
      padding: 8px 18px;
      cursor: pointer;
      font-size: 14px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--blue);
      transition: 0.18s ease;
      white-space: nowrap;
    }

    .pill-btn:hover {
      background: rgba(26, 79, 179, 0.06);
    }

    .aud-btn.active {
      border-color: #000000;
      box-shadow: 0 0 0 2px #000000;
      background: #ffffff;
      color: #000000;
    }

    /* Primary CTA */
    .action-btn {
      padding: 9px 16px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      background: var(--blue);
      color: #fff;
      font-size: 14px;
      transition: 0.25s;
    }

    .action-btn:hover {
      background: var(--blue-hover);
    }

    /* âœ… Audience Selector Buttons â€” Match Explainer Style */
.aud-btn {
  border: 2px solid var(--blue);
  background: transparent;
  padding: 10px 22px;
  border-radius: 26px;
  font-size: 16px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: 0.25s;
  color: var(--blue);
}

.aud-btn:hover {
  background: rgba(26,79,179,0.10);
}

/* âœ… Active (selected) state */
.aud-btn.active {
  background: var(--blue);
  color: #ffffff;
  border-color: var(--blue);
}

/* âœ… Dark Mode readability */
html[data-theme="dark"] .aud-btn {
  color: #ffffff;
  border-color: #ffffff;
}

html[data-theme="dark"] .aud-btn.active {
  background: #ffffff;
  color: #000000;
}

    /* Restore buttons under cards */
    .restore-btn {
      padding: 8px 18px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--card);
      cursor: pointer;
      font-size: 14px;
    }

    /* ====================================================================== */
    /* âœ… ACCESSIBILITY                                                        */
    /* ====================================================================== */
    :focus-visible {
      outline: 3px solid var(--blue);
      border-radius: 6px;
    }

    /* ====================================================================== */
    /* âœ… RESPONSIVE                                                           */
    /* ====================================================================== */
    @media (max-width: 720px) {
      #mainHeader {
        padding: 10px 14px;
      }

      .header-left {
        display: none;
      }

      .header-right {
        gap: 6px;
      }

      #novakBrand {
        font-size: 22px;
      }

      #novakTagline {
        font-size: 12px;
      }

      .container {
        padding: 18px;
      }

      #headerControls {
        display: none;
      }

      #mobileMenuBtn {
        display: block;
      }
    }

    /* =============================== */
/* Expert Mode Buttons & Heatmap   */
/* =============================== */

.digest-btn {
  margin-right: 8px;
  padding: 6px 14px;
  border: 1px solid var(--border);
  background: none;
  color: var(--text);
  border-radius: 6px;
  cursor: pointer;
}

.digest-btn:hover {
  background: var(--border);
}

/* Heatmap Colors */
.bit-same {
  width: 100%;
  height: 12px;
  background: #4ade80; /* green */
}

.bit-diff {
  width: 100%;
  height: 12px;
  background: #ef4444; /* red */
}

  </style>
</head>

<body>

<!-- âœ… GLOBAL HEADER -->
<header id="mainHeader">
  <div class="header-left"></div>

  <div class="header-center">
    <div id="novakBrand">NOVAK Protocol</div>

    <a id="novakSiteLink"
       href="https://www.novakprotocol.com"
       target="_blank"
       rel="noopener noreferrer">
      www.novakprotocol.com
    </a>
  </div>

  <div class="header-right">
    <div id="headerControls">
      <button class="theme-toggle" onclick="toggleTheme()">Light/Dark</button>
    </div>
    <button id="mobileMenuBtn" onclick="toggleMobileMenu()">â˜°</button>
  </div>

<!-- ===== Documentation Dropdown Button ===== -->
<div class="dropdown">
  <button class="dropdown-btn" onclick="toggleDocsMenu()">Docs â–¼</button>

  <div id="docsMenu" class="dropdown-content">
    <div class="dropdown-header">NOVAK Documentation</div>

    <!-- PARTS 1â€“10 -->
    <a href="docs/Part-1_Executive_summary.md" target="_blank">PART 1 â€” Executive Summary</a>
    <a href="docs/PART-2_What-NOVAK-Is.md" target="_blank">PART 2 â€” What NOVAK Is</a>
    <a href="docs/PART-3_Scientific_Foundations.md" target="_blank">PART 3 â€” Scientific Foundations</a>
    <a href="docs/PART-4_Formal_Architecture.md" target="_blank">PART 4 â€” Formal Architecture</a>
    <a href="docs/PART-5_System_Model.md" target="_blank">PART 5 â€” System Model</a>
    <a href="docs/PART-6_Implementation_Layers.md" target="_blank">PART 6 â€” Implementation Layers</a>
    <a href="docs/PART-7_Security_Model.md" target="_blank">PART 7 â€” Security Model</a>
    <a href="docs/PART-8_Governance_and_Compliance.md" target="_blank">PART 8 â€” Governance & Compliance</a>
    <a href="docs/PART-9_Formal_Whitepaper.md" target="_blank">PART 9 â€” Formal Whitepaper</a>
    <a href="docs/PART-10_Final_Summary_Use_Cases.md" target="_blank">PART 10 â€” Final Summary + Use Cases</a>

    <div class="dropdown-divider"></div>

    <!-- APPENDICES -->
    <a href="docs/Appendix-A_Glossary.md" target="_blank">Appendix A â€” Glossary</a>
    <a href="docs/Appendix-B_Mathematical_Notation_Guide.md" target="_blank">Appendix B â€” Math Notation</a>
    <a href="docs/Appendix-C_Regulatory_Mapping.md" target="_blank">Appendix C â€” Regulatory Mapping</a>
    <a href="docs/Appendix-D_Threat_Model_and_Security_Proof.md" target="_blank">Appendix D â€” Threat Model</a>
    <a href="docs/Appendix-E_Government_Pitch_Deck.md" target="_blank">Appendix E â€” Pitch Deck</a>
    <a href="docs/Appendix-F_High_School_Level_Explanation_of_the_NOVAK_PROTOCOL.md" target="_blank">Appendix F â€” High School Explanation</a>

    <div class="dropdown-divider"></div>

    <!-- Legal -->
    <a href="docs/LICENSE-NOVAK.txt" target="_blank">LICENSE-NOVAK</a>
    <a href="docs/SECURITY.md" target="_blank">SECURITY.md</a>
  </div>
</div>
  
</header>

<!-- âœ… MOBILE DROPDOWN -->
<div id="mobileMenuPanel">
  <button class="theme-toggle" onclick="toggleTheme()">Light/Dark Mode</button>
</div>

  <!-- ====================================================== -->
<!-- â­ 60-SECOND NOVAK OVERVIEW â€” COLLAPSIBLE -->
<!-- ====================================================== -->
<details class="novak-collapse" style="margin-top:32px;">
  <summary style="cursor:pointer; font-size:20px; padding:14px 0;">
    â±ï¸ 60-Second NOVAK Overview (For Everyone)
  </summary>

  <div class="card" style="padding:26px; margin-top:16px; font-size:16px; line-height:1.6;">

    <h2 style="margin-top:0;">What NOVAK Does â€” In Plain English</h2>
<br>
    <p><strong>NOVAK prevents computers from acting on wrong information.</strong></p>
<br>
    <p>
      Before any automated system â€” VA claims, AI, robots, finance, healthcare â€”
      is allowed to <em>make a decision</em>, NOVAK forces it to prove:
    </p>

    <ul style="margin-left:20px;">
      <li>âœ” The <strong>input</strong> is unchanged</li>
      <li>âœ” The <strong>rule</strong> used is correct</li>
      <li>âœ” The <strong>output</strong> matches that rule</li>
      <li>âœ” Nothing was silently altered, corrupted, or tampered with</li>
    </ul>

    <p style="margin-top:18px;">
      NOVAK is the worldâ€™s first <strong>proof-before-action</strong> system.
    </p>

    <h3 style="margin-top:26px;">Why It Matters</h3>
    <ul style="margin-left:20px;">
      <li>âœ” Stops fraud before it happens</li>
      <li>âœ” Stops automation errors before harm occurs</li>
      <li>âœ” Blocks corrupted data from executing</li>
      <li>âœ” Makes government systems provable and traceable</li>
      <li>âœ” Works in real time, locally, without blockchain</li>
    </ul>

    <p style="margin-top:22px; font-weight:600;">
      NOVAK is the safety layer automation should have had for 50 years.
    </p>

  </div>
</details>

<!-- âœ… MAIN CONTENT START -->
<div class="container">

  <!-- ================================================================ -->
  <!-- âœ… AUDIENCE SELECTOR + WHY NOVAK + WHAT IS NOVAK SECTION         -->
  <!-- ================================================================ -->

  <h2 style="margin-top:24px; margin-bottom:10px;">Choose Your Role or Interest:</h2>

  <!-- Audience Selector -->
  <div id="audienceNav" class="pill-row" style="margin-bottom:16px;">
    <button id="btn-public"     class="aud-btn" onclick="setAudience('public')">ğŸŒ Public</button>
    <button id="btn-government" class="aud-btn" onclick="setAudience('government')">ğŸ› Government</button>
    <button id="btn-investor"   class="aud-btn" onclick="setAudience('investor')">ğŸ’¼ Investor</button>
    <button id="btn-cyber"      class="aud-btn" onclick="setAudience('cyber')">ğŸ›¡ Cybersecurity</button>
    <button id="btn-academic"   class="aud-btn" onclick="setAudience('academic')">ğŸ“ Academic</button>
  </div>

  <!-- Audience messaging output -->
  <div id="audienceContent"
       class="card"
       style="margin-top:0; font-size:16px; line-height:1.55;">
  </div>

<div class="pill-row" style="justify-content:center; margin-top:16px;">
  
  <button id="restoreWhatIsBtn"
    onclick="restoreWhatIsNovakSection()"
    class="restore-btn"
    style="display:inline-flex;">
    ğŸ”„ Show â€œWhat is NOVAK?â€
  </button>
  
    <button id="restoreWhyBtn"
    onclick="restoreWhyNovakSection()"
    class="restore-btn"
    style="display:inline-flex;">
    ğŸ”„ Show â€œWhy NOVAK â€” Why Now?â€
  </button>

  <button id="restoreWhatBtn"
    onclick="restoreWhatChangesSection()"
    class="restore-btn"
    style="display:inline-flex;">
    ğŸ”„ Show â€œWhat Changes With NOVAK?â€
  </button>
</div>

 <!-- WHAT IS NOVAK? (Name + NOT Blockchain/Bitcoin/SSL) -->
  <div id="whatIsNovakCard" class="card" style="margin-top:24px; position:relative;">
    <h2 class="section-title">What is NOVAK?</h2>

    <p style="margin-bottom:10px;">
      <strong>NOVAK</strong> stands for
      <strong>Novak Objective Verification of Autonomous Knowledge</strong>.
      It is a cryptographic â€œgovernorâ€ that forces any automated system to prove integrity
      <em>before</em> it is allowed to act.
    </p>

    <ul style="margin-left:20px; margin-bottom:14px;">
      <li><strong></strong>Humans, AI, or malware cannot silently bypass it.</li>
      <li><strong></strong>Every decision has a math-checkable receipt.</li>
      <li><strong></strong>A small, hardened layer that sits beside existing systems and
          enforces proof-before-action.</li>
    </ul>

    <p style="margin-bottom:8px; font-weight:600;">
      NOVAK is <u>not</u>:
    </p>
    <ul style="margin-left:20px; margin-bottom:6px;">
      <li>âŒ Not a blockchain</li>
      <li>âŒ Not a cryptocurrency or token</li>
      <li>âŒ Not SSL/TLS or a VPN tunnel</li>
      <li>âŒ Not a logging system that only reacts after harm</li>
    </ul>

    <p>
      Instead, NOVAK sits <em>in front</em> of critical actions and demands cryptographic proof that
      <strong>data, rules, and outputs all match</strong> what was approved. If anything is off â€” it refuses
      to execute.
    </p>

    <!-- Close X -->
    <button onclick="dismissWhatIsNovak()"
      style="
        position:absolute;
        top:14px;
        right:14px;
        background:none;
        border:none;
        font-size:20px;
        cursor:pointer;
      "
      aria-label="Hide What is NOVAK section">
      âœ•
    </button>

    <!-- Confirm hide -->
    <button onclick="dismissWhatIsNovak()" class="action-btn" style="margin-top:18px;">
      âœ… Got it â€” Hide
    </button>
  </div>

    <!-- WHY NOVAK â€” WHY NOW? -->
  <div id="whyNovakCard" class="card" style="margin-top:24px; position:relative;">
    <h2 class="section-title">Why NOVAK â€” Why Now?</h2>

    <p>
      Automation now approves mortgages, denies veteransâ€™ benefits, sets insurance rates, steers vehicles,
      recommends surgeries, and moves trillions of dollars â€” often without proof of correctness, legality, or integrity.
    </p>

    <p style="margin-top:12px;">
      NOVAK changes this â€” requiring mathematical proof <strong>before</strong> any automated action occurs.
    </p>

    <ul style="margin-top:12px; margin-left:20px;">
      <li>If data changes â†’ NOVAK detects instantly</li>
      <li>If rule is wrong â†’ NOVAK blocks execution</li>
      <li>If fraud occurs â†’ NOVAK produces evidence</li>
      <li>If system glitches â†’ NOVAK prevents harm</li>
    </ul>

    <p style="margin-top:14px; font-weight:600;">
      No blockchain. No cryptocurrency. No SSL/TLS tunnel. No central authority. Just cryptographic
      proof-before-action execution integrity.
    </p>

    <!-- Close X -->
    <button onclick="dismissWhyNovak()"
      style="
        position:absolute;
        top:14px;
        right:14px;
        background:none;
        border:none;
        font-size:20px;
        cursor:pointer;
      "
      aria-label="Hide Why NOVAK section">
      âœ•
    </button>

    <!-- Confirm hide -->
    <button onclick="dismissWhyNovak()" class="action-btn" style="margin-top:18px;">
      âœ… Got it â€” Hide
    </button>
  </div>

 <!-- WHAT CHANGES WITH NOVAK -->
  <div id="whatChangesCard" class="card" style="margin-top:32px; position:relative;">
    <h2 class="section-title">What Changes With NOVAK?</h2>

    <p>
      Most systems today rely on logging <strong>after</strong> something already happened.
      NOVAK requires proof <strong>before</strong> action.
    </p>

    <div style="margin-top:14px;">
      <p style="color:var(--red); font-weight:600; margin-bottom:6px;">âŒ Without NOVAK</p>
      <p style="margin-bottom:14px;">
        System executes even if data is wrong â€” Hash exists but cannot stop harm â€” Fraud discovered weeks or years later â€”
        No mathematical guarantee of legality â€” Human trust required.
      </p>

      <p style="color:var(--green); font-weight:600; margin-bottom:6px;">âœ… With NOVAK</p>
      <p>
        Proof required before action â€” Data, rules &amp; output cryptographically bound â€”
        Fraud blocked instantly â€” Evidence auto-generated â€”
        Trust replaced with math.
      </p>
    </div>

    <!-- Close X -->
    <button onclick="dismissWhatChanges()"
      style="
        position:absolute;
        top:14px;
        right:14px;
        font-size:20px;
        background:none;
        border:none;
        cursor:pointer;
      "
      aria-label="Hide What Changes With NOVAK">
      âœ•
    </button>

    <!-- Confirm hide -->
    <button class="action-btn" onclick="dismissWhatChanges()" style="margin-top:18px;">
      âœ… Got it â€” Hide
    </button>
  </div>

   <!-- EXPLAINER BUTTONS -->
  <div style="margin-top:26px;" class="pill-row">
    <button class="pill-btn explain-btn" onclick="showExplain('simple')">ğŸ¤¯ I don't get it</button>
    <button class="pill-btn explain-btn" onclick="showExplain('milkshake')">ğŸ¥¤ Milkshake Analogy</button>
    <button class="pill-btn explain-btn" onclick="showExplain('pencil')">ğŸ–ï¸ Pencil Analogy</button>
    <button class="pill-btn explain-btn" onclick="showExplain('key')">ğŸ”‘ Key Analogy</button>
    <button class="pill-btn explain-btn" onclick="showExplain('gov')">ğŸ› Federal Savings</button>
    <button class="pill-btn explain-btn" onclick="showExplain('how')">ğŸ‘ï¸ How This Works</button>
  </div>

</div>
  <!-- ANALOGY OUTPUT -->
  <div id="explainerOutput" class="card" style="display:none; margin-top:22px;"></div>

   <!-- ==================================================================== -->
  <!--  END OF PART 1 â€” NEXT MESSAGE (PART 2) STARTS WITH TRY-IT HASH AREA  -->
  <!-- ==================================================================== -->

    <!-- ==================remothis?======= -->
<!-- âœ… STORY PANEL -->
<div id="storyPanel"
     class="card"
     style="display:none; margin-top:20px; font-size:15px; line-height:1.6;">
</div>

    <!-- ==================remothisE======= -->

<!-- Moved this here -->
</div>

<!-- =============================================== -->
<!--  COLLAPSIBLE â€” ENGINEERS / CRYPTOGRAPHERS AREA -->
<!-- =============================================== -->

<details class="novak-collapse" style="margin-top:38px;">
  <summary 
    style="cursor:pointer; 
           padding:14px 22px; 
           border:2px solid #d0d7de; 
           border-radius:10px; 
           font-size:18px; 
           display:inline-block;
           transition:0.2s;">
    ğŸ”§ Show â€œFor Engineers, Cryptographers & Auditorsâ€
  </summary>

  <div class="card" style="margin-top:22px; padding:24px;">

    <h2 style="font-size:26px; margin-bottom:18px;">
      For Engineers, Cryptographers & Auditors
    </h2>

    <p>
      Want to see exactly how NOVAK binds 
      <strong>input â†’ rules â†’ output â†’ receipt</strong>?  
      This section links directly into the full standards and threat models.
    </p>

    <ul style="margin-top:18px; line-height:1.6;">
      <li><strong>Cryptography 101</strong>: hashes, HVET, EIR, and RGAC explained in plain engineering terms</li>
      <li><strong>Standards SP-1â€“SP-8</strong>: execution integrity, HVET/EIR/RGAC, conformance & adoption</li>
      <li><strong>Threat Models NTM-1â€“NTM-3</strong>: internal, AI/automation, and adversarial drift models</li>
      <li><strong>Adversarial Test Suites & Appendices</strong>: prompt libraries, gradient vectors, multilingual ambiguity matrices</li>
    </ul>

    <div style="margin-top:24px; display:flex; flex-wrap:wrap; gap:12px;">

      <a href="#"
         style="padding:12px 18px; background:#edf2ff; border-radius:8px; 
                text-decoration:none; border:1px solid #c7d1ff;">
         ğŸ” Cryptography 101 â†’ Hashes & HVET
      </a>

      <a href="#"
         style="padding:12px 18px; background:#edf2ff; border-radius:8px; 
                text-decoration:none; border:1px solid #c7d1ff;">
         ğŸ“˜ NOVAK Standards (SP-1â€“SP-8)
      </a>

      <a href="https://github.com/novakprotocol"
         target="_blank"
         style="padding:12px 18px; background:#edf2ff; border-radius:8px; 
                text-decoration:none; border:1px solid #c7d1ff;">
         ğŸ“ Full GitHub Repository
      </a>

    </div>
</details>

<!-- âœ… PART 2 â€” Try It + Hash Engine + Example Data + File Drop + VIN + Games -->

<!-- =============================================== -->
<!-- âœ… COLLAPSIBLE TEST EXAMPLE â€” PREMIUM EDITION -->
<!-- =============================================== -->

<details class="novak-collapse" style="margin-top:32px;">
  <summary style="cursor:pointer; font-size:18px; padding:12px 0;">
    ğŸ§ª TEST Example â€” Click to Expand
  </summary>

  <div class="card" style="padding:28px; margin-top:14px;">

    <!-- ================================================= -->
    <!-- Title + BASIC / EXPERT toggle -->
    <!-- ================================================= -->

    <div style="display:flex; justify-content:space-between; align-items:center;">
      <h2 class="section-title" style="font-size:24px;">TEST Example</h2>

      <button id="modeToggle"
        onclick="toggleHashMode()"
        style="padding:6px 14px; border:1px solid var(--border); 
               border-radius:8px; cursor:pointer; background:var(--card);">
        ğŸ”° Expert View
      </button>
    </div>

    <p style="margin-top:8px; font-size:16px; line-height:1.6;">
      If you type <strong>TEST</strong> (all caps) below example datasets, NOVAK produces the following results.
      Change one letter and everything changes â€” the <em>avalanche effect</em>.
    </p>


    <!-- ================================================= -->
    <!-- MAIN SHA-256 EXAMPLE -->
    <!-- ================================================= -->

    <div style="margin-top:26px;">
      <strong style="font-size:17px;">TEST â†’ SHA-256</strong>

      <div class="hash-box">
        <span class="hash-value">
          94ee059335e587e501cc4bf90613e0814f00a7b08bc7c648fd865a2af6a22c2
        </span>
        <button class="copy-btn" onclick="copyHash(this)">ğŸ“‹</button>
      </div>

      <div class="hash-meta">
        <span>ğŸ”¢ 64 hex chars</span>
        <span>ğŸ“ 256 bits</span>
        <span>âš™ï¸ SHA-256</span>
      </div>
    </div>

    <!-- ================================================= -->
    <!-- VARIANTS THAT SHOW AVALANCHE EFFECT -->
    <!-- ================================================= -->

    <p style="margin-top:26px; font-weight:600; font-size:16px;">
      Change one letter â€” watch the avalanche effect:
    </p>

    <div class="variant-block">
      <strong>Test â†’</strong>
      <div class="hash-box hash-warn">
        <span class="hash-value">
          532eaabd9574880dbf76b9b8cc00832c20a6ec113d682299550d7a6e0f345e25
        </span>
        <button class="copy-btn" onclick="copyHash(this)">ğŸ“‹</button>
      </div>
    </div>

    <div class="variant-block">
      <strong>test â†’</strong>
      <div class="hash-box hash-warn">
        <span class="hash-value">
          9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08
        </span>
        <button class="copy-btn" onclick="copyHash(this)">ğŸ“‹</button>
      </div>
    </div>

    <div class="variant-block">
      <strong>tEsT â†’</strong>
      <div class="hash-box hash-warn">
        <span class="hash-value">
          876c5e143c421959adff3ed91b82556c433a279b6369e70592d2c9dc73455ce
        </span>
        <button class="copy-btn" onclick="copyHash(this)">ğŸ“‹</button>
      </div>
    </div>

    <!-- ================================================= -->
    <!-- EXPERT MODE: MULTI-HASH COMPARISON -->
    <!-- ================================================= -->

    <div id="expertPanel" style="display:none; margin-top:34px;">
      <h3 style="margin-bottom:12px;">ğŸ”¬ Multi-Algorithm Comparison</h3>

      <p>Select an algorithm below:</p>

      <div style="display:flex; gap:12px; margin-top:10px;">
        <button class="pill-btn" onclick="showAlgo('sha256')">SHA-256</button>
        <button class="pill-btn" onclick="showAlgo('sha512')">SHA-512</button>
        <button class="pill-btn" onclick="showAlgo('sha384')">SHA-384</button>
        <button class="pill-btn" onclick="showAlgo('sha3')">SHA-3-256</button>
      </div>

      <div id="algoResult" style="margin-top:20px;"></div>
    </div>

    <!-- ================================================= -->
    <!-- Animated Avalanche Demo -->
    <!-- ================================================= -->

    <div style="margin-top:42px;">
      <h3>âš¡ Avalanche Effect Visualizer</h3>
      <p style="margin-bottom:8px;">Click to flip one bit and watch the entire hash explode.</p>

      <button onclick="runAvalanche()" style="padding:10px 18px; border-radius:8px; border:1px solid var(--border); cursor:pointer;">
        ğŸ”¥ Flip 1 Bit
      </button>

      <pre id="avalancheOutput"
           style="margin-top:14px; padding:14px; background:var(--card);
                  border:1px solid var(--border); font-family:'JetBrains Mono';
                  min-height:80px; white-space:pre-wrap;"></pre>
    </div>

  </div>
</details>

<!-- ======================================================= -->
<!-- â­ NOVAK SHA EDUCATION SUITE â€” SINGLE EXPANDABLE MODULE -->
<!-- ======================================================= -->

<details class="novak-collapse" style="margin-top:32px;">
  <summary style="cursor:pointer; font-size:18px; padding:12px 0;">
    ğŸ” NOVAK SHA Knowledge Center â€” Simple â†’ Deep â†’ Interactive â†’ Technical â†’ Diagrams â†’ NOVAK Use
  </summary>

  <div class="card" style="padding:26px; margin-top:16px; font-size:16px; line-height:1.6;">

    <!-- =================================================== -->
    <!-- 1. SIMPLE EXPLANATION -->
    <!-- =================================================== -->
    <h2 style="margin-top:0;">ğŸŸ¦ 1. SHA Explained (Simple Terms)</h2>

    <p>
      <strong>SHA</strong> stands for <strong>Secure Hash Algorithm</strong>.
      Think of it like putting information into a magic blender:
    </p>

    <pre class="diagram-box">
INPUT  â†’  [ SHA Blender ]  â†’  UNIQUE OUTPUT
    </pre>

    <p>
      You can put in:
      <br>â€¢ A word  
      â€¢ A VA claim  
      â€¢ A VIN  
      â€¢ A PDF  
      â€¢ A medical note  
      â€¢ A whole book
    </p>

    <p>
      SHA turns it all into a <strong>64 hex character one-way fingerprint</strong>.
    </p>

    <p style="font-weight:600;">
      Change even ONE letter â†’ the entire fingerprint becomes totally different.
    </p>

    <p>
      One tiny change gives a totally different fingerprint.  
      This is how NOVAK spots invisible tampering.
    </p>
    
<!-- ====================================================== -->
<!-- 2. CLICKABLE DEFINITIONS -->
<!-- ====================================================== -->

<details class="sub-collapse">
  <summary>ğŸ”¢ What is â€œ64 hex charactersâ€?</summary>
  <div class="sub-card">
    <p>
      A SHA-256 hash is 64 characters long, using digits 0â€“9 and letters aâ€“f.
      These represent 256 bits of mathematical output.
    </p>
  </div>
</details>

<details class="sub-collapse">
  <summary>ğŸ“ What are â€œ256 bitsâ€?</summary>
  <div class="sub-card">
    <p>
      â€œBitsâ€ measure information.  
      256 bits is astronomically large â€” impossible to brute force.
    </p>
  </div>
</details>

<details class="sub-collapse">
  <summary>âš™ï¸ What is SHA-256?</summary>
  <div class="sub-card">
    <p>
      SHA-256 is the most widely trusted secure hash in government, banking,  
      healthcare, cybersecurity, and NOVAK.
    </p>
  </div>
</details>   <!-- âœ… THIS WAS MISSING -->

<!-- =================================================== -->
<!-- 2. SHA FAMILY OVERVIEW WITH COLOR CODE -->
<!-- =================================================== -->
<hr style="margin:26px 0; opacity:0.35;">

<h2>ğŸŸª 2. The SHA Family (Versions & Security)</h2>

<p>
  SHA has several generations â€” from old and unsafe to modern and secure:
</p>

<div class="sha-table">

  <div class="sha-row">
    <div class="sha-name sha-broken">SHA-1</div>
    <div class="sha-desc">âŒ Broken â€” collisions discovered (never use)</div>
  </div>

  <div class="sha-row">
    <div class="sha-name sha-good">SHA-256</div>
    <div class="sha-desc">âœ… Modern standard â€” fast, secure, widely approved</div>
  </div>

  <div class="sha-row">
    <div class="sha-name sha-good">SHA-384</div>
    <div class="sha-desc">ğŸ” DoD Suite-B ECC-384 cryptography</div>
  </div>

      <div class="sha-row">
        <div class="sha-name sha-good">SHA-512</div>
        <div class="sha-desc">ğŸ”’ Strongest SHA-2 variant (512-bit state)</div>
      </div>

      <div class="sha-row">
        <div class="sha-name sha-new">SHA-3</div>
        <div class="sha-desc">ğŸ§ª Newest generation (Keccak sponge function)</div>
      </div>

    </div>

    <!-- =================================================== -->
    <!-- 3. REAL-WORLD USAGE MAP -->
    <!-- =================================================== -->
    <hr style="margin:26px 0; opacity:0.35;">

    <h2>ğŸŸ© 3. Where SHA Is Used in Real Life</h2>

<pre class="diagram-box">
VA / Federal Agencies     â†’ SHA-256
Healthcare Systems        â†’ SHA-256
Banking & IRS             â†’ SHA-256 / SHA-512
TLS / HTTPS Certificates  â†’ SHA-256 / SHA-384
DoD / Nat. Security       â†’ SHA-384
Bitcoin                   â†’ SHA-256
Ethereum                  â†’ Keccak (SHA-3 family)
</pre>

<p>
  SHA protects websites, banking, federal systems, medical systems,
  military communications, blockchain, and your everyday devices.
</p>

<details class="sub-collapse" style="margin-top:32px;">
  <summary>ğŸ“Š SHA vs MD5 vs CRC (Click to Compare)</summary>
  <div class="sub-card">
<pre>
ALGORITHM | SECURITY     | USE TODAY
----------|--------------|----------------------
CRC32     | âŒ None       | File transfers only
MD5       | âŒ Broken     | Legacy checks
SHA-256   | âœ… Strong     | NOVAK, VA, DoD, banking
SHA-3     | ğŸ§ª New       | Crypto research, Ethereum
</pre>
  </div>
</details>

    </pre>

    <!-- =================================================== -->
    <!-- 4. TECHNICAL BREAKDOWN -->
    <!-- =================================================== -->
    <hr style="margin:26px 0; opacity:0.35;">

    <h2>ğŸ§  4. Technical Breakdown (For Engineers & Auditors)</h2>

    <pre class="diagram-box">
Algorithm: SHA-256  
Output:    256-bit digest  
Length:    64 hex characters  
Speed:     Hardware accelerated (Intel / AMD / ARM)  
FIPS:      Approved (FIPS 180-4)
Use:       Integrity, digital signatures, decision-gating
    </pre>

    <p>
      SHA-256 is collision-resistant:  
      <strong>No one can create two different documents with the same hash.</strong>
    </p>

    <!-- =================================================== -->
    <!-- 5. AVALANCHE EFFECT -->
    <!-- =================================================== -->
    <hr style="margin:26px 0; opacity:0.35;">

    <h2>âš¡ 5. Avalanche Effect (Why SHA Is Powerful)</h2>

    <pre class="diagram-box">
"TEST" â†’ 94ee0593...
"TeST" â†’ 8d3b72f1...
"test" â†’ 9f86d081...

ONE tiny change â†’ COMPLETELY different hash.
    </pre>

    <p>
      This makes SHA able to catch invisible tampering that humans cannot see.
    </p>

    <!-- =================================================== -->
    <!-- 6. WHY NOVAK USES SHA-256 -->
    <!-- =================================================== -->
    <hr style="margin:26px 0; opacity:0.35;">

    <h2>ğŸ”µ 6. Why NOVAK Chooses SHA-256</h2>

    <p>NOVAK uses <strong>SHA-256</strong> because it is:</p>

    <ul style="margin-left:20px;">
      <li>âœ” FIPS-approved and federally recognized</li>
      <li>âœ” Supported natively in WebCrypto (no server required)</li>
      <li>âœ” Resistant to collisions and tampering</li>
      <li>âœ” Hardware-accelerated on all major CPUs</li>
      <li>âœ” Fast enough for real-time execution-gating</li>
      <li>âœ” Trusted across VA, DoD, banking, and security</li>
    </ul>

    <p style="margin-top:12px; font-weight:600;">
      In a full NOVAK deployment:<br>
      <strong>No system may ACT unless SHA-256 proves the data is unchanged.</strong>
    </p>

    <!-- =================================================== -->
    <!-- 7. WHY NOVAK IS MODULAR (NEW SECTION) -->
    <!-- =================================================== -->
    <hr style="margin:26px 0; opacity:0.35;">

    <h2>ğŸŒ€ 7. Why NOVAK Is Modular (Hash-Agnostic Architecture)</h2>

    <p>
      NOVAK is not â€œlockedâ€ to SHA-256.  
      It is built as a <strong>modular cryptographic system</strong> where the hashing engine is 
      a plug-and-play component.
    </p>

    <p>
      This means NOVAK can instantly switch to:
    </p>

    <ul style="margin-left:20px;">
      <li>ğŸ”¹ SHA-256 (default)</li>
      <li>ğŸ”¹ SHA-384 (DoD Suite-B compatibility)</li>
      <li>ğŸ”¹ SHA-512 (high-security environments)</li>
      <li>ğŸ”¹ SHA-3-256 (Keccak â€” next-generation hashing)</li>
      <li>ğŸ”¹ Any future NIST-approved algorithm</li>
    </ul>

    <p>
      NOVAKâ€™s laws (<strong>L0â€“L15</strong>) never reference a specific hash function.
      They only require:
    </p>

    <pre class="diagram-box">
"Use a federally-approved, collision-resistant function."
    </pre>

    <p>
      Because of this:
    </p>

    <ul style="margin-left:20px;">
      <li>âœ” NOVAK remains future-proof</li>
      <li>âœ” Agencies can choose the hash that fits their policy</li>
      <li>âœ” Changing the hash does NOT change the NOVAK workflow</li>
      <li>âœ” Hardware acceleration stays fully supported</li>
    </ul>

    <p style="font-weight:600; margin-top:14px;">
      NOVAKâ€™s integrity model stays the same â€” only the math block swaps.
    </p>

<!-- =================================================== -->
<!-- 8. HOW NOVAK USES SHA DIFFERENTLY (THE GATE MODEL) -->
<!-- =================================================== -->
<hr style="margin:26px 0; opacity:0.35;">

<h2>ğŸ›¡ï¸ 8. How NOVAK Uses SHA Differently (SHA â†’ Gate Instead of Log)</h2>

<p>
  SHA today is used mostly as a <strong>log</strong> â€” a way to record what happened.
  NOVAK transforms SHA into a <strong>gate</strong> â€” a way to decide what is
  <em>allowed</em> to happen.
</p>

<p style="margin-top:12px; font-weight:600;">
  This single shift is why NOVAK stops invisible tampering while
  todayâ€™s systems only detect it after harm.
</p>

<!-- =================================================== -->
<!-- 8A. SIMPLE EXPLANATION -->
<!-- =================================================== -->

<details class="sub-collapse" style="margin-top:18px;">
  <summary>ğŸŸ¦ Simple Explanation â€” â€œHow NOVAK Uses SHAâ€</summary>
  <div class="sub-card">
    <p>
      SHA makes a fingerprint of your data.  
      NOVAK uses that fingerprint as a <strong>lock</strong>.
    </p>

    <p>
      If <strong>anything</strong> changes â€” even a single character â€”
      the fingerprint changes.
    </p>

    <p style="font-weight:600;">
      NOVAK checks the fingerprint BEFORE the system is allowed to act.
    </p>

    <ul style="margin-left:20px;">
      <li>âœ” If input is unchanged â†’ action allowed</li>
      <li>âœ” If rule is unchanged â†’ action allowed</li>
      <li>âœ” If output matches â†’ action allowed</li>
      <li>âŒ If ANYTHING changes â†’ NOVAK refuses execution</li>
    </ul>

    <p style="margin-top:10px; font-weight:600;">
      SHA becomes a <strong>gatekeeper</strong>, not a passive log.
    </p>
  </div>
</details>

<!-- =================================================== -->
<!-- 8B. TECHNICAL EXPLANATION -->
<!-- =================================================== -->

<details class="sub-collapse" style="margin-top:18px;">
  <summary>ğŸ§  Deep Technical Explanation â€” â€œHow NOVAK Uses SHA Architecturallyâ€</summary>
  <div class="sub-card">
    <p>
      Traditional systems compute hashes for:
      <br>â€¢ logging  
      â€¢ storage integrity  
      â€¢ file verification  
      â€¢ blockchain syncing  
    </p>

    <p style="margin-top:10px;">
      But these hashes are <strong>not enforced before execution</strong>.
      Systems run even if data changed, hashes mismatch, or corruption occurred.
    </p>

    <p style="margin-top:12px; font-weight:600;">
      NOVAK introduces a cryptographic enforcement layer:
    </p>

<pre class="diagram-box" style="white-space:pre; text-align:center;">
INPUT + RULE + EXPECTED OUTPUT
          â”‚
      [ SHA-256 ]
          â†“
   HVET / EIR Receipt
          â†“
NOVAK GATE (Allow? Block?)
</pre>

    <ul style="margin-left:20px; margin-top:14px;">
      <li>âœ” Fingerprint must match EXACTLY</li>
      <li>âœ” Input, rule, and output must all bind together</li>
      <li>âœ” EIR receipt must match previous approved truth</li>
      <li>âœ” If ANY element differs â†’ NOVAK blocks execution</li>
    </ul>

    <p style="margin-top:14px;">
      This creates <strong>deterministic, cryptographically provable execution</strong>.
    </p>
  </div>
</details>

<!-- =================================================== -->
<!-- 8C. DIAGRAM â€” SHA TODAY vs NOVAK -->
<!-- =================================================== -->

<h3 style="margin-top:26px; font-size:20px; text-align:center;">
ğŸ“Š SHA Today vs NOVAK â€” Side-By-Side
</h3>

<pre class="diagram-box" style="white-space:pre; text-align:center;">
SYSTEM               | WHEN CHECKS OCCUR | WHAT IT GUARANTEES     | CAN IT STOP BAD ACTION?
---------------------|-------------------|-------------------------|--------------------------
SHA Today (Typical)  | After action      | Integrity record        | âŒ No
TLS / SSL            | During transit    | Encryption only         | âŒ No
Logging / SIEM       | After action      | Audit trail             | âŒ No
Blockchain           | After action      | Ledger correctness      | âŒ No

NOVAK Protocol       | BEFORE action     | Input=Rule=Output match | âœ… YES
</pre>

<p style="margin-top:16px;">
  NOVAK is the <strong>first system</strong> to use SHA as a <em>pre-execution cryptographic gate</em>.
</p>

<!-- =================================================== -->
<!-- 8D. WHY THIS ISN'T DONE TODAY -->
<!-- =================================================== -->

<h3 style="margin-top:32px; font-size:20px;">â“ Why Isnâ€™t This Already Being Done?</h3>

<ul style="margin-left:20px; margin-top:8px; line-height:1.6;">
  <li>â€¢ Legacy systems only verify <strong>after</strong> execution (logging model)</li>
  <li>â€¢ No existing standard mandates proof-before-action</li>
  <li>â€¢ Most agencies rely on â€œtrust the system,â€ not â€œprove correctnessâ€</li>
  <li>â€¢ Hash checks are usually optional â€” not enforced at the execution layer</li>
</ul>

<p style="margin-top:12px; font-weight:600;">
  NOVAK changes this permanently by making proof a <strong>mandatory precondition</strong>  
  for automated action.
</p>

<!-- =================================================== -->
<!-- 8E. THE ENTIRE DIFFERENCE SUMMARIZED -->
<!-- =================================================== -->

<h3 style="margin-top:26px; font-size:20px;">ğŸ”‘ The Entire Difference in One Sentence</h3>

<p style="font-weight:700; font-size:17px; margin-top:10px;">
  <strong>SHA today tells you what happened.</strong><br>
  <strong>NOVAK uses SHA to decide what is allowed to happen.</strong>
</p>
 
  </div>
</details>

<!-- ======================================================= -->
<!-- STYLES for HASH BOXES, META, BUTTONS, WARN STATES -->
<!-- ======================================================= -->
<style>
.hash-box {
  margin-top:6px;
  background: var(--card);
  border: 1px solid var(--border);
  padding: 12px 14px;
  border-radius: 8px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 14px;
  position: relative;
  word-break: break-all;
  transition: 0.2s;
}

.hash-box:hover { border-color: var(--blue); }

.hash-warn { border-color:#d65f5f !important; }

.hash-meta {
  margin-top:6px;
  font-size:12px;
  opacity:0.65;
  display:flex;
  gap:16px;
}

.copy-btn {
  position:absolute;
  top:6px;
  right:6px;
  padding:2px 6px;
  font-size:13px;
  border:1px solid var(--border);
  border-radius:6px;
  background:var(--bg);
  cursor:pointer;
}

.copy-btn:hover {
  background:var(--blue);
  color:white;
}

.variant-block { margin-top:20px; }

</style>

<!-- ======================================================= -->
<!-- JAVASCRIPT: COPY, MODE TOGGLE, AVA/COMPARE -->
<!-- ======================================================= -->

<script>

// Copy only the hash (NOT the button)
function copyHash(btn) {
  const text = btn.parentElement.querySelector(".hash-value").innerText.trim();
  navigator.clipboard.writeText(text);
  btn.innerText = "âœ”ï¸";
  setTimeout(() => btn.innerText = "ğŸ“‹", 900);
}

// BASIC <-> EXPERT mode toggle
function toggleHashMode() {
  const panel = document.getElementById("expertPanel");
  const btn = document.getElementById("modeToggle");

  if (panel.style.display === "none") {
    panel.style.display = "block";
    btn.innerText = "ğŸŸ¦ Basic View";
  } else {
    panel.style.display = "none";
    btn.innerText = "ğŸ”° Expert View";
  }
}

// Multi-algorithm comparison output
const exampleInput = "TEST";

function showAlgo(algo) {
  let output = "";

  const hashes = {
    sha256: "94ee059335e587e501cc4bf90613e0814f00a7b08bc7c648fd865a2af6a22c2",
    sha512: "cd73502828457d15655bbd7a35d7c30bae43dfb697b86dd80b068cf1e95ce47e...",
    sha384: "7699bdffbb0f7cba4dcdcb2960b8a03fc8f179f1dc93b4bc1d6510c2eec1a7fa2d...",
    sha3:   "36f7b0df4ea8a04de7cdf46fa4591bbd19d1ba4e6c8cd133673e8386bb12d22b"
  };

  output = `
<strong>${algo.toUpperCase()}</strong>
<div class="hash-box">
  <span class="hash-value">${hashes[algo]}</span>
  <button class="copy-btn" onclick="copyHash(this)">ğŸ“‹</button>
</div>`;

  document.getElementById("algoResult").innerHTML = output;
}

// Avalanche visualizer
function runAvalanche() {
  const original = "94ee059335e587e501cc4bf90613e0814f00a7b08bc7c648fd865a2af6a22c2";
  const mutated = original.replace(/0/, "1"); // flip a single bit visually

  const result = `
Original:
${original}

After flipping 1 bit:
${mutated}

â†’ Entire hash changed.
`;

  document.getElementById("avalancheOutput").innerText = result;
}

/* ========================================================= */
/* MODE 1 â€” LIVE HASHING                                     */
/* ========================================================= */
async function computeSHA(text) {
  const enc = new TextEncoder().encode(text);
  const buf = await crypto.subtle.digest("SHA-256", enc);
  return Array.from(new Uint8Array(buf))
      .map(b => b.toString(16).padStart(2, "0"))
      .join("");
}

document.getElementById("expertInput").addEventListener("input", async e => {
  const hash = await computeSHA(e.target.value);
  document.getElementById("expertHash").textContent = "SHA-256 â†’ " + hash;
  updateDigestOutputs(hash);
});

/* ========================================================= */
/* MASTER HASH ENGINE â€” updateHashes()                       */
/* ========================================================= */

async function updateHashes() {

  const input = document.getElementById("novakInput").value.trim();
  const output = document.getElementById("hashOutputList");

  if (!input) {
    output.innerHTML = "<em>Waiting for input from above...</em>";
    return;
  }

  const selected = [...document.querySelectorAll('.hashAlgo')]
    .filter(c => c.checked)
    .map(c => c.value);

  let html = "";
  let sha256Hash = null;
  let sha384Hash = null;
  let sha512Hash = null;
  let sha3Hash  = null;

  // SHA-256 -----------------------------------------------------
  if (selected.includes("SHA-256")) {
    const h = await crypto.subtle.digest("SHA-256", new TextEncoder().encode(input));
    sha256Hash = [...new Uint8Array(h)].map(b=>b.toString(16).padStart(2,"0")).join("");
    html += `<div>SHA-256 â†’ <strong>${sha256Hash}</strong></div>`;
  }

  // SHA-384 -----------------------------------------------------
  if (selected.includes("SHA-384")) {
    const h = await crypto.subtle.digest("SHA-384", new TextEncoder().encode(input));
    sha384Hash = [...new Uint8Array(h)].map(b=>b.toString(16).padStart(2,"0")).join("");
    html += `<div>SHA-384 â†’ <strong>${sha384Hash}</strong></div>`;
  }

  // SHA-512 -----------------------------------------------------
  if (selected.includes("SHA-512")) {
    const h = await crypto.subtle.digest("SHA-512", new TextEncoder().encode(input));
    sha512Hash = [...new Uint8Array(h)].map(b=>b.toString(16).padStart(2,"0")).join("");
    html += `<div>SHA-512 â†’ <strong>${sha512Hash}</strong></div>`;
  }

  // SHA3-256 (client-side JS lib) -------------------------------
  if (selected.includes("SHA3-256")) {
    if (typeof sha3_256 === "function") {
      sha3Hash = sha3_256(input);
      html += `<div>SHA3-256 â†’ <strong>${sha3Hash}</strong></div>`;
    } else {
      html += `<div>SHA3-256 â†’ <em>sha3_256() not loaded</em></div>`;
    }
  }

  // OUTPUT HASHES
  output.innerHTML = html;

  // =============================================================
  // STORE HASHES FOR RECEIPT + JSON + QR
  // =============================================================
  window.lastHashes = {
    sha256: sha256Hash,
    sha384: sha384Hash,
    sha512: sha512Hash,
    sha3_256: sha3Hash
  };

  // HVET placeholder (first 16 chars of SHA-256)
  window.hvetValue = sha256Hash ? sha256Hash.substring(0,16) : null;

  // If auto-verify enabled â†’ update RGAC + status
  if (document.getElementById("autoVerifyToggle").checked) {
    updateAutoVerify();
  }
}

/* ========================================================= */
/* MODE 2 â€” DIGEST VIEWER                                    */
/* ========================================================= */
let currentDigest = "";

function updateDigestOutputs(hex) {
  currentDigest = hex;
  showDigestFormat("hex");
}

function showDigestFormat(type) {
  if (!currentDigest) return;

  if (type === "hex") {
    document.getElementById("digestOutput").textContent = currentDigest;
  }

  if (type === "binary") {
    document.getElementById("digestOutput").textContent =
      currentDigest.split("")
        .map(c => parseInt(c, 16).toString(2).padStart(4, "0"))
        .join("");
  }

  if (type === "base64") {
    const bytes = currentDigest.match(/.{2}/g).map(x => parseInt(x, 16));
    const bin = new Uint8Array(bytes);
    document.getElementById("digestOutput").textContent =
      btoa(String.fromCharCode(...bin));
  }
}

/* ========================================================= */
/* MODE 3 â€” HEATMAP                                          */
/* ========================================================= */
async function computeHeatmap() {
  const a = document.getElementById("heatA").value;
  const b = document.getElementById("heatB").value;
  const hA = await computeSHA(a);
  const hB = await computeSHA(b);

  const bitsA = hexToBits(hA);
  const bitsB = hexToBits(hB);

  const heatEl = document.getElementById("heatmap");
  heatEl.innerHTML = "";

  for (let i = 0; i < bitsA.length; i++) {
    const cell = document.createElement("div");
    cell.className = bitsA[i] === bitsB[i] ? "bit-same" : "bit-diff";
    heatEl.appendChild(cell);
  }
}

function hexToBits(hex) {
  return hex.split("")
    .map(h => parseInt(h, 16).toString(2).padStart(4, "0"))
    .join("")
    .split("");
}

/* ========================================================= */
/* MODE 4 â€” AVALANCHE ANIMATION                              */
/* ========================================================= */
async function startAvalanche() {
  const input = document.getElementById("avalancheInput").value;
  const out = document.getElementById("avalancheFrame");
  out.textContent = "";

  let frame = input;

  for (let i = 0; i < 20; i++) {
    const hash = await computeSHA(frame);
    out.textContent += `Frame ${i+1} â†’ ${hash}\n`;
    frame = hash; // chain hashing
    await new Promise(r => setTimeout(r, 40));
  }
}

  
</script>

</details>

<!-- =============================================== -->
<!-- âœ… COLLAPSIBLE EXAMPLE DATASETS (DEFAULT CLOSED) -->
<!-- =============================================== -->

<details class="novak-collapse" style="margin-top:22px;">
  <summary style="cursor:pointer; font-size:18px; padding:12px 0;">
    ğŸ“‚ Example Datasets â€” Click to Expand
  </summary>

  <div class="card" style="padding:22px; margin-top:12px;">
    <h3 class="section-title" style="font-size:20px;">Example Datasets</h3>

    <p style="margin-top:6px; font-size:14px;">
      Select a dataset below â€” it instantly loads into the input below so you can hash it locally.
    </p>

    <div class="pill-row" style="margin-top:16px; display:flex; flex-wrap:wrap; gap:14px;">
      <button class="pill-btn" onclick="loadExample('va')">ğŸ–ï¸ VA Disability Claim</button>
      <button class="pill-btn" onclick="loadExample('finance')">ğŸ’° Financial Transaction</button>
      <button class="pill-btn" onclick="loadExample('robot')">ğŸ¤– Robotics Command</button>
      <button class="pill-btn" onclick="loadExample('ai')">ğŸ§  System Log</button>
      <button class="pill-btn" onclick="loadExample('legal')">âš–ï¸ Legal Filing</button>
    </div>
  </div>
</details>

  
  <textarea id="novakInput"
    placeholder="Example: VA claim, invoice, VIN, contract, JSON, SQL, XML..."
    style="width:100%; height:170px; margin-top:16px; font-family:'JetBrains Mono', monospace;
           font-size:14px; padding:12px;"></textarea>

  <!-- âœ… Hash Algorithm Selector -->
  <div style="margin-top:16px; display:flex; flex-wrap:wrap; gap:18px;">
    <label><input type="checkbox" class="hashAlgo" value="SHA-256" checked> SHA-256</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA-512"> SHA-512</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA-384"> SHA-384</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA3-256"> SHA-3-256</label>
  </div>

<p style="margin-top:6px; font-size:13px; opacity:0.85;">
ğŸš«This public demo is for educational purposes only â€” NOT for HIPAA-regulated environments.
  Never use real patients, real claims, or real medical documents here â€” training data only.
  NOVAK does not collect, store, transmit, or retain data, but user responsibility applies.
</p>

</div>
  
<!-- âœ… HASH OUTPUT -->
<div class="card" style="margin-top:22px;">
  <h3 class="section-title" style="font-size:20px;">Cryptographic Hashes</h3>

  <div id="hashOutputList"
       style="margin-top:10px; font-family:'JetBrains Mono', monospace; font-size:14px;">
    <em>Waiting for input from above...</em>
  </div>
</div>

<!-- =============================================== -->
<!-- âœ… AUTO-VERIFICATION TOGGLE + HIDDEN BLOCKS -->
<!-- =============================================== -->

<div class="card" style="margin-top:32px;">
  <label style="display:flex; align-items:center; gap:10px; font-size:16px;">
    <input type="checkbox" id="autoVerifyToggle" onchange="toggleAutoVerify()">
    <strong>Enable Proof-Before-Action Engine (NOVAK Auto-Verification)</strong>
  </label>

  <p style="margin-top:6px; font-size:14px; opacity:0.8;">
    When enabled, NOVAK automatically checks whether any change breaks integrity
    <strong>before</strong> execution.
  </p>

  <!-- ğŸš« HIDDEN UNTIL CHECKED -->
  <div id="autoVerifyBlock" style="display:none; margin-top:20px;">

    <!-- NOVAK AUTO-VERIFICATION -->
    <div class="card" style="padding:20px;">
      <h3 class="section-title" style="font-size:20px;">
        NOVAK Auto-Verification â€” Proof-Before-Action
      </h3>

      <p>
        Modify the text above and NOVAK instantly checks whether the new output
        still matches the last approved cryptographic truth.
      </p>

      <!-- STATUS -->
      <div id="autoVerifyStatus"
           style="margin-top:14px; 
                  font-family:'JetBrains Mono', monospace;
                  font-size:15px;
                  padding:14px;
                  background:var(--card);
                  border:1px solid var(--border);
                  border-radius:8px;">
        Waiting for inputâ€¦
      </div>

      <!-- RGAC -->
      <div class="card" style="margin-top:26px; padding:18px;">
        <h3 class="section-title" style="font-size:20px;">
          RGAC â€” Recursive Global Audit Chain
        </h3>

        <p style="margin-bottom:12px;">
          In NOVAK, every approved output becomes the next input â€” forming a self-verifying integrity chain.
        </p>

        <div id="rgac"
             style="font-family:'JetBrains Mono', monospace;
                    font-size:14px; padding-top:6px;">
          <em>Provide input to beginâ€¦</em>
        </div>
      </div>

      <!-- RECEIPT -->
      <div class="card" style="margin-top:26px; padding:20px;">
        <h2 class="section-title">Integrity Receipt</h2>

        <p>
          NOVAK generates a tamper-proof receipt proving what existed, when, and under what rules â€”
          useful for courts, claims, audits, cybersecurity, safety systems, and AI oversight.
        </p>

        <button class="action-btn" onclick="generateReceipt()" style="margin-top:12px;">
          Generate Receipt
        </button>

<!-- JSON receipt -->
<pre id="receiptOutput"
     style="margin-top:16px;
            font-family:'JetBrains Mono', monospace;
            font-size:14px;
            white-space:pre-wrap;"></pre>

<!-- QR code -->
<div id="qrContainer" 
     style="margin-top:20px; text-align:center;"></div>

<!-- JSON download link -->
<a id="jsonDownloadLink"
   style="margin-top:18px; display:none; text-decoration:underline; cursor:pointer;">
   â¬‡ Download Receipt JSON
</a>

      </div>

    </div><!-- inner NOVAK block -->

  </div><!-- autoVerifyBlock -->

</div><!-- outer wrapper -->

<!-- =============================================== -->
<!-- ğŸ“Œ WHAT CAN I DO WITH THIS HASH? -->
<!-- =============================================== -->

<div class="card" style="margin-top:28px; padding:20px;">
  <details>
    <summary style="cursor:pointer; font-size:18px; font-weight:600;">
    ğŸ“Œ What Can I Actually Do With This Hash?
    </summary>

    <div class="collapse-inner">
<br>
      <p>
        Think of the hash as a <strong>digital fingerprint</strong> â€” a unique, unforgeable identifier
        of the exact text or file you verified.
      </p>

      <h3 style="margin-top:14px;">What a normal person can do with it:</h3>

      <ul style="margin-left:20px; margin-top:10px; line-height:1.55;">
        <li><strong>Prove â€œthis is the exact thing I had before.â€</strong></li>
        Copy it and save it somewhere safe.<br>
        Paste into an email, document, claim note, or evidence file:<br>
        <code>NOVAK Integrity Hash (SHA-256): &lt;your hash&gt;</code>

        <li style="margin-top:10px;"><strong>Later, paste the SAME text/file back in.</strong><br>
            If the hash <strong>matches</strong> â†’ nothing changed.<br>
            If the hash <strong>differs</strong> â†’ altered (even one invisible character).</li>

        <li style="margin-top:12px;"><strong>Use it as mathematical proof.</strong></li>

        <li style="margin-top:10px;"><strong>Catch invisible changes.</strong></li>

        <li style="margin-top:10px;"><strong>Anchor a moment in time.</strong></li>
      </ul>

      <p style="margin-top:16px; font-weight:600;">
        ğŸ‘‰ <strong>Save the hash. Compare it later. If it matches â€” nothing has changed.</strong>
      </p>

      <p style="margin-top:16px;">
        <strong>In full NOVAK deployments:</strong> Systems <em>cannot act</em> unless the hashes match the last approved truth.
      </p>

    </div>
  </details>
</div>
  
<!-- ====================================================== -->
<!-- COLLAPSIBLE: WHY CAN'T I PASTE THE HASH BACK IN?       -->
<!-- ====================================================== -->
<div class="card" style="margin-top:28px; padding:20px;">
  <details>
    <summary style="cursor:pointer; font-size:18px; font-weight:600;">
      ğŸ”’ Why Can't I Paste the Hash Back In?
    </summary>

    <div style="margin-top:16px; font-size:15px; line-height:1.55;">

      <p>
        A cryptographic hash is a <strong>one-way fingerprint</strong>.  
        When you paste the <em>hash itself</em> into the box, NOVAK creates a 
        <strong>new hash of the hash</strong> â€” it does <em>not</em> recover the original text.
      </p>
<br>
      <p>
        That is expected. No cryptographic hash (SHA-256, SHA-512, SHA-3, etc.) is reversible.
      </p>

      <h4 style="margin-top:16px;">So what do you actually do with a saved hash?</h4>
<br>
      <ul>
        <li>âœ” Save the <strong>hash somewhere safe</strong> (email, PDF, note, claim file).</li>
        <li>âœ” Later, paste the <strong>original text or file</strong> back into NOVAK.</li>
      </ul>
<br>
      <p>If the hash <strong>matches</strong> â†’ nothing changed.</p>
      <p>If the hash <strong>does not match</strong> â†’ something was changed (even one invisible character).</p>
<br>
      <p>âš ï¸ <strong>Pasting the hash itself is not the correct way.</strong></p>
<br>
      <p>
        You always re-verify by <strong>re-entering the original content</strong>.
      </p>
<br>
      <p>
        In a full NOVAK deployment, this is automatic â€” systems cannot act unless their current hash 
        matches the last approved truth.
      </p>

    </div>
  </details>
</div>

  
<!-- ====================================================== -->
<!-- COLLAPSIBLE: HOW NOVAK COMPUTES HASHES                 -->
<!-- ====================================================== -->
<div class="card" style="margin-top:28px; padding:20px;">
  <details>
    <summary style="cursor:pointer; font-size:18px; font-weight:600;">
      âš™ï¸ How NOVAK Computes Hashes â€” And Why This Matters
    </summary>

    <div style="margin-top:16px; font-size:15px; line-height:1.55;">

      <h4>Are These Real Cryptographic Hashes?</h4>

      <p><strong>âœ” YES.</strong> Your browser is using the 
      <strong>WebCrypto API</strong> â€” the same cryptographic engine used by:</p>

      <ul>
        <li>Google Chrome internal security modules</li>
        <li>Apple WebKit encryption</li>
        <li>Federal FIPS-validatable cryptographic paths</li>
        <li>Progressive Web Apps (PWAs)</li>
      </ul>

      <p>
        Nothing is sent to a server. Nothing leaves your device.  
        Everything runs <strong>locally, client-side, instantly</strong>.
      </p>

      <h4 style="margin-top:16px;">Why Isnâ€™t My GPU Being Used?</h4>

      <ul>
        <li>âœ” GPUs are not used for SHA-256/384/512 because hashing is not a parallel-friendly operation.</li>
        <li>âœ” The browser delegates hashing to <strong>CPU hardware acceleration</strong>, not your graphics card.</li>
      </ul>

      <h4>Hashing uses:</h4>

      <ul>
        <li>âœ” CPU</li>
        <li>âœ” Hardware-accelerated WebCrypto</li>
      </ul>

      <p><strong>NOT GPU compute.</strong></p>

      <p>
        This is exactly what makes NOVAK strong â€” it uses 
        <strong>verified, standard, secure cryptographic primitives</strong> already supported at the hardware level.
      </p>

    </div>
  </details>
</div>


<!-- ====================================================== -->
<!-- COLLAPSIBLE: HOW IS THIS DIFFERENT THAN TODAY?         -->
<!-- ====================================================== -->
<div class="card" style="margin-top:28px; padding:20px;">
  <details>
    <summary style="cursor:pointer; font-size:18px; font-weight:600;">
      ğŸ” How Is This Different Than Today?
    </summary>

    <div style="margin-top:16px; font-size:15px; line-height:1.55;">

      <p>
        Today, most systems generate hashes, signatures, logs, or encrypted traffic â€” but none of those guarantee the 
        <strong>correctness</strong> of automated actions.
      </p>
<br>
      <ul>
        <li>âœ… Hashing proves data hasn't changed â€” <strong>after</strong> execution</li>
        <li>ğŸ” TLS/SSL protects communication â€” <strong>not</strong> decision integrity</li>
        <li>â›“ Blockchain records history â€” it cannot stop bad actions</li>
        <li>ğŸ“˜ Logging documents failure â€” it does not prevent it</li>
        <li>ğŸ§ Audits require humans â€” long after harm already occurred</li>
      </ul>

      <h4 style="margin-top:18px;">NOVAK is different:</h4>
      <ul>
        <li>ğŸš« <strong>No cryptographic proof â†’ system is blocked</strong></li>
        <li>ğŸŒŸ <strong>Input, rule & output must cryptographically match</strong></li>
        <li>ğŸ›¡ <strong>Prevents fraud, corruption, glitches & silent automation failure</strong></li>
        <li>ğŸ“œ <strong>Generates tamper-proof execution receipts instantly</strong></li>
      </ul>

      <p>
        Instead of trusting â€” NOVAK <strong>verifies before action.</strong>
      </p>

    </div>
  </details>
</div>

<!-- ====================================================== -->
<!-- COLLAPSIBLE: WHY HASNâ€™T ANYONE BUILT NOVAK BEFORE?     -->
<!-- ====================================================== -->
<div class="card" style="margin-top:28px; padding:20px;">
  <details>
    <summary style="cursor:pointer; font-size:18px; font-weight:600;">
      ğŸ¤” Why Hasnâ€™t Anyone Built NOVAK Before?
    </summary>

    <div style="margin-top:16px; font-size:15px; line-height:1.55;">

      <p>NOVAKâ€¦ looks obvious once you see it.</p>
<br>
      <p>But hereâ€™s the truth:</p>
<br>
      <ul>
âœ”ï¸ Nobody does <strong>Proof-Before-Action</strong></li>
âœ”ï¸ Nobody binds <strong>input â†’ rule â†’ output</strong> cryptographically
âœ”ï¸ Nobody performs <strong>local, real-time integrity verification</strong>
âœ”ï¸ Nobody applies this to <strong>AI, robotics, finance, VA claims, or government systems</strong>
âœ”ï¸ Nobody provides <strong>cryptographic receipts before harm occurs</strong>
      </ul>
<br>
      <p>
        Why? Because the entire industry copied <strong>blockchain</strong>, 
        which only verifies <em>after things happen</em>.
      </p>
<br>
      <p>
        Nobody thought to require systems to 
        <strong>prove correctness before acting.</strong>
      </p>
<br>
      <p><strong>That is the NOVAK invention.</strong></p>

    </div>
  </details>
</div>

<!-- ====================================================== -->
<!-- â­ NOVAK SELF-VERIFICATION BLOCK -->
<!-- ====================================================== -->
<details class="novak-collapse" style="margin-top:32px;">
  <summary style="cursor:pointer; font-size:20px; padding:14px 0;">
    ğŸ” Verify NOVAK Itself (Source, Laws, Version, Hashes)
  </summary>

  <div class="card" style="padding:28px; margin-top:16px; font-size:16px;">

    <h2 style="margin-top:0;">NOVAK Self-Verification</h2>

    <p>
      NOVAK practices what it enforces:  
      <strong>we verify ourselves using our own rules.</strong>
    </p>

    <pre class="diagram-box" style="white-space:pre; font-size:14px;">
NOVAK Version:     1.0.0
Laws Included:     L0â€“L15 + PL-X + PS-X
Protocol Modules:  HVET + EIR + RGAC + Safety Gate

SHA-256 (source):  <span id="novakSourceHash">[computed live]</span>
SHA-256 (laws):    <span id="novakLawsHash">[computed live]</span>
SHA-256 (UI):      <span id="novakUIHash">[computed live]</span>
Timestamp:         <span id="novakTimestamp">[local time]</span>
    </pre>

    <p>
      This block demonstrates that NOVAK uses its own cryptographic process  
      to guarantee the authenticity of:
    </p>

    <ul style="margin-left:20px;">
      <li>âœ” The Laws</li>
      <li>âœ” The Protocol definitions</li>
      <li>âœ” The user interface used to verify data</li>
      <li>âœ” The entire educational suite</li>
    </ul>

    <p style="margin-top:18px; font-weight:600;">
      When even the protocol verifies itself â€” trust becomes mathematical.
    </p>

  </div>
</details>

<!-- ========================================= -->
<!-- ğŸ’» HOW NOVAK SURVIVES PACKET SNIFFING     -->
<!-- ========================================= -->
<div class="card" style="margin-top:28px; padding:20px;">
  <details>
    <summary style="cursor:pointer; font-size:18px; font-weight:600;">
      ğŸ’» How NOVAK Survives Packet Sniffing (Explained for Everyone)
    </summary>

    <div style="margin-top:16px; font-size:15px; line-height:1.55;">
      
      <h3 style="font-size:17px; margin-bottom:8px;">ğŸ§’ What is Packet Sniffing? (6th Grade Time Machine!)</h3>

      <p>
        Imagine you're passing a note to your friend in class.  
        A kid in the middle tries to peek at the note while it moves across the room.
      </p>
<br>
      <p>
        <strong>Packet sniffing</strong> is the computer version of that.  
        Someone tries to look at the messages (the â€œpacketsâ€) computers send across the internet.
      </p>
<br>
      <p>
        Packet sniffing can:
        <ul>
          <li>See what was sent</li>
          <li>See what was received</li>
          <li>Watch the communication happen</li>
        </ul>
      </p>

      <p>
        But hereâ€™s the important part:
        <strong>Just seeing the note doesnâ€™t let you change the note</strong>  
        â€” and thatâ€™s where NOVAK wins.
      </p>

      <hr style="margin:22px 0; opacity:0.4;">

      <h3 style="font-size:17px; margin-bottom:8px;">ğŸ”§ What Packet Sniffing Sees (Technical)</h3>

      <p>
        Sniffers can observe:
      </p>
<br>
      <ul>
        <li>ğŸ“¨ Input text</li>
        <li>ğŸ“¤ Output text</li>
        <li>ğŸ” HVET hash (public)</li>
        <li>ğŸ§¾ EIR receipt (public)</li>
      </ul>
<br>
      <p>There are <strong>no secret keys or tokens</strong> to steal.</p>

      <hr style="margin:22px 0; opacity:0.4;">

      <h3 style="font-size:17px; margin-bottom:8px;">ğŸš« What Attackers Still Cannot Do</h3>
      <ul>
        <li>They cannot forge a hash â€” HVET won't match</li>
        <li>They cannot fake an EIR â€” receipt won't match</li>
        <li>They cannot inject modified output â€” Safety Gate rejects it</li>
        <li>They cannot MITM the rule â†’ output â†’ receipt chain</li>
        <li>They cannot drift the content â€” auto-verification catches it</li>
      </ul>

      <p>
        NOVAK treats any mismatch as a failure â†’  
        <strong>the system stops instead of acting on bad data.</strong>
      </p>

      <hr style="margin:22px 0; opacity:0.4;">

      <h3 style="font-size:17px; margin-bottom:8px;">ğŸ›¡ Why Sniffing Doesn't Help (The Core NOVAK Insight)</h3>

      <p>
        NOVAK binds <strong>input + rule + output</strong> with HVET and verifies everything
        <strong>before</strong> execution.
      </p>
<br>
      <p>Even if an attacker sees the data, they cannot:</p>
<br>
      <ul>
        <li>Change it</li>
        <li>Reorder it</li>
        <li>Modify it secretly</li>
        <li>Insert fake results</li>
      </ul>
<br>
      <p>
        Because the moment anything changes,  
        <strong>NOVAK's cryptographic truth no longer matches</strong> â€” the system freezes.
      </p>

      <hr style="margin:22px 0; opacity:0.4;">

      <h3 style="font-size:17px; margin-bottom:8px;">ğŸ“Œ Final Word</h3>

      <p>
        Traditional systems break when sniffed because they rely on secrecy.
        <br>
        NOVAK doesn't rely on secrecy â€” it relies on <strong>mathematical correctness</strong>.
      </p>

      <p style="margin-top:8px;"><strong>
        Sniff all you want â€” you cannot bypass NOVAK without breaking math.
      </strong></p>

    </div>
  </details>

  <!-- XOmmented this out </div>

<!-- âœ… TRANSPARENCY PANEL -->
<div class="card"
     id="transparencyView"
     style="display:none; margin-top:20px; font-family:'JetBrains Mono', monospace; font-size:14px;">
</div>

<!-- ========================================= -->
<!-- ğŸ’» Why TLS, Blockchain & Bitcoin Cannot Prevent Automated Harm â€” but NOVAK Can    -->
<!-- ========================================= -->
<div class="card" style="margin-top:28px; padding:20px;">

  
<!-- âœ… COMPARISON SECTION -->
<details class="novak-collapse">
  <summary>ğŸ” Why TLS, Blockchain & Bitcoin Cannot Prevent Automated Harm â€” but NOVAK Can</summary>

  <div class="collapse-inner">

  <h4>âŒ TLS / SSL</h4>
  <ul>
    <li>Encrypts transmission â€” not correctness</li>
    <li>Assumes data and rules are already valid</li>
    <li>Cannot stop wrongful automation</li>
    <li>Protects communication â€” not decisions</li>
  </ul>

  <h4>âŒ Blockchain</h4>
  <ul>
    <li>Records history after execution</li>
    <li>Slow, expensive, consensus-dependent</li>
    <li>Cannot fix wrong decisions already made</li>
    <li>Makes immutable logs â€” not integrity</li>
  </ul>

  <h4>âŒ Bitcoin & Cryptocurrency</h4>
  <ul>
    <li>Designed for ownership & payments</li>
    <li>Not medical, legal, or operationally authoritative</li>
    <li>Solves accounting â€” not correctness</li>
    <li>Proves who paid â€” not whether a decision was right</li>
  </ul>

  <h4>âŒ Logging, Audits & SIEM</h4>
  <ul>
    <li>Detect failure AFTER damage</li>
    <li>Human investigation required</li>
    <li>Finds harm â€” doesnâ€™t stop it</li>
  </ul>

  <h3>âœ… NOVAK Protocol</h3>

  <ul>
    <li>Requires mathematical <strong>proof-before-action</strong></li>
    <li>Binds input â†’ rule â†’ output cryptographically</li>
    <li><strong>Blocks execution</strong> if anything changes</li>
    <li>Generates tamper-proof receipts instantly</li>
    <li>No tokens, mining, blockchain, or consensus</li>
    <li>Runs locally, offline, everywhere</li>
    <li>Protects humans, veterans, taxpayers, and national security</li>
  </ul>

  </div>
</details>

<!-- âœ… AI TRANSPARENCY MODE -->
<div class="card" style="margin-top:32px;" id="transparencyCard">
  <h2 class="section-title">AI Transparency Mode</h2>

  <p>
    NOVAK makes automated decisions explainable, provable, lawful, and auditable â€”
    instead of mysterious and unchallengeable.
  </p>

  <button onclick="toggleTransparency()" class="action-btn" style="margin-top:16px;">
    Enable Transparency View
  </button>
</div>
  
<!-- ====================================================== -->
<!-- â­ DETERMINISTIC EXECUTION INTEGRITY (COLLAPSIBLE) -->
<!-- ====================================================== -->

<details class="novak-collapse" style="margin-top:36px;">
  <summary 
    style="
      cursor:pointer; 
      padding:14px 22px; 
      border:2px solid #d0d7de; 
      border-radius:10px; 
      font-size:20px; 
      display:inline-block;
      transition:0.2s;">
    âš–ï¸ Deterministic Execution Integrity
  </summary>

  <div class="card" style="margin-top:22px; padding:26px; font-size:17px; line-height:1.65;">

    <h2 style="margin-top:0; font-size:26px;">Deterministic Execution Integrity</h2>

    <div class="quote-text" style="margin-top:10px;">
      Asimov gave robots fictional ethics.<br><br>
      <p style="margin:0;">Turing defined when a machine is allowed to compute.</p>
      <br>
      <strong>
        NOVAK defines when a machine is allowed to 
        <span class="quote-highlight" style="color:var(--blue); font-weight:700;">ACT</span>
      </strong> 
      â€” and forces it to prove it obeyed the law before it does.
    </div>

    <div class="quote-separator" 
         style="margin:18px 0; font-style:italic; opacity:0.85;">
      â€” That is the difference between science fiction and civilization infrastructure.
    </div>

    <div class="quote-text" style="margin-top:10px;">
      <div class="quote-highlight" 
           style="font-weight:700; font-size:18px; color:var(--blue);">
        Deterministic Execution Integrity â€” No system may execute without provable truth!
      </div>
    </div>

  </div>
</details>

<!-- ====================================================== -->
<!-- ğŸ§  NOVAK EXPERT MODE â€” ALL FOUR CRYPTO VISUALIZERS     -->
<!-- ====================================================== -->
<details class="novak-collapse" style="margin-top:32px;">
  <summary style="cursor:pointer; font-size:20px; padding:14px 0;">
    ğŸ§  Expert Mode â€” Cryptographic Visualizers (Click to Expand)
  </summary>

  <div class="card" style="margin-top:16px; padding:24px;">

    <h2 class="section-title">Expert Mode</h2>
    <p style="opacity:0.9; font-size:14px;">
      These tools show NOVAKâ€™s underlying mathematics, hashing behavior, avalanche effect,
      and digest formats using native WebCrypto â€” all computed locally on your device.
    </p>

    <!-- ====================================================== -->
    <!-- MODE 1: LIVE HASHING                                  -->
    <!-- ====================================================== -->
    <h3 style="margin-top:28px;">ğŸ”¹ Live WebCrypto Hashing</h3>
    <textarea id="expertInput"
              placeholder="Type here â€” live SHA-256 will appear..."
              style="width:100%; height:90px; margin-top:10px; padding:12px; font-family:'JetBrains Mono', monospace;"></textarea>

    <pre id="expertHash"
         style="margin-top:14px; font-family:'JetBrains Mono', monospace; white-space:pre-wrap;"></pre>

    <hr style="margin:32px 0; opacity:0.4;">

    <!-- ====================================================== -->
    <!-- MODE 2: DIGEST VIEWER                                 -->
    <!-- ====================================================== -->
    <h3>ğŸ”¹ Multi-Format Digest Viewer</h3>

    <div style="margin-top:12px;">
      <button class="digest-btn" onclick="showDigestFormat('hex')">HEX</button>
      <button class="digest-btn" onclick="showDigestFormat('base64')">BASE64</button>
      <button class="digest-btn" onclick="showDigestFormat('binary')">BINARY</button>
    </div>

    <pre id="digestOutput"
         style="margin-top:14px; font-family:'JetBrains Mono', monospace; white-space:pre-wrap;"></pre>

    <hr style="margin:32px 0; opacity:0.4;">

    <!-- ====================================================== -->
    <!-- MODE 3: BIT DIFFERENCE HEATMAP                        -->
    <!-- ====================================================== -->
    <h3>ğŸ”¹ Bit-Difference Heatmap</h3>

    <div style="margin-top:10px;">
      <input id="heatA" placeholder="Input A"
             style="width:48%; padding:8px; font-family:'JetBrains Mono', monospace;">
      <input id="heatB" placeholder="Input B"
             style="width:48%; padding:8px; font-family:'JetBrains Mono', monospace; margin-left:4%;">
    </div>

    <button class="action-btn" style="margin-top:12px;" onclick="computeHeatmap()">
      Compute Heatmap
    </button>

    <div id="heatmap"
         style="margin-top:16px; display:grid; grid-template-columns:repeat(64, 1fr); gap:2px;"></div>

    <hr style="margin:32px 0; opacity:0.4;">

    <!-- ====================================================== -->
    <!-- MODE 4: AVALANCHE ANIMATION                           -->
    <!-- ====================================================== -->
    <h3>ğŸ”¹ Avalanche Animation</h3>
    <input id="avalancheInput"
           placeholder="Type anythingâ€¦"
           style="width:100%; padding:10px; font-family:'JetBrains Mono', monospace;">

    <button class="action-btn" style="margin-top:12px;" onclick="startAvalanche()">
      Run Avalanche Animation
    </button>

    <pre id="avalancheFrame"
         style="margin-top:16px; font-family:'JetBrains Mono', monospace; white-space:pre-wrap;"></pre>

  </div>
</details>


<!-- âœ… INTERACTIVE MINI-GAMES -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Interactive Integrity Challenges</h2>

  <p>Learn NOVAK by doing â€” spot fraud, detect tampering, prove originality.</p>

  <div class="pill-row" style="margin-top:16px;">
    <button class="pill-btn" onclick="startGame('tamper')">ğŸ•µï¸ Spot the Tampering</button>
    <button class="pill-btn" onclick="startGame('memory')">ğŸ§  Hash Memory Match</button>
    <button class="pill-btn" onclick="startGame('fraud')">ğŸš¨ Fraud Detector</button>
    <button class="pill-btn" onclick="startGame('avalanche')">âš¡ Avalanche Animation (NOT WORKING)</button>
  </div>

    <!-- game sound toggle -->
  <button onclick="toggleSound()"
          class="sound-toggle"
          aria-label="Toggle game sound"
          style="margin-top:14px; font-size:20px; background:none; border:none; cursor:pointer;">
    ğŸ”‡
  </button>
</div>

<!-- âœ… GAME RENDER CONTAINER -->
<div id="gameBox" class="card" style="margin-top:20px; display:none;"></div>

<!-- ====================================================== -->
<!-- ğŸ§ ADVANCED AUDIO PLAYER (GITHUB /audio/ + NOVAK Hash) -->
<!-- ====================================================== -->
<div class="card" style="margin-top:26px; padding:20px;">
  <details>
    <summary style="cursor:pointer; font-size:20px; font-weight:600;">
      ğŸ§ â€œBreak the Chainâ€ â€” AI-Assisted Track (Listen + Verify)
    </summary>

    <div style="margin-top:18px; font-size:15px; line-height:1.55;">

      <p>
        Power of math, audio engineering, and AI.  
        Stored in <code>/audio/</code> inside the GitHub repo.
      </p>

      <!-- ====================================================== -->
      <!-- ğŸµ AUDIO PLAYER (theme-aware + waveform progress bar)  -->
      <!-- ====================================================== -->

      <div style="margin-top:18px;">
        <audio id="novakAudio" controls preload="metadata"
               style="width:100%; border-radius:8px;">
          <source src="https://novakprotocol.github.io/NOVAK-Hash-Monitor/audio/Break the Chain.mp3" 
                  type="audio/mpeg">
        </audio>
      </div>

      <!-- Theme-aware waveform -->
      <div id="waveformBar"
           style="margin:14px 0; height:6px; width:100%;
                  background:var(--border);
                  border-radius:4px; overflow:hidden;">
        <div id="waveformProgress"
             style="height:6px; width:0%;
                    transition:width 0.08s linear;
                    background:var(--blue);">
        </div>
      </div>

      <!-- ====================================================== -->
      <!-- â¬‡ DOWNLOAD MP3                                         -->
      <!-- ====================================================== -->
      <a id="downloadSong"
         href="https://novakprotocol.github.io/NOVAK-Hash-Monitor/audio/Break the Chain.mp3"
         download="Break_The_Chain.mp3"
         class="action-btn"
         style="margin-top:10px; display:inline-block;">
        â¬‡ Download Track
      </a>

      <!-- ====================================================== -->
      <!-- ğŸ” NOVAK AUDIO INTEGRITY CHECK                         -->
      <!-- ====================================================== -->
      <div style="margin-top:22px;">
        <h3 style="font-size:17px;">ğŸ” NOVAK Audio Integrity Check</h3>
        <p>This verifies the exact MP3 you downloaded with SHA-256:</p>

        <button onclick="verifyAudioHash()" class="action-btn">
          ğŸ§ª Verify Audio Hash (SHA-256)
        </button>

        <pre id="audioHashOutput"
             style="margin-top:12px; font-family:'JetBrains Mono', monospace;
                    font-size:14px; white-space:pre-wrap; background:var(--card);
                    padding:12px; border-radius:8px; border:1px solid var(--border);">
Awaiting verificationâ€¦
        </pre>
      </div>

      <!-- ====================================================== -->
      <!-- ğŸ¤ LYRICS COLLAPSE                                     -->
      <!-- ====================================================== -->
      <details style="margin-top:24px;">
        <summary style="cursor:pointer; font-size:18px;">
          ğŸ¤ Show / Hide Lyrics
        </summary>

        <pre style="margin-top:14px; white-space:pre-wrap;
                    font-family:'JetBrains Mono', monospace;
                    font-size:14px;">
[Intro]
YEAH!
Pressure on the brainâ€”
Chain on my neck, weight in my name!

[Verse 1]
Heartbeat drum, itâ€™s a war inside,
Every step I take, somethinâ€™ gotta die.
Dreams in a chokehold, breath runninâ€™ thin,
Mirror show a beast I been holdinâ€™ in.

No peace, no plan, just fight,
Concrete talk, that streetlight bite.
Every scar got a story to tell,
Every loss lit a match in hell.

[Chorus]
Iâ€™m â€™bout to break the chain!
Ainâ€™t no fear left in my veins.
Iâ€™m â€™bout to break the chain!
Hear that thunder call my name.
Walls canâ€™t hold this painâ€”
Iâ€™m â€™bout to break the chain!

[Verse 2]
Born in the static, raised in the grime,
Life hit hard but I stayed in time.
Eyes wide open, soul donâ€™t sleep,
Loyalty deep, that code I keep.

Now I move like storm and flame,
Every breath scream my claim.
If the devil want a piece, he can tryâ€”
I bite back twice before I die.

[Hook 2]
Iâ€™m â€™bout to break the chain!
Whole world feel that strain.
Iâ€™m â€™bout to break the chain!
Let the rage run down the drain.
Ainâ€™t no cage for this brainâ€”
Iâ€™m â€™bout to break the chain!

[Bridge / Breakdown]
(beat drops to filtered 808 + vocal echo)
Gotta fight my way, gotta earn my crown,
Every time they push, I wonâ€™t back down.
Blood in my mouth, still I laugh insaneâ€”
Say my name, say my name!

Iâ€™m â€™bout to break the chain!
Bones crack, beats remain.
Iâ€™m â€™bout to break the chain!
Freedom roars inside my brain.
When that fire hits my veinsâ€”
Iâ€™M! BOUT! TO! BREAK! THE! CHAIN!
        </pre>
      </details>

    </div>
  </details>
</div>

<!-- ============================= -->
<!-- ğŸ§ AUDIO PLAYER JS LOGIC      -->
<!-- ============================= -->
<script>
// WAVEFORM PROGRESS
const audio = document.getElementById('novakAudio');
const bar = document.getElementById('waveformProgress');

audio.addEventListener('timeupdate', () => {
  if (!audio.duration) return;
  const p = (audio.currentTime / audio.duration) * 100;
  bar.style.width = p + "%";
});

// NOVAK AUDIO HASH VERIFICATION
async function verifyAudioHash() {
  const url = document.querySelector('#novakAudio source').src;
  const output = document.getElementById('audioHashOutput');

  output.textContent = "Downloading audio for hash verificationâ€¦";

  try {
    const buffer = await fetch(url).then(r => r.arrayBuffer());
    const hashBuffer = await crypto.subtle.digest("SHA-256", buffer);

    const hashArray = Array.from(new Uint8Array(hashBuffer));
    const hashHex = hashArray.map(b => b.toString(16).padStart(2, "0")).join("");

    output.textContent =
`SHA-256 Audio Hash:
${hashHex}

Use this hash in NOVAK EIR / HVET to bind audio integrity.`;
  } catch (err) {
    output.textContent = "âŒ Error verifying audio: " + err;
  }
}
</script>

  
<!-- âœ… FOOTER -->
<footer style="text-align:center; margin-top:60px; font-size:14px; opacity:0.85; line-height:1.5;">
  NOVAK Protocol<br>
  Novak Objective Verification of Autonomous Knowledge<br>
  Proof-Before-Action<br>
  Patent Pending<br>
  Copyright Â© 2025 Matthew Novak<br><br>

  PADI 30-Year Member IDC Staff Instructor #888850 â€”
  <a href="https://www.padi.com" target="_blank" rel="noopener noreferrer">www.padi.com</a><br>
<br>
  PADI Project Aware Foundation
  <a href="https://www.padi.com/aware target="_blank" rel="noopener noreferrer">www.padi.com/aware</a><br>
<br>
  o7 Star Citizen Referral â€”
  <a href="https://www.robertsspaceindustries.com/enlist?referral=STAR-KRN7-SJTX"
     target="_blank" rel="noopener noreferrer">STAR-KRN7-SJTX</a><br><br>

<p>
  Donations:
  <a href="mailto:matthew@novakprotocol.com?subject=NOVAK%20Support%20or%20Donation">
    matthew@novakprotocol.com
  </a>
</p>

  <br>
  Nothing stored, logged, transmitted, analyzed, monitored, sold, or shared.<br><br>
  100% local, private, client-side cryptographic verification.
</footer>

<!-- âœ… GLORY TO GOD -->
<div style="display:flex; justify-content:center; margin-top:60px;">
  <button class="action-btn" onclick="toggleGlorySection()"
    style="font-size:16px; padding:12px 26px; border-radius:10px;">
    âœï¸ Glory to God
  </button>
</div>

<div id="glorySection" class="card"
  style="display:none; margin-top:26px; font-size:15px; line-height:1.63;">
  <p style="font-style:italic; font-size:1.1rem; text-align:center; margin-bottom:22px;">
    â€œThe LORD detests lying lips, but He delights in those who act faithfully.â€ â€” Proverbs 12:22
  </p>
  <p>
    The NOVAK Protocol exists because truth has intrinsic value â€” and wrongdoing, deception,
    and hidden harm must be revealed, not rewarded.
  </p>
  <br>
  <p>
    Mathematical integrity reflects moral integrity â€” honesty, accountability, and justice.
  </p>
    <br>
  <p style="font-weight:600;">Everything good in this work belongs to God. Everything flawed belongs to me.</p>
    <br>
  <p>
    May this technology protect the vulnerable, restrain corruption, and advance human dignity.
  </p>
</div>

</div> <!-- END MAIN CONTAINER -->

<!-- âœ… FULL JAVASCRIPT ENGINE -->

<script>
/* ============================
   GLOBAL STATE
=============================*/
let currentAudience = "public";
let soundEnabled = false;
let storyIndex = 0;
let storyInterval;

/* ============================
   THEME TOGGLE
=============================*/
function toggleTheme() {
  const html = document.documentElement;
  const newTheme = html.getAttribute("data-theme") === "light" ? "dark" : "light";
  html.setAttribute("data-theme", newTheme);
  localStorage.setItem("novakTheme", newTheme);
}
(function () {
  const saved = localStorage.getItem("novakTheme");
  if (saved) document.documentElement.setAttribute("data-theme", saved);
})();

/* ============================
   MOBILE MENU
=============================*/
function toggleMobileMenu() {
  const m = document.getElementById("mobileMenuPanel");
  m.style.display = m.style.display === "flex" ? "none" : "flex";
}

/* ============================
   AUDIENCE ENGINE
=============================*/
const audienceMessages = {
  public: "NOVAK protects everyday people by ensuring automated decisions affecting healthcare, housing, employment, credit, pricing, education, transportation, and safety cannot silently miscalculate, manipulate, or harm.",
  government: "NOVAK prevents improper payments, wrongful denials, silent automation failure, procurement fraud, evidence tampering, and catastrophic system mistakes â€” without requiring new infrastructure.",
  investor: "NOVAK creates a new execution integrity market â€” reducing enterprise risk, enabling defensible automation, expanding AI commercialization, and unlocking trillion-dollar modernization opportunities.",
  cyber: "NOVAK adds the missing pillar to cybersecurity â€” prevention. No consensus, no blockchain, no latency â€” just mathematical proof that data, rules & outputs haven't changed before execution.",
  academic: "NOVAK formalizes deterministic execution integrity by cryptographically binding attested inputs, governing rules, generated outputs, timestamps, and execution identity into a verifiable receipt."
};

function setAudience(type) {
  currentAudience = type;
  document.getElementById("audienceContent").textContent = audienceMessages[type];

  document.querySelectorAll(".aud-btn").forEach(b => b.classList.remove("active"));
  document.getElementById(`btn-${type}`).classList.add("active");
}

/* ============================
  WHY NOVAK â€” DISMISS & RESTORE
=============================*/
function dismissWhyNovak() {
  document.getElementById("whyNovakCard").style.display = "none";
  document.getElementById("restoreWhyBtn").style.display = "inline-flex";
  localStorage.setItem("whyNovakDismissed", "true");
}
function restoreWhyNovakSection() {
  document.getElementById("whyNovakCard").style.display = "block";
  document.getElementById("restoreWhyBtn").style.display = "none";
  localStorage.removeItem("whyNovakDismissed");
}
function restoreWhyNovakOnLoad() {
  if (localStorage.getItem("whyNovakDismissed") === "true") dismissWhyNovak();
}

/* ============================
 WHAT IS NOVAK â€” DISMISS & RESTORE âœ… FIXED
=============================*/
function dismissWhatIsNovak() {
  document.getElementById("whatIsNovakCard").style.display = "none";
  document.getElementById("restoreWhatIsBtn").style.display = "inline-flex";
  localStorage.setItem("whatIsNovakDismissed", "true");
}
function restoreWhatIsNovakSection() {
  document.getElementById("whatIsNovakCard").style.display = "block";
  document.getElementById("restoreWhatIsBtn").style.display = "none";
  localStorage.removeItem("whatIsNovakDismissed");
}
function restoreWhatIsNovakOnLoad() {
  if (localStorage.getItem("whatIsNovakDismissed") === "true") dismissWhatIsNovak();
}

/* ============================
 WHAT CHANGES â€” DISMISS & RESTORE
=============================*/
function dismissWhatChanges() {
  document.getElementById("whatChangesCard").style.display = "none";
  document.getElementById("restoreWhatBtn").style.display = "inline-flex";
  localStorage.setItem("whatChangesDismissed", "true");
}
function restoreWhatChangesSection() {
  document.getElementById("whatChangesCard").style.display = "block";
  document.getElementById("restoreWhatBtn").style.display = "none";
  localStorage.removeItem("whatChangesDismissed");
}
function restoreWhatChangesOnLoad() {
  if (localStorage.getItem("whatChangesDismissed") === "true") dismissWhatChanges();
}

/* ============================
   EXPLAINER BUTTONS & OUTPUT
=============================*/
const explainTexts = {
  simple: "NOVAK requires proof-before-action â€” meaning systems must prove correctness before executing, not after failure.",
  milkshake: "If a milkshake spills, you see it. In digital systems, corruption is invisible â€” NOVAK makes tampering visible instantly.",
  pencil: "Like coloring with pencils â€” once marked, you can't erase without evidence. NOVAK ensures all digital changes leave proof.",
  key: "A door key doesn't open every house â€” NOVAK ensures only correct, verified data can unlock execution.",
  gov: "NOVAK could save billions by preventing improper payments, fraud, and automation mistakes before they occur.",
  how: "NOVAK binds input, rule, and output into a cryptographic receipt. If anything changes â€” execution is blocked."
};

function showExplain(key, el) {
  const panel = document.getElementById("explainerOutput");
  panel.style.display = "block";
  panel.textContent = explainTexts[key];

  document.querySelectorAll(".explain-btn, .pill-btn")
    .forEach(btn => btn.classList.remove("active"));

  el.classList.add("active");
  panel.scrollIntoView({ behavior: "smooth" });
}

/* ============================
   LIVE HASH ENGINE
=============================*/
async function computeHash(algorithm, value) {
  const data = typeof value === "string"
    ? new TextEncoder().encode(value)
    : new Uint8Array(value);
  const digest = await crypto.subtle.digest(algorithm, data);
  return Array.from(new Uint8Array(digest))
    .map(b => b.toString(16).padStart(2, "0"))
    .join("");
}

async function updateHashes() {
  const input = document.getElementById("novakInput").value;
  const list = document.getElementById("hashOutputList");

  if (!input.trim()) {
    list.innerHTML = "<em>Waiting for input from above...</em>";
    document.getElementById("rgac").innerHTML = "<em>Provide input to begin...</em>";
    return;
  }

  const selected = [...document.querySelectorAll(".hashAlgo:checked")].map(a => a.value);
  if (!selected.length) {
    list.innerHTML = "<em>Select at least one hashing algorithm.</em>";
    return;
  }

  list.innerHTML = "";
  for (const algo of selected) {
    const hash = await computeHash(algo, input);

    list.innerHTML += `
      <div style="margin-bottom:18px;">
        <strong>${algo}:</strong><br>
        <span style="font-family:'JetBrains Mono', monospace; word-break:break-all;">
          ${hash}
        </span>
        <br>
        <button class="copy-btn"
          onclick="navigator.clipboard.writeText('${hash}')"
          style="margin-top:6px; padding:4px 10px; font-size:13px;">
          Copy
        </button>
      </div>`;
  }

  updateRGAC(input);
/* ===========================================
   AUTO PROOF-BEFORE-ACTION ENGINE (E)
===========================================*/
let lastApprovedHash = null;

function autoVerify(value) {
  const status = document.getElementById("autoVerifyStatus");

  if (!value.trim()) {
    status.innerHTML = "Waiting for input...";
    lastApprovedHash = null;
    return;
  }

  /* ===========================================
   AUTO-VERIFICATION TOGGLE CONTROL
===========================================*/
function isAutoVerifyEnabled() {
  const box = document.getElementById("autoVerifyToggle");
  return box && box.checked;
}

  computeHash("SHA-256", value).then(currentHash => {
    if (lastApprovedHash === null) {
      lastApprovedHash = currentHash;
      status.innerHTML = `ğŸŸ¦ First hash approved<br><strong>SHA-256:</strong> ${currentHash}`;
      return;
    }

    if (lastApprovedHash === currentHash) {
      status.innerHTML = `ğŸŸ© Verified â€” No changes detected<br><strong>SHA-256:</strong> ${currentHash}`;
    } else {
      status.innerHTML = `ğŸŸ¥ BLOCKED â€” Integrity changed BEFORE execution<br><strong>Old:</strong> ${lastApprovedHash}<br><strong>New:</strong> ${currentHash}`;
    }
  });
}
 
}

document.getElementById("novakInput").addEventListener("input", () => {
  updateHashes();

  if (isAutoVerifyEnabled()) {
    autoVerify(document.getElementById("novakInput").value);
  } else {
    document.getElementById("autoVerifyStatus").innerHTML =
      "<em>Auto-Verification disabled.</em>";
  }
});

/* ============================
   RGAC VISUALIZER
=============================*/
function updateRGAC(value) {
  const box = document.getElementById("rgac");
  if (!value.trim()) {
    box.innerHTML = "<em>Provide input to begin...</em>";
    return;
  }
  const labels = ["Data", "Rule", "Output", "Verifier", "Receipt"];
  box.innerHTML = labels.map((l, i) =>
    `<span style="padding:4px 10px;border:1px solid var(--border);
     border-radius:6px; margin-right:6px; display:inline-block;">
     ${l} #${i + 1}
     </span>`
  ).join("");
}

/* ============================
   FILE HASH VERIFICATION
=============================*/
const dropzone = document.getElementById("dropzone");
const fileInput = document.getElementById("fileInput");
const fileHashResult = document.getElementById("fileHashResult");

dropzone.addEventListener("click", () => fileInput.click());
dropzone.addEventListener("dragover", e => {
  e.preventDefault();
  dropzone.style.background = "rgba(26,79,179,0.07)";
});
dropzone.addEventListener("dragleave", () =>
  dropzone.style.background = "transparent"
);
dropzone.addEventListener("drop", e => {
  e.preventDefault();
  dropzone.style.background = "transparent";
  handleFileHash(e.dataTransfer.files[0]);
});
fileInput.addEventListener("change", e =>
  handleFileHash(e.target.files[0])
);

async function handleFileHash(file) {
  if (!file) return;
  const buf = await file.arrayBuffer();
  const hash = await computeHash("SHA-256", buf);
  fileHashResult.innerHTML =
    `âœ… <strong>${file.name}</strong><br>SHA-256: <code>${hash}</code>`;
}

/* ============================
   EXAMPLE DATASETS
=============================*/
const examples = {
  va: "Veteran: John Doe\nClaim #: 27-982271\nCondition: Lumbar Spine Degeneration\nRating Requested: 70%\nFiled: 2024-10-17",
  medical: "Patient: Sarah Collins\nDiagnosis: Acute Appendicitis\nMedication: IV Ceftriaxone\nPhysician: Dr. Patel",
  finance: "Wire Transfer: $82,750\nSender: Redwood Logistics\nRecipient: Meridian Aerospace\nRouting: 021000021",
  robot: "Robot Command: LIFT-PALLET\nWarehouse Zone: C7\nWeight Limit: 225 kg\nAuthorization: Level-3 Supervisor",
  ai: "AI Output â€” Content Filter\nUserID: 992882\nReason: Probable Misinformation\nConfidence: 0.82",
  legal: "Court Filing â€” Motion to Compel\nDocket #: 5:24-cv-1772\nFiled: March 4, 2025\nJurisdiction: 9th Circuit"
};
function loadExample(key) {
  document.getElementById("novakInput").value = examples[key] || "";
  updateHashes();
}

/* ============================
   VIN DECODER MODAL
=============================*/
function openVinModal() {
  document.getElementById("vinModal").style.display = "flex";
}
function closeVinModal() {
  document.getElementById("vinModal").style.display = "none";
}
function decodeCorvetteVIN(vin) {
  if (vin.length !== 17) return "âŒ VIN must be 17 characters.";
  const year = { N: 2022 }[vin[9]] || "Unknown";
  const plant = { "5": "Bowling Green, Kentucky" }[vin[10]] || "Unknown";
  const model = vin.startsWith("1G1Y") ? "Chevy Corvette Stingray" : "Unknown Model";
  return `Model: ${model}\nYear: ${year}\nAssembly Plant: ${plant}\nSequence: ${vin.slice(11)}`;
}
document.getElementById("vinInput")?.addEventListener("input", () => {
  vinResult.innerHTML = `<pre>${decodeCorvetteVIN(vinInput.value.trim())}</pre>`;
});

/* ============================
 âœ… MINI-GAMES â€” NOW FULLY WORKING
=============================*/
function toggleSound() {
  soundEnabled = !soundEnabled;
  document.querySelector(".sound-toggle").textContent =
    soundEnabled ? "ğŸ”Š" : "ğŸ”‡";
}

function startGame(type) {
  const box = document.getElementById("gameBox");
  box.style.display = "block";

  if (type === "tamper") return gameTamper();
  if (type === "memory") return gameMemory();
  if (type === "fraud") return gameFraud();
}

/* ğŸ•µï¸ Spot the Tampering */
function gameTamper() {
  const original = "Approved VA Claim â€” Rating 70% â€” 2025-03-14";
  const tampered = "Approved VA Claim â€” Rating 10% â€” 2025-03-14";

  document.getElementById("gameBox").innerHTML = `
    <h3>ğŸ•µï¸ Spot the Tampering</h3>
    <p>Two records â€” one was altered. Which one triggers NOVAK?</p>

    <pre>${original}</pre>
    <pre>${tampered}</pre>

    <div style="display:flex; gap:10px; margin-top:14px;">
      <button class="action-btn" onclick="checkTamper(true)">Top is Original âœ…</button>
      <button class="action-btn" onclick="checkTamper(false)">Bottom is Original âœ…</button>
    </div>

    <div id="tamperResult" style="margin-top:16px; font-weight:600;"></div>
  `;
}
function checkTamper(choice) {
  const result = document.getElementById("tamperResult");
  if (choice)
    result.textContent = "âœ… Correct â€” NOVAK detects rating manipulation instantly.";
  else
    result.textContent =
      "âŒ Incorrect â€” silent benefit reductions could occur without NOVAK.";
}

/* ğŸ§  Memory Match */
function gameMemory() {
  const words = ["NOVAK", "Integrity", "Receipt", "Hash", "Proof", "Audit"];
  const shuffled = [...words, ...words].sort(() => Math.random() - 0.5);

  document.getElementById("gameBox").innerHTML = `
    <h3>ğŸ§  Hash Memory Match</h3>
    <p>Match pairs â€” NOVAK ensures data consistency the same way.</p>

    <div id="memoryGrid"
         style="display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-top:16px;">
    </div>

    <div id="memoryStatus" style="margin-top:16px; font-weight:600;"></div>
  `;

  const grid = document.getElementById("memoryGrid");
  shuffled.forEach((word, idx) => {
    const btn = document.createElement("button");
    btn.textContent = "â“";
    btn.dataset.value = word;
    btn.dataset.index = idx;
    btn.className = "action-btn";
    btn.style.padding = "12px";
    btn.onclick = () => handleMemoryClick(btn);
    grid.appendChild(btn);
  });

  window.memoryFirst = null;
  window.memoryMatches = 0;
}
function handleMemoryClick(btn) {
  btn.textContent = btn.dataset.value;

  if (!memoryFirst) {
    memoryFirst = btn;
    return;
  }

  if (memoryFirst.dataset.value === btn.dataset.value &&
      memoryFirst !== btn) {
    memoryMatches++;
    memoryFirst.style.background = "#059669";
    btn.style.background = "#059669";
    memoryFirst.disabled = true;
    btn.disabled = true;

    if (memoryMatches === 6)
      document.getElementById("memoryStatus").textContent =
        "âœ… Perfect â€” NOVAK never forgets integrity!";
  } else {
    setTimeout(() => {
      memoryFirst.textContent = "â“";
      btn.textContent = "â“";
    }, 700);
  }
  memoryFirst = null;
}

/* ğŸš¨ Fraud Detector */
function gameFraud() {
  const clean = "Invoice #88427 â€” $4,620 â€” Approved â€” 2025-04-02";
  const fraud = "Invoice #88427 â€” $84,620 â€” Approved â€” 2025-04-02";

  document.getElementById("gameBox").innerHTML = `
    <h3>ğŸš¨ Fraud Detector</h3>
    <p>One transaction was manipulated â€” NOVAK would stop it instantly.</p>

    <pre>${clean}</pre>
    <pre>${fraud}</pre>

    <button class="action-btn" onclick="detectFraud()" style="margin-top:14px;">
      Run Integrity Check âœ…
    </button>

    <div id="fraudResult" style="margin-top:16px; font-weight:600;"></div>
  `;
}
function detectFraud() {
  document.getElementById("fraudResult").textContent =
    "âœ… Fraud detected â€” amount alteration breaks cryptographic binding.";
}

/* ============================
   STRUCTURED DATA VALIDATION
=============================*/
document.getElementById("structuredFile")?.addEventListener("change", async e => {
  const f = e.target.files[0];
  if (!f) return;
  const txt = await f.text();
  const sha = await computeHash("SHA-256", txt);

  structuredResult.innerHTML =
    `âœ… File loaded â€” integrity proven\n\nSHA-256: ${sha}`;
});

/* ============================
   TRANSPARENCY MODE
=============================*/
function toggleTransparency() {
  const p = document.getElementById("transparencyView");
  p.style.display = p.style.display === "none" ? "block" : "none";

  p.innerHTML =
    `DATA âœ RULE âœ OUTPUT\n\nMathematically bound, cryptographically verified.`;
}

// ================================
// ğŸ” GENERATE RECEIPT + QR + JSON
// ================================
async function generateReceipt() {

  // Collect all hashes currently visible
  const receiptData = {
    timestamp: new Date().toISOString(),
    hashes: {
      sha256: window.lastHashes?.sha256 || null,
      sha384: window.lastHashes?.sha384 || null,
      sha512: window.lastHashes?.sha512 || null,
      sha3_256: window.lastHashes?.sha3_256 || null
    },
    hvet: window.hvetValue || null,
    rgac: {
      block: window.rgacCounter || 1,
      value: window.lastApproved || null
    }
  };

  // Display JSON in receipt panel
  document.getElementById("receiptOutput").textContent =
    JSON.stringify(receiptData, null, 2);

  // ===== QR Code Generation =====
  const qrContainer = document.getElementById("qrContainer");
  qrContainer.innerHTML = ""; // clear old QR

  new QRCode(qrContainer, {
    text: JSON.stringify(receiptData),
    width: 130,
    height: 130,
    correctLevel: QRCode.CorrectLevel.M
  });

  // ===== JSON Download =====
  const blob = new Blob([JSON.stringify(receiptData, null, 2)], {
    type: "application/json"
  });

  const url = URL.createObjectURL(blob);
  const dl = document.getElementById("jsonDownloadLink");
  dl.href = url;
  dl.download = `NOVAK_Receipt_${Date.now()}.json`;
  dl.style.display = "inline-block";
}

/* ===============================
   Documentation Dropdown
================================ */
function toggleDocsMenu() {
  const menu = document.getElementById("docsMenu");
  const isOpen = menu.style.display === "block";
  menu.style.display = isOpen ? "none" : "block";
}

// auto-close dropdown when clicking outside
document.addEventListener("click", function (e) {
  const menu = document.getElementById("docsMenu");
  const button = document.querySelector(".dropdown-btn");

  if (!menu || !button) return;

  if (!menu.contains(e.target) && !button.contains(e.target)) {
    menu.style.display = "none";
  }
});


/* ============================
   WALKTHROUGH MODE
=============================*/
const slides = [
  "Welcome â€” NOVAK fixes the worldâ€™s most dangerous hidden problem: automation without proof.",
  "Today, systems approve loans, surgeries, benefits, procurement, sentencing â€” without guaranteed correctness.",
  "NOVAK requires mathematical execution integrity â€” BEFORE automated action.",
  "Hashes alone don't prevent harm. NOVAK binds data, rules & outputs into a cryptographic execution receipt.",
  "If anything changes â€” fraud, glitch, bias, breach â€” NOVAK blocks execution.",
  "Government, healthcare, banking, defense & AI become provably safe and accountable.",
  "Now try entering text below â€” NOVAK proves it instantly.",
  "NOVAK doesn't replace systems â€” it protects them.",
  "Proof-before-action becomes the new global safety standard."
];
function startStoryMode() {
  storyPanel.style.display = "block";
  storyIndex = 0;
  storyPanel.textContent = slides[0];
  clearInterval(storyInterval);

  storyInterval = setInterval(() => {
    storyIndex++;
    if (storyIndex >= slides.length) return clearInterval(storyInterval);
    storyPanel.textContent = slides[storyIndex];
    storyPanel.scrollIntoView({ behavior: "smooth" });
  }, 4500);
}

/* ============================
   EXECUTIVE BRIEF EXPORT
=============================*/
function exportBriefing() {
  const text =
`NOVAK Protocol â€” Executive Briefing

Mission:
Prevent catastrophic automated decisions by requiring mathematical proof-before-action.

Why Existing Security Fails:
â€¢ TLS secures transmission â€” not correctness
â€¢ Blockchain records events â€” it cannot stop harm
â€¢ Bitcoin proves ownership â€” not legality or truth
â€¢ Logging happens after â€” when damage is irreversible

What NOVAK Solves:
â€¢ Proves input, rule & output correctness before execution
â€¢ Prevents fraud, bias, miscalculation & silent corruption
â€¢ Generates tamper-proof execution receipts
â€¢ Works offline, locally â€” no blockchain needed

Where NOVAK Applies:
VA, DoD, CMS, SSA, DOJ, DHS, IRS, Treasury
Hospitals, insurers, banks, aviation, robotics, AI

Status:
Patent Pending â€” Matthew Novak
www.NOVAKProtocol.com`;

  const blob = new Blob([text], { type: "text/plain"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "NOVAK_Executive_Report.txt";
  a.click();
  URL.revokeObjectURL(url);
}

  /* ============ GLORY TO GOD & SONG TOGGLE ============ */
  function toggleGlorySection() {
    const box = document.getElementById("glorySection");
    const show = box.style.display === "none" || !box.style.display;
    box.style.display = show ? "block" : "none";
    if (show) {
      const rect = box.getBoundingClientRect();
      const top = window.scrollY + rect.top - 90;
      window.scrollTo({ top, behavior: "smooth" });
    }
  }

  function toggleSongLyrics() {
    const block = document.getElementById("songBlock");
    const show = block.style.display === "none" || !block.style.display;
    block.style.display = show ? "block" : "none";
  }

/* ============================
   INIT ON LOAD âœ… IMPORTANT
=============================*/
document.addEventListener("DOMContentLoaded", () => {
  setAudience("public");
  restoreWhyNovakOnLoad();
  restoreWhatIsNovakOnLoad();   // âœ… Now included
  restoreWhatChangesOnLoad();
  updateHashes();
});

/* ============================================================
   WOW MODE â€“ AUTO-DETECT MANIPULATION
   ============================================================ */
let wowMode = true;   // toggle if needed
let lastHash = "";
let lastUpdate = 0;

// attach into your existing hash update pipeline
async function detectTamper(value) {
  if (!wowMode) return;

  const now = performance.now();
  const sha = await computeHash("SHA-256", value);

  // first hash
  if (!lastHash) {
    lastHash = sha;
    lastUpdate = now;
    return;
  }

  // if hash changes faster than a human could type â†’ automation or corruption
  const diff = now - lastUpdate;
  if (sha !== lastHash && diff < 45) {
    showTamperAlert();
  }

  lastHash = sha;
  lastUpdate = now;
}

function showTamperAlert() {
  const box = document.createElement("div");
  box.style.position = "fixed";
  box.style.bottom = "30px";
  box.style.right = "30px";
  box.style.padding = "16px 22px";
  box.style.borderRadius = "10px";
  box.style.background = "#b91c1c";
  box.style.color = "white";
  box.style.fontWeight = "600";
  box.style.boxShadow = "0 4px 12px rgba(0,0,0,.35)";
  box.style.zIndex = "99999";
  box.textContent = "ğŸŸ¥ Suspicious automated modification detected â€” NOVAK blocked execution";

  document.body.appendChild(box);
  setTimeout(() => box.remove(), 4200);
}

/* hook into your existing updateHashes() */
const _updateHashes = updateHashes;
updateHashes = async function() {
  await _updateHashes();
  const txt = document.getElementById("novakInput").value;
  detectTamper(txt);
};

/* ============================================================
   FIX: STICKY HEADER SCROLL (Explain Buttons)
   ============================================================ */
const originalShowExplain = showExplain;
showExplain = function(key, el) {
  originalShowExplain(key, el);
  const panel = document.getElementById("explainerOutput");

  // ensures correct scroll spacing
  const offset = panel.getBoundingClientRect().top + window.scrollY - 120;
  window.scrollTo({ top: offset, behavior: "smooth" });
};

/* ============================================================
   DARK MODE â€“ FIX ALL BUTTONS
   ============================================================ */
const css = `
html[data-theme="dark"] .pill-btn,
html[data-theme="dark"] .explain-btn,
html[data-theme="dark"] .action-btn {
  background: #0f172a !important;
  color: #ffffff !important;
  border-color: #ffffff !important;
}

html[data-theme="dark"] .pill-btn:hover,
html[data-theme="dark"] .explain-btn:hover {
  background: #1e293b !important;
}
`;
const style = document.createElement("style");
style.innerHTML = css;
document.head.appendChild(style);

/* ============================================================
   FIX: GUIDED DEMO â€“ SLIDES STOPPING
   ============================================================ */
const _startStoryMode = startStoryMode;
startStoryMode = function() {
  clearInterval(storyInterval);
  _startStoryMode();    // now increments properly
};
  
</script>

<script>
(function () {
  const autoToggle  = document.getElementById('autoVerifyToggle');
  const autoStatus  = document.getElementById('autoVerifyStatus');
  const rgacEl      = document.getElementById('rgac');

  // ğŸ” CHANGE THIS if your main input has a different id than "novakInput"
  const watchedInput = document.getElementById('novakInput');

  if (!autoToggle || !autoStatus || !watchedInput) {
    console.warn('NOVAK auto-verification demo: missing elements.');
    return;
  }

  // Very simple hash for demo purposes (NOT cryptographic!)
  function simpleHash(str) {
    let hash = 0, i, chr;
    if (str.length === 0) return '0';
    for (i = 0; i < str.length; i++) {
      chr = str.charCodeAt(i);
      hash = ((hash << 5) - hash) + chr;
      hash |= 0; // convert to 32-bit int
    }
    // hex string
    return ('00000000' + (hash >>> 0).toString(16)).slice(-8);
  }

  let lastApprovedHash = null;

  function updateStatus() {
    if (!autoToggle.checked) {
      autoStatus.textContent = 'Auto-verification is disabled.';
      autoStatus.style.borderColor = 'var(--border)';
      return;
    }

    const value = watchedInput.value.trim();

    // No text yet
    if (!value) {
      autoStatus.textContent = 'Waiting for input...';
      autoStatus.style.borderColor = 'var(--border)';
      if (rgacEl) {
        rgacEl.innerHTML = '<em>Provide input to begin...</em>';
      }
      lastApprovedHash = null;
      return;
    }

    const currentHash = simpleHash(value);

    // First time: treat as approved baseline
    if (!lastApprovedHash) {
      lastApprovedHash = currentHash;
      autoStatus.textContent =
        'âœ… Baseline approved. HVET demo hash = ' + currentHash;
      autoStatus.style.borderColor = '#16a34a'; // green

      if (rgacEl) {
        rgacEl.textContent = 'Block 1  â†’  ' + currentHash;
      }
      return;
    }

    // Subsequent edits: compare to baseline
    if (currentHash === lastApprovedHash) {
      autoStatus.textContent =
        'âœ… No drift detected. Output still matches last approved hash.';
      autoStatus.style.borderColor = '#16a34a';
      if (rgacEl) {
        rgacEl.textContent = 'Block 1  â†’  ' + currentHash + '  (no drift)';
      }
    } else {
      autoStatus.textContent =
        'âš ï¸ Drift detected. New output no longer matches the last approved hash.';
      autoStatus.style.borderColor = '#f97316'; // orange
      if (rgacEl) {
        rgacEl.textContent =
          'Block 1  â†’  ' + lastApprovedHash +
          '  â†’  Block 2 (drift)  â†’  ' + currentHash;
      }
    }
  }

  // Re-run when text changes or the toggle is flipped
  watchedInput.addEventListener('input', updateStatus);
  autoToggle.addEventListener('change', updateStatus);

  // Initial render
  updateStatus();
})();
</script>

  <script>
document.getElementById("autoVerifyToggle").addEventListener("change", function () {
  const block = document.getElementById("autoVerifyBlock");
  const status = document.getElementById("autoVerifyStatus");

  if (this.checked) {
    block.style.display = "block";
    status.textContent = "Waiting for input...";
  } else {
    block.style.display = "none";
    status.textContent = "Auto-verification is disabled.";
  }
});

    document.getElementById("novakInput").addEventListener("input", updateHashes);
document.getElementById("autoVerifyToggle").addEventListener("change", toggleAutoVerify);
updateHashes();

</script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

</body>
</html>

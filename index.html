<!-- ‚úÖ NOVAK Protocol ‚Äî Final Public Demo Build (PART 1 of 3) -->
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NOVAK Protocol ‚Äî Proof-Before-Action Integrity</title>

  <meta name="description"
        content="NOVAK Protocol ‚Äî execution integrity, fraud prevention, cryptographic proof-before-action verification for government, finance, healthcare, AI, robotics, and national security." />

  <link rel="icon" type="image/png" href="favicon.png" />

  <!-- ‚úÖ Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono&display=swap"
        rel="stylesheet" />

  <style>

/* =============================== */
/* NOVAK Documentation Dropdown    */
/* =============================== */

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-btn {
  padding: 7px 16px;
  font-size: 14px;
  border-radius: 999px;
  border: 1px solid var(--blue);
  background: transparent;
  cursor: pointer;
  color: var(--blue);
  transition: 0.25s;
  white-space: nowrap;
}

.dropdown-btn:hover {
  background: var(--blue);
  color: #fff;
}

.dropdown-content {
  display: none;
  position: absolute;
  top: 42px;
  right: 0;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 10px;
  min-width: 310px;
  box-shadow: 0 4px 18px rgba(0,0,0,.25);
  z-index: 99999;
  padding: 10px 0;
}

.dropdown-header {
  font-weight: 700;
  padding: 12px 18px;
  border-bottom: 1px solid var(--border);
}

.dropdown-content a {
  display: block;
  padding: 10px 18px;
  font-size: 14px;
  color: var(--text);
  text-decoration: none;
  transition: 0.12s;
  white-space: nowrap;
}

.dropdown-content a:hover {
  background: rgba(26,79,179,0.10);
}

.dropdown-divider {
  margin: 10px 0;
  border-bottom: 1px solid var(--border);
}

/* DARK MODE SUPPORT */
html[data-theme="dark"] .dropdown-btn {
  color: #fff;
  border-color: #fff;
}

html[data-theme="dark"] .dropdown-btn:hover {
  background: #fff;
  color: #000;
}

html[data-theme="dark"] .dropdown-content {
  background: var(--card-dark);
  border-color: var(--border-dark);
}

html[data-theme="dark"] .dropdown-content a:hover {
  background: #1e293b;
}

    
/* ========== FIX TOP GAP (B) ========== */
html {
  scroll-padding-top: 50px; /* header height */
}

body {
  padding-top: 50px;  /* match header height exactly */
}

/* prevent double stacking */
.card,
#audienceContent,
#explainerOutput,
#whatChangesCard,
#whyNovakCard,
#whatIsNovakCard,
#hashOutputList,
#rgac,
#gameBox,
#transparencyView,
#storyPanel {
  scroll-margin-top: 80px; /* 80 is perfect spacing */
}


    
    /* ====================================================================== */
    /* ‚úÖ GLOBAL RESET + TYPOGRAPHY                                           */
    /* ====================================================================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Inter", sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
      line-height: 1.55;
      -webkit-font-smoothing: antialiased;
      font-size: 16px;
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px;
    }

    /* ====================================================================== */
    /* ‚úÖ COLOR SYSTEM ‚Äî THEME VARIABLES                                      */
    /* ====================================================================== */
    :root {
      --blue: #1a4fb3;
      --blue-hover: #0f357f;
      --green: #059669;
      --red: #dc2626;
      --yellow: #e8b400;

      --bg-light: #f8fafc;
      --bg-dark: #0f172a;

      --text-light: #0b1326;
      --text-dark: #e6edf5;

      --card-light: #ffffff;
      --card-dark: #1e293b;

      --border-light: #d4d8e1;
      --border-dark: #334155;
    }

    /* Light Mode */
    html[data-theme="light"] {
      --bg: var(--bg-light);
      --text: var(--text-light);
      --card: var(--card-light);
      --border: var(--border-light);
    }

    /* Dark Mode */
    html[data-theme="dark"] {
      --bg: var(--bg-dark);
      --text: var(--text-dark);
      --card: var(--card-dark);
      --border: var(--border-dark);
    }

    /* Ensure readable buttons in Dark Mode */
    html[data-theme="dark"] .explain-btn,
    html[data-theme="dark"] .action-btn,
    html[data-theme="dark"] .theme-toggle,
    html[data-theme="dark"] .aud-btn {
      color: #ffffff !important;
      border-color: #ffffff !important;
    }

    html[data-theme="dark"] .theme-toggle:hover {
      background: #ffffff;
      color: #000000 !important;
    }

    html[data-theme="dark"] .card {
      color: var(--text-dark);
    }

    /* ====================================================================== */
    /* ‚úÖ STICKY HEADER ‚Äî CENTERED BRAND + SITE + THEME TOGGLE                */
    /* ====================================================================== */
    #mainHeader {
      display: flex;
      align-items: center;
      padding: 14px 28px;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      z-index: 9999;
    }

    .header-left {
      width: 80px; /* spacer, can stay mostly empty */
    }

    .header-center {
      flex: 1;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }

    #novakBrand {
      font-size: 26px;
      font-weight: 700;
      color: var(--blue);
      white-space: nowrap;
      user-select: none;
    }

    #novakTagline {
      font-size: 13px;
      opacity: 0.85;
    }

    #novakSiteLink {
      font-size: 14px;
      color: var(--blue);
      text-decoration: none;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    #headerControls {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .theme-toggle {
      cursor: pointer;
      font-size: 14px;
      padding: 7px 14px;
      border-radius: 999px;
      border: 1px solid var(--blue);
      background: transparent;
      color: var(--blue);
      transition: 0.25s;
    }

    .theme-toggle:hover {
      background: var(--blue);
      color: #fff;
    }

    /* Mobile Menu */
    #mobileMenuBtn {
      display: none;
      font-size: 26px;
      background: none;
      border: none;
      cursor: pointer;
    }

    #mobileMenuPanel {
      display: none;
      flex-direction: column;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      padding: 10px 22px 14px;
      gap: 8px;
    }

    /* ====================================================================== */
    /* ‚úÖ SHARED UI ‚Äî CARDS, TITLES, BUTTONS                                  */
    /* ====================================================================== */
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 26px;
      margin-top: 28px;
    }

    .section-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 14px;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .pill-btn {
      border-radius: 999px;
      border: 1px solid var(--blue);
      background: #ffffff;
      padding: 8px 18px;
      cursor: pointer;
      font-size: 14px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--blue);
      transition: 0.18s ease;
      white-space: nowrap;
    }

    .pill-btn:hover {
      background: rgba(26, 79, 179, 0.06);
    }

    .aud-btn.active {
      border-color: #000000;
      box-shadow: 0 0 0 2px #000000;
      background: #ffffff;
      color: #000000;
    }

    /* Primary CTA */
    .action-btn {
      padding: 9px 16px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      background: var(--blue);
      color: #fff;
      font-size: 14px;
      transition: 0.25s;
    }

    .action-btn:hover {
      background: var(--blue-hover);
    }

    /* ‚úÖ Audience Selector Buttons ‚Äî Match Explainer Style */
.aud-btn {
  border: 2px solid var(--blue);
  background: transparent;
  padding: 10px 22px;
  border-radius: 26px;
  font-size: 16px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: 0.25s;
  color: var(--blue);
}

.aud-btn:hover {
  background: rgba(26,79,179,0.10);
}

/* ‚úÖ Active (selected) state */
.aud-btn.active {
  background: var(--blue);
  color: #ffffff;
  border-color: var(--blue);
}

/* ‚úÖ Dark Mode readability */
html[data-theme="dark"] .aud-btn {
  color: #ffffff;
  border-color: #ffffff;
}

html[data-theme="dark"] .aud-btn.active {
  background: #ffffff;
  color: #000000;
}


    /* Restore buttons under cards */
    .restore-btn {
      padding: 8px 18px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--card);
      cursor: pointer;
      font-size: 14px;
    }

    /* ====================================================================== */
    /* ‚úÖ ACCESSIBILITY                                                        */
    /* ====================================================================== */
    :focus-visible {
      outline: 3px solid var(--blue);
      border-radius: 6px;
    }

    /* ====================================================================== */
    /* ‚úÖ RESPONSIVE                                                           */
    /* ====================================================================== */
    @media (max-width: 720px) {
      #mainHeader {
        padding: 10px 14px;
      }

      .header-left {
        display: none;
      }

      .header-right {
        gap: 6px;
      }

      #novakBrand {
        font-size: 22px;
      }

      #novakTagline {
        font-size: 12px;
      }

      .container {
        padding: 18px;
      }

      #headerControls {
        display: none;
      }

      #mobileMenuBtn {
        display: block;
      }
    }
  </style>
</head>

<body>

<!-- ‚úÖ GLOBAL HEADER -->
<header id="mainHeader">
  <div class="header-left"></div>

  <div class="header-center">
    <div id="novakBrand">NOVAK Protocol</div>
    <div id="novakTagline">
      <strong>NOVAK</strong> = <em>Novak Objective Verification of Autonomous Knowledge</em>
    </div>
    <a id="novakSiteLink"
       href="https://www.novakprotocol.com"
       target="_blank"
       rel="noopener noreferrer">
      www.novakprotocol.com
    </a>
  </div>

  <div class="header-right">
    <div id="headerControls">
      <button class="theme-toggle" onclick="toggleTheme()">Light/Dark</button>
    </div>
    <button id="mobileMenuBtn" onclick="toggleMobileMenu()">‚ò∞</button>
  </div>

<!-- ===== Documentation Dropdown Button ===== -->
<div class="dropdown">
  <button class="dropdown-btn" onclick="toggleDocsMenu()">Docs ‚ñº</button>

  <div id="docsMenu" class="dropdown-content">
    <div class="dropdown-header">NOVAK Documentation</div>

    <!-- PARTS 1‚Äì10 -->
    <a href="docs/Part-1_Executive_summary.md" target="_blank">PART 1 ‚Äî Executive Summary</a>
    <a href="docs/PART-2_What-NOVAK-Is.md" target="_blank">PART 2 ‚Äî What NOVAK Is</a>
    <a href="docs/PART-3_Scientific_Foundations.md" target="_blank">PART 3 ‚Äî Scientific Foundations</a>
    <a href="docs/PART-4_Formal_Architecture.md" target="_blank">PART 4 ‚Äî Formal Architecture</a>
    <a href="docs/PART-5_System_Model.md" target="_blank">PART 5 ‚Äî System Model</a>
    <a href="docs/PART-6_Implementation_Layers.md" target="_blank">PART 6 ‚Äî Implementation Layers</a>
    <a href="docs/PART-7_Security_Model.md" target="_blank">PART 7 ‚Äî Security Model</a>
    <a href="docs/PART-8_Governance_and_Compliance.md" target="_blank">PART 8 ‚Äî Governance & Compliance</a>
    <a href="docs/PART-9_Formal_Whitepaper.md" target="_blank">PART 9 ‚Äî Formal Whitepaper</a>
    <a href="docs/PART-10_Final_Summary_Use_Cases.md" target="_blank">PART 10 ‚Äî Final Summary + Use Cases</a>

    <div class="dropdown-divider"></div>

    <!-- APPENDICES -->
    <a href="docs/Appendix-A_Glossary.md" target="_blank">Appendix A ‚Äî Glossary</a>
    <a href="docs/Appendix-B_Mathematical_Notation_Guide.md" target="_blank">Appendix B ‚Äî Math Notation</a>
    <a href="docs/Appendix-C_Regulatory_Mapping.md" target="_blank">Appendix C ‚Äî Regulatory Mapping</a>
    <a href="docs/Appendix-D_Threat_Model_and_Security_Proof.md" target="_blank">Appendix D ‚Äî Threat Model</a>
    <a href="docs/Appendix-E_Government_Pitch_Deck.md" target="_blank">Appendix E ‚Äî Pitch Deck</a>
    <a href="docs/Appendix-F_High_School_Level_Explanation_of_the_NOVAK_PROTOCOL.md" target="_blank">Appendix F ‚Äî High School Explanation</a>

    <div class="dropdown-divider"></div>

    <!-- Legal -->
    <a href="docs/LICENSE-NOVAK.txt" target="_blank">LICENSE-NOVAK</a>
    <a href="docs/SECURITY.md" target="_blank">SECURITY.md</a>
  </div>
</div>
  
</header>

<!-- ‚úÖ MOBILE DROPDOWN -->
<div id="mobileMenuPanel">
  <button class="theme-toggle" onclick="toggleTheme()">Light/Dark Mode</button>
</div>

<!-- ‚úÖ MAIN CONTENT START -->
<div class="container">

  <!-- ================================================================ -->
  <!-- ‚úÖ AUDIENCE SELECTOR + WHY NOVAK + WHAT IS NOVAK SECTION         -->
  <!-- ================================================================ -->

  <h2 style="margin-top:24px; margin-bottom:10px;">Choose Your Role or Interest:</h2>

  <!-- Audience Selector -->
  <div id="audienceNav" class="pill-row" style="margin-bottom:16px;">
    <button id="btn-public"     class="aud-btn" onclick="setAudience('public')">üåç Public</button>
    <button id="btn-government" class="aud-btn" onclick="setAudience('government')">üèõ Government</button>
    <button id="btn-investor"   class="aud-btn" onclick="setAudience('investor')">üíº Investor</button>
    <button id="btn-cyber"      class="aud-btn" onclick="setAudience('cyber')">üõ° Cybersecurity</button>
    <button id="btn-academic"   class="aud-btn" onclick="setAudience('academic')">üéì Academic</button>
  </div>

  <!-- Audience messaging output -->
  <div id="audienceContent"
       class="card"
       style="margin-top:0; font-size:16px; line-height:1.55;">
  </div>

<div class="pill-row" style="justify-content:center; margin-top:16px;">
  
  <button id="restoreWhatIsBtn"
    onclick="restoreWhatIsNovakSection()"
    class="restore-btn"
    style="display:inline-flex;">
    üîÑ Show ‚ÄúWhat is NOVAK?‚Äù
  </button>
  
    <button id="restoreWhyBtn"
    onclick="restoreWhyNovakSection()"
    class="restore-btn"
    style="display:inline-flex;">
    üîÑ Show ‚ÄúWhy NOVAK ‚Äî Why Now?‚Äù
  </button>

  <button id="restoreWhatBtn"
    onclick="restoreWhatChangesSection()"
    class="restore-btn"
    style="display:inline-flex;">
    üîÑ Show ‚ÄúWhat Changes With NOVAK?‚Äù
  </button>
</div>

 <!-- WHAT IS NOVAK? (Name + NOT Blockchain/Bitcoin/SSL) -->
  <div id="whatIsNovakCard" class="card" style="margin-top:24px; position:relative;">
    <h2 class="section-title">What is NOVAK?</h2>

    <p style="margin-bottom:10px;">
      <strong>NOVAK</strong> stands for
      <strong>Novak Objective Verification of Autonomous Knowledge</strong>.
      It is a cryptographic ‚Äúgovernor‚Äù that forces any automated system to prove integrity
      <em>before</em> it is allowed to act.
    </p>

    <ul style="margin-left:20px; margin-bottom:14px;">
      <li><strong></strong>Humans, AI, or malware cannot silently bypass it.</li>
      <li><strong></strong>Every decision has a math-checkable receipt.</li>
      <li><strong></strong>A small, hardened layer that sits beside existing systems and
          enforces proof-before-action.</li>
    </ul>

    <p style="margin-bottom:8px; font-weight:600;">
      NOVAK is <u>not</u>:
    </p>
    <ul style="margin-left:20px; margin-bottom:6px;">
      <li>‚ùå Not a blockchain</li>
      <li>‚ùå Not a cryptocurrency or token</li>
      <li>‚ùå Not SSL/TLS or a VPN tunnel</li>
      <li>‚ùå Not a logging system that only reacts after harm</li>
    </ul>

    <p>
      Instead, NOVAK sits <em>in front</em> of critical actions and demands cryptographic proof that
      <strong>data, rules, and outputs all match</strong> what was approved. If anything is off ‚Äî it refuses
      to execute.
    </p>

    <!-- Close X -->
    <button onclick="dismissWhatIsNovak()"
      style="
        position:absolute;
        top:14px;
        right:14px;
        background:none;
        border:none;
        font-size:20px;
        cursor:pointer;
      "
      aria-label="Hide What is NOVAK section">
      ‚úï
    </button>

    <!-- Confirm hide -->
    <button onclick="dismissWhatIsNovak()" class="action-btn" style="margin-top:18px;">
      ‚úÖ Got it ‚Äî Hide
    </button>
  </div>

  
  <!-- WHY NOVAK ‚Äî WHY NOW? -->
  <div id="whyNovakCard" class="card" style="margin-top:24px; position:relative;">
    <h2 class="section-title">Why NOVAK ‚Äî Why Now?</h2>

    <p>
      Automation now approves mortgages, denies veterans‚Äô benefits, sets insurance rates, steers vehicles,
      recommends surgeries, and moves trillions of dollars ‚Äî often without proof of correctness, legality, or integrity.
    </p>

    <p style="margin-top:12px;">
      NOVAK changes this ‚Äî requiring mathematical proof <strong>before</strong> any automated action occurs.
    </p>

    <ul style="margin-top:12px; margin-left:20px;">
      <li>If data changes ‚Üí NOVAK detects instantly</li>
      <li>If rule is wrong ‚Üí NOVAK blocks execution</li>
      <li>If fraud occurs ‚Üí NOVAK produces evidence</li>
      <li>If system glitches ‚Üí NOVAK prevents harm</li>
    </ul>

    <p style="margin-top:14px; font-weight:600;">
      No blockchain. No cryptocurrency. No SSL/TLS tunnel. No central authority. Just cryptographic
      proof-before-action execution integrity.
    </p>

    <!-- Close X -->
    <button onclick="dismissWhyNovak()"
      style="
        position:absolute;
        top:14px;
        right:14px;
        background:none;
        border:none;
        font-size:20px;
        cursor:pointer;
      "
      aria-label="Hide Why NOVAK section">
      ‚úï
    </button>

    <!-- Confirm hide -->
    <button onclick="dismissWhyNovak()" class="action-btn" style="margin-top:18px;">
      ‚úÖ Got it ‚Äî Hide
    </button>
  </div>

 <!-- WHAT CHANGES WITH NOVAK -->
  <div id="whatChangesCard" class="card" style="margin-top:32px; position:relative;">
    <h2 class="section-title">What Changes With NOVAK?</h2>

    <p>
      Most systems today rely on logging <strong>after</strong> something already happened.
      NOVAK requires proof <strong>before</strong> action.
    </p>

    <div style="margin-top:14px;">
      <p style="color:var(--red); font-weight:600; margin-bottom:6px;">‚ùå Without NOVAK</p>
      <p style="margin-bottom:14px;">
        System executes even if data is wrong ‚Äî Hash exists but cannot stop harm ‚Äî Fraud discovered weeks or years later ‚Äî
        No mathematical guarantee of legality ‚Äî Human trust required.
      </p>

      <p style="color:var(--green); font-weight:600; margin-bottom:6px;">‚úÖ With NOVAK</p>
      <p>
        Proof required before action ‚Äî Data, rules &amp; output cryptographically bound ‚Äî
        Fraud blocked instantly ‚Äî Evidence auto-generated ‚Äî
        Trust replaced with math.
      </p>
    </div>

    <!-- Close X -->
    <button onclick="dismissWhatChanges()"
      style="
        position:absolute;
        top:14px;
        right:14px;
        font-size:20px;
        background:none;
        border:none;
        cursor:pointer;
      "
      aria-label="Hide What Changes With NOVAK">
      ‚úï
    </button>

    <!-- Confirm hide -->
    <button class="action-btn" onclick="dismissWhatChanges()" style="margin-top:18px;">
      ‚úÖ Got it ‚Äî Hide
    </button>
  </div>
  
   <!-- EXPLAINER BUTTONS -->
  <div style="margin-top:26px;" class="pill-row">
    <button class="pill-btn explain-btn" onclick="showExplain('simple')">ü§Ø I don't get it</button>
    <button class="pill-btn explain-btn" onclick="showExplain('milkshake')">ü•§ Milkshake Analogy</button>
    <button class="pill-btn explain-btn" onclick="showExplain('pencil')">üñçÔ∏è Pencil Analogy</button>
    <button class="pill-btn explain-btn" onclick="showExplain('key')">üîë Key Analogy</button>
    <button class="pill-btn explain-btn" onclick="showExplain('gov')">üèõ Federal Savings</button>
    <button class="pill-btn explain-btn" onclick="showExplain('how')">üëÅÔ∏è How This Works</button>
  </div>

  <!-- ANALOGY OUTPUT -->
  <div id="explainerOutput" class="card" style="display:none; margin-top:22px;"></div>

   <!-- ==================================================================== -->
  <!--  END OF PART 1 ‚Äî NEXT MESSAGE (PART 2) STARTS WITH TRY-IT HASH AREA  -->
  <!-- ==================================================================== -->
  
  <!-- ‚úÖ GUIDED AUTO-SCROLL WALKTHROUGH -->
<div class="card" style="margin-top:36px;">
  <h2 class="section-title">Guided NOVAK Walkthrough</h2>
  <p>Let NOVAK explain itself ‚Äî automatically, step-by-step.</p>

  <button class="action-btn"
          onclick="startStoryMode()"
          style="margin-top:12px;">
    ‚ñ∂ Begin Guided Demo
  </button>

<!-- ‚úÖ STORY PANEL -->
<div id="storyPanel"
     class="card"
     style="display:none; margin-top:20px; font-size:15px; line-height:1.6;">
</div>
<!-- Moved this here -->
</div>

<!-- ‚úÖ PART 2 ‚Äî Try It + Hash Engine + Example Data + File Drop + VIN + Games -->

<!-- ‚úÖ TRY IT ‚Äî LIVE HASH INPUT -->
<div class="card" style="margin-top:38px;">
  <h2 class="section-title">Try It ‚Äî Prove Integrity Yourself</h2>

  <br>
  <p>If <u>you</u> type exactly <b>TEST</b>, all in capitals, in the below text field, what SHA-256 will ouput in the Cryptographic Hashes area below the example datasets is:</p>
  <br>
  <p>TEST  ‚Üí 94ee059335e587e501cc4bf90613e0814f00a7b08bc7c648fd865a2af6a22cc2</p>
  <br>
  <p>Change one thing and it all changes</p>
  <br>
  <p>Test  ‚Üí 532eaabd9574880dbf76b9b8cc00832c20a6ec113d682299550d7a6e0f345e25</p>
  <br>
  <p>test  ‚Üí 9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08</p>
  <br>
  <p>tEsT  ‚Üí 876c5e143c421959adff3ed91b82556c433a2f79b6369e70592d2c9dc73455ce</p>
  <br>
  <p>
    Type, paste, or modify anything below ‚Äî NOVAK instantly generates cryptographic hashes locally
    using your device. Nothing is stored, logged, transmitted, or uploaded.
  </p>
  
  <textarea id="novakInput"
    placeholder="Example: VA claim, invoice, VIN, contract, JSON, SQL, XML..."
    style="width:100%; height:170px; margin-top:16px; font-family:'JetBrains Mono', monospace;
           font-size:14px; padding:12px;"></textarea>

  <!-- ‚úÖ Hash Algorithm Selector -->
  <div style="margin-top:16px; display:flex; flex-wrap:wrap; gap:18px;">
    <label><input type="checkbox" class="hashAlgo" value="SHA-256" checked> SHA-256</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA-512"> SHA-512</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA-384"> SHA-384</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA3-256"> SHA-3-256</label>
  </div>

<p style="margin-top:6px; font-size:13px; opacity:0.85;">
üö´This public demo is for educational purposes only ‚Äî NOT for HIPAA-regulated environments.
NOVAK does not collect, store, transmit, or retain data, but user responsibility applies.
</p>

<p style="margin-top:6px; font-size:13px; opacity:0.85;">
üö´ Never use real patients, real claims, or real medical documents here ‚Äî training data only.
</p>

<!-- ‚úÖ EXAMPLE DATASETS  -->
<div class="card" style="margin-top:32px;">
  <p>Example Datasets - Select one ‚Äî it instantly loads into the input above.</p>

  <div class="pill-row" style="margin-top:16px;">
    <button class="pill-btn" onclick="loadExample('va')">üéñÔ∏è VA Disability Claim</button>
    <button class="pill-btn" onclick="loadExample('finance')">üí∞ Financial Transaction</button>
    <button class="pill-btn" onclick="loadExample('robot')">ü§ñ Robotics Command</button>
    <button class="pill-btn" onclick="loadExample('ai')">üß† System Log</button>
    <button class="pill-btn" onclick="loadExample('legal')">‚öñÔ∏è Legal Filing</button>
  </div>
</div>

</div>

<!-- ‚úÖ HASH OUTPUT -->
<div class="card" style="margin-top:22px;">
  <h3 class="section-title" style="font-size:20px;">Cryptographic Hashes</h3>

  <div id="hashOutputList"
       style="margin-top:10px; font-family:'JetBrains Mono', monospace; font-size:14px;">
    <em>Waiting for input from above...</em>
  </div>
</div>

<div class="card" style="margin-top:26px;">
  <h2 class="section-title">What Can I Actually Do With This Hash?</h2>

  <p>
    Think of the hash as a <strong>digital fingerprint</strong> ‚Äî a unique, unforgeable identifier
    of the exact text or file you verified.
  </p>

    <h3 style="margin-top:14px;">What a normal person can do with it:</h3>
  
    <ul style="margin-left:20px; margin-top:10px; line-height:1.55;">
    <li><strong>Prove ‚Äúthis is the exact thing I had before.‚Äù</strong><br></li>
    Copy it and save it somewhere safe.<br>
        Paste into an email, document, claim note, or evidence file as:<br>
        <code>NOVAK Integrity Hash (SHA-256): &lt;your hash&gt;</code>
    </li>

    <li style="margin-top:10px;"><strong>Later, paste the SAME text/file back in.</strong><br>
        Paste the identical content back into NOVAK.<br>
        ‚Ä¢ If the hash <strong>matches</strong> ‚Üí ‚úÖ nothing changed.<br>
        ‚Ä¢ If the hash <strong>differs</strong> ‚Üí üü• content was altered (even by one invisible character).</li>

    <li style="margin-top:12px;"><strong>Use it as mathematical proof.</strong><br>
        This provides a cryptographic guarantee that the claim, record, log, or file
        hasn't been silently changed between two points in time.</li>

    <li style="margin-top:10px;"><strong>Catch invisible changes.</strong><br>
        Even a space or dot changes the hash completely ‚Äî exposing silent edits that steal money,
        reduce ratings, alter decisions, or manipulate claims.</li>

    <li style="margin-top:10px;"><strong>Anchor a moment in time.</strong><br>
        ‚ÄúOn this date, this exact text existed.‚Äù Courts, audits, and oversight can recompute the hash
        anytime to prove authenticity.</li>
  </ul>

  <p style="margin-top:16px; font-weight:600;">
    üëâ In short: <strong>Save the hash, compare it later. If it matches, nothing has changed.</strong><br><br>
    The hash is your before/after truth anchor.
  </p>
  <p style="margin-top:16px;">
    <strong>In full NOVAK deployments:</strong> Systems are <em>not even allowed to act</em> unless the hashes match the last approved truth.
  </p>
  </div>

  <div class="card" style="margin-top:26px;">
  <h2 class="section-title">Why Can't I Paste the Hash Back In?</h2>

  <p>
    A cryptographic hash is a <strong>one-way fingerprint</strong>. 
    When you paste the <em>hash itself</em> into the box, NOVAK creates a 
    <strong>new hash of the hash</strong> ‚Äî it does <em>not</em> recover the original text.
  </p>

  <p style="margin-top:12px;">
    That is expected. No cryptographic hash (SHA-256, SHA-512, SHA-3, etc.) is reversible.
  </p>

  <h3 style="margin-top:16px;">So what do you actually do with a saved hash?</h3>

  <ul style="margin-left:20px; margin-top:10px; line-height:1.6;">
    <li><strong>Save the hash</strong> somewhere safe (email, PDF, note, claim file).</li>

    <li style="margin-top:10px;">
      Later, paste the <strong>original text or file</strong> back into NOVAK.
    </li>

    <li style="margin-top:10px;">
      If the hash <strong>matches</strong> ‚Üí nothing changed.<br>
      If the hash <strong>does not match</strong> ‚Üí something was changed 
      (even one invisible character).
    </li>
  </ul>

  <p style="margin-top:16px; font-weight:600;">
    üëâ Pasting the hash itself is not the correct way.<br><br>
    You always re-verify by re-entering the <strong>original content</strong>.
  </p>

  <p style="margin-top:8px;">
    In a full NOVAK deployment, this process is automatic ‚Äî systems cannot act 
    unless their current hash matches the last approved truth.
  </p>
</div>
  
<!-- ========================================= -->
<!-- GPU, Hashing, and Why NOVAK Is Different   -->
<!-- ========================================= -->

<div class="card" style="margin-top:32px;">
  <h2 class="section-title">How NOVAK Computes Hashes ‚Äî And Why This Matters</h2>

  <h3 style="margin-top:14px;">Are These Real Cryptographic Hashes?</h3>
  <p>
    ‚úî <strong>YES.</strong>  
    Your browser is using the <strong>WebCrypto API</strong> ‚Äî the same cryptographic engine used by:
  </p>

  <ul style="margin-left:20px;">
    <li>Google Chrome internal security modules</li>
    <li>Apple WebKit encryption</li>
    <li>Federal FIPS-validatable cryptographic paths</li>
    <li>Progressive Web Apps (PWAs)</li>
  </ul>
  <br>
  <p>
    Nothing is sent to a server.  
    Nothing leaves your device.  
    Everything runs <strong>locally, client-side, instantly.</strong>
  </p>

  <h3 style="margin-top:18px;">Why Isn‚Äôt My GPU Being Used?</h3>
  <p>
    ‚úî GPUs are not used for SHA-256/384/512 because hashing is not a parallel-friendly operation.
  </p>
  <br>
  <p>
    ‚úî The browser delegates hashing to <strong>CPU hardware acceleration</strong>, not your graphics card.
  </p>

  <p style="margin-top:6px;">
    <strong>Hashing uses:</strong><br>
    ‚Ä¢ CPU<br>
    ‚Ä¢ Hardware-accelerated WebCrypto<br><br>
    <strong>NOT GPU compute.</strong>
  </p>

  <p>
    This is exactly what makes NOVAK strong ‚Äî it uses <em>verified, standard, secure cryptographic primitives</em> already supported at the hardware level.
  </p>
</div>

  <!-- ‚úÖ Why Hashing Alone Is NOT Enough -->
<div class="card" style="margin-top:26px;">
  <h2 class="section-title">How Is This Different Than Today?</h2>

  <p>
    Today, most systems generate hashes, signatures, logs, or encrypted traffic ‚Äî
    but none of those guarantee the <strong>correctness</strong> of automated actions.
  </p>

  <ul style="margin-left:20px; margin-top:12px; margin-bottom:16px;">
    <li>‚úÖ Hashing proves data hasn't changed ‚Äî <strong>after</strong> execution</li>
    <li>‚úÖ TLS/SSL protects communication ‚Äî not decision integrity</li>
    <li>‚úÖ Blockchain records history ‚Äî it cannot stop bad actions</li>
    <li>‚úÖ Logging documents failure ‚Äî it does not prevent it</li>
    <li>‚úÖ Audits require humans ‚Äî long after harm already occurred</li>
  </ul>

  <p style="font-weight:600; margin-bottom:12px;">
    NOVAK is different:
  </p>

  <ul style="margin-left:20px; margin-bottom:4px; font-weight:600;">
    <li>üö´ No cryptographic proof ‚Üí system is blocked</li>
    <li>üß© Input, rule & output must cryptographically match</li>
    <li>üõë Prevents fraud, corruption, glitches & silent automation failure</li>
    <li>üßæ Generates tamper-proof execution receipts instantly</li>
  </ul>

  <p style="margin-top:14px;">
    Instead of trusting ‚Äî NOVAK <strong>verifies before action</strong>.
  </p>
</div>

<!-- ========================================= -->
<!-- Why Hasn‚Äôt Anyone Built This Before?       -->
<!-- ========================================= -->

<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Why Hasn‚Äôt Anyone Built NOVAK Before?</h2>

  <p>NOVAK.....looks obvious once you see it. </p>
  <br>
  <p>But here‚Äôs the truth:</p>

  <ul style="margin-left:20px; margin-top:12px;">
    <li>‚úî Nobody does <strong>Proof-Before-Action</strong></li>
    <li>‚úî Nobody binds <strong>input ‚Üí rule ‚Üí output</strong> cryptographically</li>
    <li>‚úî Nobody performs <strong>local, real-time integrity verification</strong></li>
    <li>‚úî Nobody applies this to <strong>AI, robotics, finance, VA claims, or government systems</strong></li>
    <li>‚úî Nobody provides <strong>cryptographic receipts before harm occurs</strong></li>
  </ul>

  <p style="margin-top:14px;">
    Why?
    Because the entire industry copied <strong>blockchain</strong>, which only verifies 
    <em>after things happen</em>.
  </p>

  <p style="margin-top:10px;">
    Nobody thought to require systems to <strong>prove correctness before acting</strong>.
  </p>

  <p style="margin-top:16px; font-weight:600;">
    That is the NOVAK invention.
  </p>
</div>

  <!-- ‚úÖ AUTO-VERIFICATION TOGGLE -->
<div class="card" style="margin-top:32px;">
  <label style="display:flex; align-items:center; gap:10px; font-size:16px;">
    <input type="checkbox" id="autoVerifyToggle" checked>
    <strong>Enable Proof-Before-Action Engine (NOVAK Auto-Verification)</strong>
  </label>
  <p style="margin-top:6px; font-size:14px; opacity:0.8;">
    When enabled, NOVAK automatically checks whether any change breaks integrity 
    <strong>before</strong> execution.
  </p>
</div>


<!-- ‚úÖ AUTO-INJECT PROOF-BEFORE-ACTION DEMO -->
<div class="card" style="margin-top:22px;">
  <h3 class="section-title" style="font-size:20px;">
    NOVAK Auto-Verification ‚Äî Proof-Before-Action
  </h3>

  <p>
    Modify the text above and NOVAK instantly checks whether the new output
    still matches the last approved cryptographic truth.
  </p>

  <div id="autoVerifyStatus"
       style="margin-top:14px; 
              font-family:'JetBrains Mono', monospace; 
              font-size:15px;
              padding:14px;
              border-radius:8px;
              background:var(--card);
              border:1px solid var(--border);">
    Waiting for input...
  </div>
</div>
  
  <!-- ‚úÖ RGAC VISUALIZATION -->
<div class="card" style="margin-top:22px;">
  <h3 class="section-title" style="font-size:20px;">RGAC ‚Äî Recursive Global Audit Chain</h3>

  <p style="margin-bottom:12px;">
    In NOVAK, every approved output becomes the next input ‚Äî forming a self-verifying integrity chain.
  </p>

  <div id="rgac"
       style="font-family:'JetBrains Mono', monospace; font-size:14px;">
    <em>Provide input to begin...</em>
  </div>
</div>

<!-- ‚úÖ FILE DRAG & DROP VERIFICATION -->
<div class="card" style="margin-top:22px;">
  <h3 class="section-title" style="font-size:20px;">Verify Any File</h3>

<p style="margin-top:6px; font-size:13px; opacity:0.85;">
üö´ Never use real patients, real claims, or real medical documents here ‚Äî training data only.
</p>
  <p>
    Upload a PDF, medical record, scanned document, CSV, screenshot, legal filing ‚Äî
    NOVAK proves originality instantly using real cryptography.
  </p>

  <div id="dropzone"
       style="margin-top:14px; padding:22px; border:2px dashed var(--border);
              border-radius:10px; text-align:center; cursor:pointer;">
    üìÅ Drop file here or click to select
    <input id="fileInput" type="file" style="display:none" />
  </div>

  <div id="fileHashResult"
       style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px;"></div>
</div>

<!-- ‚úÖ VIN DECODER MODAL -->
<div id="vinModal"
     style="display:none; position:fixed; top:0; left:0; width:100%; height:100%;
            background:rgba(0,0,0,.55); justify-content:center; align-items:center; z-index:9999;">
  <div style="background:var(--card); padding:26px; border-radius:10px; width:440px;
              border:1px solid var(--border); box-shadow:0 4px 18px rgba(0,0,0,.35);">

    <h3 class="section-title" style="font-size:20px;">VIN Decoder</h3>

    <input id="vinInput"
           placeholder="Enter VIN (17 characters)"
           maxlength="17"
           style="margin-top:14px; width:100%; padding:10px;
                  border:1px solid var(--border); border-radius:6px;
                  font-family:'JetBrains Mono', monospace; font-size:15px;">

    <div id="vinResult"
         style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px;"></div>

    <button onclick="closeVinModal()" class="action-btn" style="margin-top:18px; width:100%;">
      Close
    </button>
  </div>
</div>

<!-- ‚úÖ INTERACTIVE MINI-GAMES -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Interactive Integrity Challenges</h2>

  <p>Learn NOVAK by doing ‚Äî spot fraud, detect tampering, prove originality.</p>

  <div class="pill-row" style="margin-top:16px;">
    <button class="pill-btn" onclick="startGame('tamper')">üïµÔ∏è Spot the Tampering</button>
    <button class="pill-btn" onclick="startGame('memory')">üß† Hash Memory Match</button>
    <button class="pill-btn" onclick="startGame('fraud')">üö® Fraud Detector</button>
  </div>

  <!-- game sound toggle -->
  <button onclick="toggleSound()"
          class="sound-toggle"
          aria-label="Toggle game sound"
          style="margin-top:14px; font-size:20px; background:none; border:none; cursor:pointer;">
    üîá
  </button>
</div>

<!-- ‚úÖ GAME RENDER CONTAINER -->
<div id="gameBox" class="card" style="margin-top:20px; display:none;"></div>

<!-- ‚úÖ STRUCTURED DATA VALIDATION -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Validate Structured Data</h2>

  <p>üö´ Never use real patients, real claims, or real medical documents here ‚Äî training data only.</p>
  <p>Upload JSON, SQL, XML, or TXT ‚Äî NOVAK proves it hasn‚Äôt changed before execution.</p>

  <input id="structuredFile"
         type="file"
         accept=".json,.sql,.xml,.txt"
         style="margin-top:16px;">

  <pre id="structuredResult"
       style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px;"></pre>
</div>

<!-- ‚úÖ AI TRANSPARENCY MODE -->
<div class="card" style="margin-top:32px;" id="transparencyCard">
  <h2 class="section-title">AI Transparency Mode</h2>

  <p>
    NOVAK makes automated decisions explainable, provable, lawful, and auditable ‚Äî
    instead of mysterious and unchallengeable.
  </p>

  <button onclick="toggleTransparency()" class="action-btn" style="margin-top:16px;">
    Enable Transparency View
  </button>
</div>

<!-- ‚úÖ TRANSPARENCY PANEL -->
<div class="card"
     id="transparencyView"
     style="display:none; margin-top:20px; font-family:'JetBrains Mono', monospace; font-size:14px;">
</div>

<!-- ‚úÖ INTEGRITY RECEIPT -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Integrity Receipt</h2>

  <p>
    NOVAK generates a tamper-proof receipt proving what existed, when, and under what rules ‚Äî
    useful for courts, claims, audits, cybersecurity, safety systems, and AI oversight.
  </p>

  <button class="action-btn" onclick="generateReceipt()" style="margin-top:12px;">
    Generate Receipt
  </button>

  <pre id="receiptOutput"
       style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px; white-space:pre-wrap;"></pre>
</div>

<!-- ‚úÖ COMPARISON SECTION -->
<div class="card"
     style="margin-top:48px; font-size:15px; line-height:1.63;">
  <h2 class="section-title">Why TLS, Blockchain & Bitcoin Cannot Prevent Automated Harm ‚Äî but NOVAK Can</h2>

  <h3 style="margin-top:18px;">‚ùå TLS / SSL</h3>
  <ul style="margin-left:20px;">
    <li>Encrypts transmission ‚Äî not correctness</li>
    <li>Assumes data and rules are already valid</li>
    <li>Cannot stop wrongful automation</li>
  </ul>
  ‚úÖ Protects communication ‚Äî not decisions.

  <h3 style="margin-top:18px;">‚ùå Blockchain</h3>
  <ul style="margin-left:20px;">
    <li>Records history after execution</li>
    <li>Slow, expensive, consensus-dependent</li>
    <li>Stores corrupted decisions forever</li>
  </ul>
  ‚úÖ Creates immutable logs ‚Äî not integrity.

  <h3 style="margin-top:18px;">‚ùå Bitcoin & Cryptocurrency</h3>
  <ul style="margin-left:20px;">
    <li>Designed for ownership & payments</li>
    <li>Not legally, medically, or operationally authoritative</li>
    <li>Solves accounting ‚Äî not correctness</li>
  </ul>
  ‚úÖ Proves who paid ‚Äî not whether a decision was right.

  <h3 style="margin-top:18px;">‚ùå Logging, Audits, SIEM</h3>
  <ul style="margin-left:20px;">
    <li>Detect failure AFTER damage</li>
    <li>Human investigation required</li>
    <li>No prevention, only forensics</li>
  </ul>
  ‚úÖ Finds harm ‚Äî doesn't stop it.

  <h3 style="margin-top:22px;">‚úÖ NOVAK Protocol</h3>
  <ul style="margin-left:20px; font-weight:600;">
    <li>Requires mathematical proof-before-action</li>
    <li>Cryptographically binds input ‚Üí rule ‚Üí output</li>
    <li>Blocks execution if ANYTHING changes</li>
    <li>Produces tamper-proof receipts instantly</li>
    <li>No blockchain, tokens, mining, or consensus required</li>
    <li>Runs locally, offline, universally</li>
  </ul>

  ‚úÖ Protects humans, veterans, patients, taxpayers, agencies & national security.
</div>

<!-- ‚úÖ EXECUTIVE REPORT EXPORT -->
<div class="card" style="margin-top:36px;">
  <h2 class="section-title">Generate Executive Report</h2>
  <p>A clean, one-page NOVAK briefing for policymakers, executives, and investors.</p>

  <button class="action-btn"
          onclick="exportBriefing()"
          style="margin-top:12px;">
    üìÑ Export Executive Report
  </button>
</div>

  <div class="card" style="margin-top:36px;">
      <h1>Deterministic Execution Integrity</h1>
    <div class="quote-text">
        Asimov gave robots fictional ethics.<br><br>
      <p> Turing defined when a machine is allowed to compute. </p>
        <br>
        <strong>NOVAK defines when a machine is allowed to <span class="quote-highlight">ACT</span></strong> ‚Äî and forces it to prove it obeyed the law before it does.
    </div>
    <br>
    <div class="quote-separator">
        - That is the difference between science fiction and civilization infrastructure.
    </div>
    <br>
    <div class="quote-text">
        <div class="quote-highlight">Deterministic Execution Integrity - No system may execute without provable truth!</div>
    </div>
    <br>
  </div>

 <!-- SONG: BREAK THE CHAIN -->
  <div class="card">
    <h2 class="section-title">‚ÄúBreak the Chain‚Äù - AI Assist with this song</h2>
    <p>Power of Math and AI. This is a track and lyrics I made and mixed using an AI assist</p> 
      <p> ‚Äî it is about breaking invisible chains of harm, bias, and corruption in automated systems</p>
    <br>
       <p>  - exactly what I felt like while making this.</p>
<br>
    <p>
    Lot's of bass! So depending on mood and taste adjust volume as appropriate.
    </p>
    
    <button class="action-btn" style="margin-top:10px;" onclick="toggleSongLyrics()">
      üéß Show / Hide Lyrics
    </button>

    <div id="songBlock" style="display:none; margin-top:16px;">
      <p>
        <a id="songLink" href="#" target="_blank" rel="noopener noreferrer">
          ‚ñ∂ Listen to ‚ÄúBreak the Chain‚Äù (link coming soon)
        </a>
      </p>

      <pre style="margin-top:14px; white-space:pre-wrap; font-family:'JetBrains Mono', monospace; font-size:14px;">[Intro]

YEAH!
Pressure on the brain‚Äî
Chain on my neck, weight in my name!

[Verse 1]

Heartbeat drum, it‚Äôs a war inside,
Every step I take, somethin‚Äô gotta die.
Dreams in a chokehold, breath runnin‚Äô thin,
Mirror show a beast I been holdin‚Äô in.

No peace, no plan, just fight,
Concrete talk, that streetlight bite.
Every scar got a story to tell,
Every loss lit a match in hell.

[Hook / Chorus]

I‚Äôm ‚Äôbout to break the chain!
Ain‚Äôt no fear left in my veins.
I‚Äôm ‚Äôbout to break the chain!
Hear that thunder call my name.
Walls can‚Äôt hold this pain‚Äî
I‚Äôm ‚Äôbout to break the chain!

[Verse 2]

Born in the static, raised in the grime,
Life hit hard but I stayed in time.
Eyes wide open, soul don‚Äôt sleep,
Loyalty deep, that code I keep.

Now I move like storm and flame,
Every breath scream my claim.
If the devil want a piece, he can try‚Äî
I bite back twice before I die.

[Hook 2]

I‚Äôm ‚Äôbout to break the chain!
Whole world feel that strain.
I‚Äôm ‚Äôbout to break the chain!
Let the rage run down the drain.
Ain‚Äôt no cage for this brain‚Äî
I‚Äôm ‚Äôbout to break the chain!

[Bridge / Breakdown]

(beat drops to filtered 808 + vocal echo)
Gotta fight my way, gotta earn my crown,
Every time they push, I won‚Äôt back down.
Blood in my mouth, still I laugh insane‚Äî
Say my name, say my name!

I‚Äôm ‚Äôbout to break the chain!
Bones crack, beats remain.
I‚Äôm ‚Äôbout to break the chain!
Freedom roars inside my brain.
When that fire hits my veins‚Äî
I‚ÄôM! BOUT! TO! BREAK! THE! CHAIN!

      </pre>
    </div>
  </div>

  
<!-- ‚úÖ FOOTER -->
<footer style="text-align:center; margin-top:60px; font-size:14px; opacity:0.85; line-height:1.5;">
  NOVAK Protocol ‚Äî Novak Objective Verification of Autonomous Knowledge<br>
  Proof-Before-Action ‚Äî Patent Pending ‚Äî Copyright ¬© 2025 Matthew Novak<br><br>

  PADI 30-Year Member IDC Staff Instructor #888850 ‚Äî
  <a href="https://www.padi.com" target="_blank" rel="noopener noreferrer">www.padi.com</a><br>
<br>
  o7 Star Citizen Referral ‚Äî
  <a href="https://www.robertsspaceindustries.com/enlist?referral=STAR-KRN7-SJTX"
     target="_blank" rel="noopener noreferrer">STAR-KRN7-SJTX</a><br><br>

  Donations: emailto:matthew@novakprotocol.com
  <br>
  <br>

  Nothing stored, logged, transmitted, analyzed, monitored, sold, or shared.<br>
  100% local, private, client-side cryptographic verification.
</footer>

<!-- ‚úÖ GLORY TO GOD -->
<div style="display:flex; justify-content:center; margin-top:60px;">
  <button class="action-btn" onclick="toggleGlorySection()"
    style="font-size:16px; padding:12px 26px; border-radius:10px;">
    ‚úùÔ∏è Glory to God
  </button>
</div>

<div id="glorySection" class="card"
  style="display:none; margin-top:26px; font-size:15px; line-height:1.63;">
  <p style="font-style:italic; font-size:1.1rem; text-align:center; margin-bottom:22px;">
    ‚ÄúThe LORD detests lying lips, but He delights in those who act faithfully.‚Äù ‚Äî Proverbs 12:22
  </p>
  <p>
    The NOVAK Protocol exists because truth has intrinsic value ‚Äî and wrongdoing, deception,
    and hidden harm must be revealed, not rewarded.
  </p>
  <br>
  <p>
    Mathematical integrity reflects moral integrity ‚Äî honesty, accountability, and justice.
  </p>
    <br>
  <p style="font-weight:600;">Everything good in this work belongs to God. Everything flawed belongs to me.</p>
    <br>
  <p>
    May this technology protect the vulnerable, restrain corruption, and advance human dignity.
  </p>
</div>

</div> <!-- END MAIN CONTAINER -->

<!-- ‚úÖ FULL JAVASCRIPT ENGINE -->

<script>
/* ============================
   GLOBAL STATE
=============================*/
let currentAudience = "public";
let soundEnabled = false;
let storyIndex = 0;
let storyInterval;

/* ============================
   THEME TOGGLE
=============================*/
function toggleTheme() {
  const html = document.documentElement;
  const newTheme = html.getAttribute("data-theme") === "light" ? "dark" : "light";
  html.setAttribute("data-theme", newTheme);
  localStorage.setItem("novakTheme", newTheme);
}
(function () {
  const saved = localStorage.getItem("novakTheme");
  if (saved) document.documentElement.setAttribute("data-theme", saved);
})();

/* ============================
   MOBILE MENU
=============================*/
function toggleMobileMenu() {
  const m = document.getElementById("mobileMenuPanel");
  m.style.display = m.style.display === "flex" ? "none" : "flex";
}

/* ============================
   AUDIENCE ENGINE
=============================*/
const audienceMessages = {
  public: "NOVAK protects everyday people by ensuring automated decisions affecting healthcare, housing, employment, credit, pricing, education, transportation, and safety cannot silently miscalculate, manipulate, or harm.",
  government: "NOVAK prevents improper payments, wrongful denials, silent automation failure, procurement fraud, evidence tampering, and catastrophic system mistakes ‚Äî without requiring new infrastructure.",
  investor: "NOVAK creates a new execution integrity market ‚Äî reducing enterprise risk, enabling defensible automation, expanding AI commercialization, and unlocking trillion-dollar modernization opportunities.",
  cyber: "NOVAK adds the missing pillar to cybersecurity ‚Äî prevention. No consensus, no blockchain, no latency ‚Äî just mathematical proof that data, rules & outputs haven't changed before execution.",
  academic: "NOVAK formalizes deterministic execution integrity by cryptographically binding attested inputs, governing rules, generated outputs, timestamps, and execution identity into a verifiable receipt."
};

function setAudience(type) {
  currentAudience = type;
  document.getElementById("audienceContent").textContent = audienceMessages[type];

  document.querySelectorAll(".aud-btn").forEach(b => b.classList.remove("active"));
  document.getElementById(`btn-${type}`).classList.add("active");
}

/* ============================
  WHY NOVAK ‚Äî DISMISS & RESTORE
=============================*/
function dismissWhyNovak() {
  document.getElementById("whyNovakCard").style.display = "none";
  document.getElementById("restoreWhyBtn").style.display = "inline-flex";
  localStorage.setItem("whyNovakDismissed", "true");
}
function restoreWhyNovakSection() {
  document.getElementById("whyNovakCard").style.display = "block";
  document.getElementById("restoreWhyBtn").style.display = "none";
  localStorage.removeItem("whyNovakDismissed");
}
function restoreWhyNovakOnLoad() {
  if (localStorage.getItem("whyNovakDismissed") === "true") dismissWhyNovak();
}

/* ============================
 WHAT IS NOVAK ‚Äî DISMISS & RESTORE ‚úÖ FIXED
=============================*/
function dismissWhatIsNovak() {
  document.getElementById("whatIsNovakCard").style.display = "none";
  document.getElementById("restoreWhatIsBtn").style.display = "inline-flex";
  localStorage.setItem("whatIsNovakDismissed", "true");
}
function restoreWhatIsNovakSection() {
  document.getElementById("whatIsNovakCard").style.display = "block";
  document.getElementById("restoreWhatIsBtn").style.display = "none";
  localStorage.removeItem("whatIsNovakDismissed");
}
function restoreWhatIsNovakOnLoad() {
  if (localStorage.getItem("whatIsNovakDismissed") === "true") dismissWhatIsNovak();
}

/* ============================
 WHAT CHANGES ‚Äî DISMISS & RESTORE
=============================*/
function dismissWhatChanges() {
  document.getElementById("whatChangesCard").style.display = "none";
  document.getElementById("restoreWhatBtn").style.display = "inline-flex";
  localStorage.setItem("whatChangesDismissed", "true");
}
function restoreWhatChangesSection() {
  document.getElementById("whatChangesCard").style.display = "block";
  document.getElementById("restoreWhatBtn").style.display = "none";
  localStorage.removeItem("whatChangesDismissed");
}
function restoreWhatChangesOnLoad() {
  if (localStorage.getItem("whatChangesDismissed") === "true") dismissWhatChanges();
}

/* ============================
   EXPLAINER BUTTONS & OUTPUT
=============================*/
const explainTexts = {
  simple: "NOVAK requires proof-before-action ‚Äî meaning systems must prove correctness before executing, not after failure.",
  milkshake: "If a milkshake spills, you see it. In digital systems, corruption is invisible ‚Äî NOVAK makes tampering visible instantly.",
  pencil: "Like coloring with pencils ‚Äî once marked, you can't erase without evidence. NOVAK ensures all digital changes leave proof.",
  key: "A door key doesn't open every house ‚Äî NOVAK ensures only correct, verified data can unlock execution.",
  gov: "NOVAK could save billions by preventing improper payments, fraud, and automation mistakes before they occur.",
  how: "NOVAK binds input, rule, and output into a cryptographic receipt. If anything changes ‚Äî execution is blocked."
};

function showExplain(key, el) {
  const panel = document.getElementById("explainerOutput");
  panel.style.display = "block";
  panel.textContent = explainTexts[key];

  document.querySelectorAll(".explain-btn, .pill-btn")
    .forEach(btn => btn.classList.remove("active"));

  el.classList.add("active");
  panel.scrollIntoView({ behavior: "smooth" });
}

/* ============================
   LIVE HASH ENGINE
=============================*/
async function computeHash(algorithm, value) {
  const data = typeof value === "string"
    ? new TextEncoder().encode(value)
    : new Uint8Array(value);
  const digest = await crypto.subtle.digest(algorithm, data);
  return Array.from(new Uint8Array(digest))
    .map(b => b.toString(16).padStart(2, "0"))
    .join("");
}

async function updateHashes() {
  const input = document.getElementById("novakInput").value;
  const list = document.getElementById("hashOutputList");

  if (!input.trim()) {
    list.innerHTML = "<em>Waiting for input from above...</em>";
    document.getElementById("rgac").innerHTML = "<em>Provide input to begin...</em>";
    return;
  }

  const selected = [...document.querySelectorAll(".hashAlgo:checked")].map(a => a.value);
  if (!selected.length) {
    list.innerHTML = "<em>Select at least one hashing algorithm.</em>";
    return;
  }

  list.innerHTML = "";
  for (const algo of selected) {
    const hash = await computeHash(algo, input);

    list.innerHTML += `
      <div style="margin-bottom:18px;">
        <strong>${algo}:</strong><br>
        <span style="font-family:'JetBrains Mono', monospace; word-break:break-all;">
          ${hash}
        </span>
        <br>
        <button class="copy-btn"
          onclick="navigator.clipboard.writeText('${hash}')"
          style="margin-top:6px; padding:4px 10px; font-size:13px;">
          Copy
        </button>
      </div>`;
  }

  updateRGAC(input);
/* ===========================================
   AUTO PROOF-BEFORE-ACTION ENGINE (E)
===========================================*/
let lastApprovedHash = null;

function autoVerify(value) {
  const status = document.getElementById("autoVerifyStatus");

  if (!value.trim()) {
    status.innerHTML = "Waiting for input...";
    lastApprovedHash = null;
    return;
  }

  /* ===========================================
   AUTO-VERIFICATION TOGGLE CONTROL
===========================================*/
function isAutoVerifyEnabled() {
  const box = document.getElementById("autoVerifyToggle");
  return box && box.checked;
}

  computeHash("SHA-256", value).then(currentHash => {
    if (lastApprovedHash === null) {
      lastApprovedHash = currentHash;
      status.innerHTML = `üü¶ First hash approved<br><strong>SHA-256:</strong> ${currentHash}`;
      return;
    }

    if (lastApprovedHash === currentHash) {
      status.innerHTML = `üü© Verified ‚Äî No changes detected<br><strong>SHA-256:</strong> ${currentHash}`;
    } else {
      status.innerHTML = `üü• BLOCKED ‚Äî Integrity changed BEFORE execution<br><strong>Old:</strong> ${lastApprovedHash}<br><strong>New:</strong> ${currentHash}`;
    }
  });
}

  
}

document.getElementById("novakInput").addEventListener("input", () => {
  updateHashes();

  if (isAutoVerifyEnabled()) {
    autoVerify(document.getElementById("novakInput").value);
  } else {
    document.getElementById("autoVerifyStatus").innerHTML =
      "<em>Auto-Verification disabled.</em>";
  }
});


/* ============================
   RGAC VISUALIZER
=============================*/
function updateRGAC(value) {
  const box = document.getElementById("rgac");
  if (!value.trim()) {
    box.innerHTML = "<em>Provide input to begin...</em>";
    return;
  }
  const labels = ["Data", "Rule", "Output", "Verifier", "Receipt"];
  box.innerHTML = labels.map((l, i) =>
    `<span style="padding:4px 10px;border:1px solid var(--border);
     border-radius:6px; margin-right:6px; display:inline-block;">
     ${l} #${i + 1}
     </span>`
  ).join("");
}

/* ============================
   FILE HASH VERIFICATION
=============================*/
const dropzone = document.getElementById("dropzone");
const fileInput = document.getElementById("fileInput");
const fileHashResult = document.getElementById("fileHashResult");

dropzone.addEventListener("click", () => fileInput.click());
dropzone.addEventListener("dragover", e => {
  e.preventDefault();
  dropzone.style.background = "rgba(26,79,179,0.07)";
});
dropzone.addEventListener("dragleave", () =>
  dropzone.style.background = "transparent"
);
dropzone.addEventListener("drop", e => {
  e.preventDefault();
  dropzone.style.background = "transparent";
  handleFileHash(e.dataTransfer.files[0]);
});
fileInput.addEventListener("change", e =>
  handleFileHash(e.target.files[0])
);

async function handleFileHash(file) {
  if (!file) return;
  const buf = await file.arrayBuffer();
  const hash = await computeHash("SHA-256", buf);
  fileHashResult.innerHTML =
    `‚úÖ <strong>${file.name}</strong><br>SHA-256: <code>${hash}</code>`;
}

/* ============================
   EXAMPLE DATASETS
=============================*/
const examples = {
  va: "Veteran: John Doe\nClaim #: 27-982271\nCondition: Lumbar Spine Degeneration\nRating Requested: 70%\nFiled: 2024-10-17",
  medical: "Patient: Sarah Collins\nDiagnosis: Acute Appendicitis\nMedication: IV Ceftriaxone\nPhysician: Dr. Patel",
  finance: "Wire Transfer: $82,750\nSender: Redwood Logistics\nRecipient: Meridian Aerospace\nRouting: 021000021",
  robot: "Robot Command: LIFT-PALLET\nWarehouse Zone: C7\nWeight Limit: 225 kg\nAuthorization: Level-3 Supervisor",
  ai: "AI Output ‚Äî Content Filter\nUserID: 992882\nReason: Probable Misinformation\nConfidence: 0.82",
  legal: "Court Filing ‚Äî Motion to Compel\nDocket #: 5:24-cv-1772\nFiled: March 4, 2025\nJurisdiction: 9th Circuit"
};
function loadExample(key) {
  document.getElementById("novakInput").value = examples[key] || "";
  updateHashes();
}

/* ============================
   VIN DECODER MODAL
=============================*/
function openVinModal() {
  document.getElementById("vinModal").style.display = "flex";
}
function closeVinModal() {
  document.getElementById("vinModal").style.display = "none";
}
function decodeCorvetteVIN(vin) {
  if (vin.length !== 17) return "‚ùå VIN must be 17 characters.";
  const year = { N: 2022 }[vin[9]] || "Unknown";
  const plant = { "5": "Bowling Green, Kentucky" }[vin[10]] || "Unknown";
  const model = vin.startsWith("1G1Y") ? "Chevy Corvette Stingray" : "Unknown Model";
  return `Model: ${model}\nYear: ${year}\nAssembly Plant: ${plant}\nSequence: ${vin.slice(11)}`;
}
document.getElementById("vinInput")?.addEventListener("input", () => {
  vinResult.innerHTML = `<pre>${decodeCorvetteVIN(vinInput.value.trim())}</pre>`;
});

/* ============================
 ‚úÖ MINI-GAMES ‚Äî NOW FULLY WORKING
=============================*/
function toggleSound() {
  soundEnabled = !soundEnabled;
  document.querySelector(".sound-toggle").textContent =
    soundEnabled ? "üîä" : "üîá";
}

function startGame(type) {
  const box = document.getElementById("gameBox");
  box.style.display = "block";

  if (type === "tamper") return gameTamper();
  if (type === "memory") return gameMemory();
  if (type === "fraud") return gameFraud();
}

/* üïµÔ∏è Spot the Tampering */
function gameTamper() {
  const original = "Approved VA Claim ‚Äî Rating 70% ‚Äî 2025-03-14";
  const tampered = "Approved VA Claim ‚Äî Rating 10% ‚Äî 2025-03-14";

  document.getElementById("gameBox").innerHTML = `
    <h3>üïµÔ∏è Spot the Tampering</h3>
    <p>Two records ‚Äî one was altered. Which one triggers NOVAK?</p>

    <pre>${original}</pre>
    <pre>${tampered}</pre>

    <div style="display:flex; gap:10px; margin-top:14px;">
      <button class="action-btn" onclick="checkTamper(true)">Top is Original ‚úÖ</button>
      <button class="action-btn" onclick="checkTamper(false)">Bottom is Original ‚úÖ</button>
    </div>

    <div id="tamperResult" style="margin-top:16px; font-weight:600;"></div>
  `;
}
function checkTamper(choice) {
  const result = document.getElementById("tamperResult");
  if (choice)
    result.textContent = "‚úÖ Correct ‚Äî NOVAK detects rating manipulation instantly.";
  else
    result.textContent =
      "‚ùå Incorrect ‚Äî silent benefit reductions could occur without NOVAK.";
}

/* üß† Memory Match */
function gameMemory() {
  const words = ["NOVAK", "Integrity", "Receipt", "Hash", "Proof", "Audit"];
  const shuffled = [...words, ...words].sort(() => Math.random() - 0.5);

  document.getElementById("gameBox").innerHTML = `
    <h3>üß† Hash Memory Match</h3>
    <p>Match pairs ‚Äî NOVAK ensures data consistency the same way.</p>

    <div id="memoryGrid"
         style="display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-top:16px;">
    </div>

    <div id="memoryStatus" style="margin-top:16px; font-weight:600;"></div>
  `;

  const grid = document.getElementById("memoryGrid");
  shuffled.forEach((word, idx) => {
    const btn = document.createElement("button");
    btn.textContent = "‚ùì";
    btn.dataset.value = word;
    btn.dataset.index = idx;
    btn.className = "action-btn";
    btn.style.padding = "12px";
    btn.onclick = () => handleMemoryClick(btn);
    grid.appendChild(btn);
  });

  window.memoryFirst = null;
  window.memoryMatches = 0;
}
function handleMemoryClick(btn) {
  btn.textContent = btn.dataset.value;

  if (!memoryFirst) {
    memoryFirst = btn;
    return;
  }

  if (memoryFirst.dataset.value === btn.dataset.value &&
      memoryFirst !== btn) {
    memoryMatches++;
    memoryFirst.style.background = "#059669";
    btn.style.background = "#059669";
    memoryFirst.disabled = true;
    btn.disabled = true;

    if (memoryMatches === 6)
      document.getElementById("memoryStatus").textContent =
        "‚úÖ Perfect ‚Äî NOVAK never forgets integrity!";
  } else {
    setTimeout(() => {
      memoryFirst.textContent = "‚ùì";
      btn.textContent = "‚ùì";
    }, 700);
  }
  memoryFirst = null;
}

/* üö® Fraud Detector */
function gameFraud() {
  const clean = "Invoice #88427 ‚Äî $4,620 ‚Äî Approved ‚Äî 2025-04-02";
  const fraud = "Invoice #88427 ‚Äî $84,620 ‚Äî Approved ‚Äî 2025-04-02";

  document.getElementById("gameBox").innerHTML = `
    <h3>üö® Fraud Detector</h3>
    <p>One transaction was manipulated ‚Äî NOVAK would stop it instantly.</p>

    <pre>${clean}</pre>
    <pre>${fraud}</pre>

    <button class="action-btn" onclick="detectFraud()" style="margin-top:14px;">
      Run Integrity Check ‚úÖ
    </button>

    <div id="fraudResult" style="margin-top:16px; font-weight:600;"></div>
  `;
}
function detectFraud() {
  document.getElementById("fraudResult").textContent =
    "‚úÖ Fraud detected ‚Äî amount alteration breaks cryptographic binding.";
}

/* ============================
   STRUCTURED DATA VALIDATION
=============================*/
document.getElementById("structuredFile")?.addEventListener("change", async e => {
  const f = e.target.files[0];
  if (!f) return;
  const txt = await f.text();
  const sha = await computeHash("SHA-256", txt);

  structuredResult.innerHTML =
    `‚úÖ File loaded ‚Äî integrity proven\n\nSHA-256: ${sha}`;
});

/* ============================
   TRANSPARENCY MODE
=============================*/
function toggleTransparency() {
  const p = document.getElementById("transparencyView");
  p.style.display = p.style.display === "none" ? "block" : "none";

  p.innerHTML =
    `DATA ‚ûú RULE ‚ûú OUTPUT\n\nMathematically bound, cryptographically verified.`;
}

/* ============================
   EXECUTION RECEIPT
=============================*/
async function generateReceipt() {
  const text = document.getElementById("novakInput").value.trim();
  if (!text) return alert("Enter something first!");

  const sha = await computeHash("SHA-256", text);
  const timestamp = new Date().toISOString();

  receiptOutput.textContent =
`NOVAK Execution Integrity Receipt
----------------------------------
Timestamp: ${timestamp}
SHA-256: ${sha}

This proves what existed, when, and under what rules.`;
}

/* ===============================
   Documentation Dropdown
================================ */
function toggleDocsMenu() {
  const menu = document.getElementById("docsMenu");
  const isOpen = menu.style.display === "block";
  menu.style.display = isOpen ? "none" : "block";
}

// auto-close dropdown when clicking outside
document.addEventListener("click", function (e) {
  const menu = document.getElementById("docsMenu");
  const button = document.querySelector(".dropdown-btn");

  if (!menu || !button) return;

  if (!menu.contains(e.target) && !button.contains(e.target)) {
    menu.style.display = "none";
  }
});


/* ============================
   WALKTHROUGH MODE
=============================*/
const slides = [
  "Welcome ‚Äî NOVAK fixes the world‚Äôs most dangerous hidden problem: automation without proof.",
  "Today, systems approve loans, surgeries, benefits, procurement, sentencing ‚Äî without guaranteed correctness.",
  "NOVAK requires mathematical execution integrity ‚Äî BEFORE automated action.",
  "Hashes alone don't prevent harm. NOVAK binds data, rules & outputs into a cryptographic execution receipt.",
  "If anything changes ‚Äî fraud, glitch, bias, breach ‚Äî NOVAK blocks execution.",
  "Government, healthcare, banking, defense & AI become provably safe and accountable.",
  "Now try entering text below ‚Äî NOVAK proves it instantly.",
  "NOVAK doesn't replace systems ‚Äî it protects them.",
  "Proof-before-action becomes the new global safety standard."
];
function startStoryMode() {
  storyPanel.style.display = "block";
  storyIndex = 0;
  storyPanel.textContent = slides[0];
  clearInterval(storyInterval);

  storyInterval = setInterval(() => {
    storyIndex++;
    if (storyIndex >= slides.length) return clearInterval(storyInterval);
    storyPanel.textContent = slides[storyIndex];
    storyPanel.scrollIntoView({ behavior: "smooth" });
  }, 4500);
}

/* ============================
   EXECUTIVE BRIEF EXPORT
=============================*/
function exportBriefing() {
  const text =
`NOVAK Protocol ‚Äî Executive Briefing

Mission:
Prevent catastrophic automated decisions by requiring mathematical proof-before-action.

Why Existing Security Fails:
‚Ä¢ TLS secures transmission ‚Äî not correctness
‚Ä¢ Blockchain records events ‚Äî it cannot stop harm
‚Ä¢ Bitcoin proves ownership ‚Äî not legality or truth
‚Ä¢ Logging happens after ‚Äî when damage is irreversible

What NOVAK Solves:
‚Ä¢ Proves input, rule & output correctness before execution
‚Ä¢ Prevents fraud, bias, miscalculation & silent corruption
‚Ä¢ Generates tamper-proof execution receipts
‚Ä¢ Works offline, locally ‚Äî no blockchain needed

Where NOVAK Applies:
VA, DoD, CMS, SSA, DOJ, DHS, IRS, Treasury
Hospitals, insurers, banks, aviation, robotics, AI

Status:
Patent Pending ‚Äî Matthew Novak
www.NOVAKProtocol.com`;

  const blob = new Blob([text], { type: "text/plain"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "NOVAK_Executive_Report.txt";
  a.click();
  URL.revokeObjectURL(url);
}

  /* ============ GLORY TO GOD & SONG TOGGLE ============ */
  function toggleGlorySection() {
    const box = document.getElementById("glorySection");
    const show = box.style.display === "none" || !box.style.display;
    box.style.display = show ? "block" : "none";
    if (show) {
      const rect = box.getBoundingClientRect();
      const top = window.scrollY + rect.top - 90;
      window.scrollTo({ top, behavior: "smooth" });
    }
  }

  function toggleSongLyrics() {
    const block = document.getElementById("songBlock");
    const show = block.style.display === "none" || !block.style.display;
    block.style.display = show ? "block" : "none";
  }

/* ============================
   INIT ON LOAD ‚úÖ IMPORTANT
=============================*/
document.addEventListener("DOMContentLoaded", () => {
  setAudience("public");
  restoreWhyNovakOnLoad();
  restoreWhatIsNovakOnLoad();   // ‚úÖ Now included
  restoreWhatChangesOnLoad();
  updateHashes();
});

/* ============================================================
   WOW MODE ‚Äì AUTO-DETECT MANIPULATION
   ============================================================ */
let wowMode = true;   // toggle if needed
let lastHash = "";
let lastUpdate = 0;

// attach into your existing hash update pipeline
async function detectTamper(value) {
  if (!wowMode) return;

  const now = performance.now();
  const sha = await computeHash("SHA-256", value);

  // first hash
  if (!lastHash) {
    lastHash = sha;
    lastUpdate = now;
    return;
  }

  // if hash changes faster than a human could type ‚Üí automation or corruption
  const diff = now - lastUpdate;
  if (sha !== lastHash && diff < 45) {
    showTamperAlert();
  }

  lastHash = sha;
  lastUpdate = now;
}

function showTamperAlert() {
  const box = document.createElement("div");
  box.style.position = "fixed";
  box.style.bottom = "30px";
  box.style.right = "30px";
  box.style.padding = "16px 22px";
  box.style.borderRadius = "10px";
  box.style.background = "#b91c1c";
  box.style.color = "white";
  box.style.fontWeight = "600";
  box.style.boxShadow = "0 4px 12px rgba(0,0,0,.35)";
  box.style.zIndex = "99999";
  box.textContent = "üü• Suspicious automated modification detected ‚Äî NOVAK blocked execution";

  document.body.appendChild(box);
  setTimeout(() => box.remove(), 4200);
}

/* hook into your existing updateHashes() */
const _updateHashes = updateHashes;
updateHashes = async function() {
  await _updateHashes();
  const txt = document.getElementById("novakInput").value;
  detectTamper(txt);
};

/* ============================================================
   FIX: STICKY HEADER SCROLL (Explain Buttons)
   ============================================================ */
const originalShowExplain = showExplain;
showExplain = function(key, el) {
  originalShowExplain(key, el);
  const panel = document.getElementById("explainerOutput");

  // ensures correct scroll spacing
  const offset = panel.getBoundingClientRect().top + window.scrollY - 120;
  window.scrollTo({ top: offset, behavior: "smooth" });
};

/* ============================================================
   DARK MODE ‚Äì FIX ALL BUTTONS
   ============================================================ */
const css = `
html[data-theme="dark"] .pill-btn,
html[data-theme="dark"] .explain-btn,
html[data-theme="dark"] .action-btn {
  background: #0f172a !important;
  color: #ffffff !important;
  border-color: #ffffff !important;
}

html[data-theme="dark"] .pill-btn:hover,
html[data-theme="dark"] .explain-btn:hover {
  background: #1e293b !important;
}
`;
const style = document.createElement("style");
style.innerHTML = css;
document.head.appendChild(style);

/* ============================================================
   FIX: GUIDED DEMO ‚Äì SLIDES STOPPING
   ============================================================ */
const _startStoryMode = startStoryMode;
startStoryMode = function() {
  clearInterval(storyInterval);
  _startStoryMode();    // now increments properly
};

  <script>
/* ============================================================
   NOVAK Protocol ‚Äî Enhanced Cryptographic Simulator (Option C)
   Full Proof-Before-Action Engine
   Includes HVET, EIR, RGAC, Safety Gate, PL-X, PS-X
   All local; no backend required
   ============================================================ */

/* ---------- GLOBAL STATE ---------- */
let lastApprovedHVET = null;
let rgacChain = [];          // Full recursive chain
let lastApprovedText = "";   // Last verified content

/* ---------- SHA-256 Helper ---------- */
async function sha256(input) {
    const enc = new TextEncoder().encode(input);
    const hashBuffer = await crypto.subtle.digest("SHA-256", enc);
    return Array.from(new Uint8Array(hashBuffer))
        .map(b => b.toString(16).padStart(2, "0"))
        .join("");
}

/* ============================================================
   NOVAK COMPONENTS
   HVET, EIR, Safety Gate, RGAC
   ============================================================ */

/* ---------- Generate full HVET token ---------- */
async function generateHVET(ruleText, inputText, outputText) {
    const HR = await sha256(ruleText || "");
    const HD = await sha256(inputText || "");
    const HO = await sha256(outputText || "");

    const timestamp = new Date().toISOString();

    const HVET = await sha256(HR + HD + HO + timestamp);

    return { HR, HD, HO, timestamp, HVET };
}


/* ---------- Create full EIR (Execution Identity Receipt) ---------- */
function createEIR(hvetObj, approvedText) {
    return {
        eir_id: crypto.randomUUID(),
        approved_text: approvedText,
        ...hvetObj,
        recorded_at: new Date().toISOString(),
        version: "NOVAK-EIR-v1"
    };
}


/* ---------- RGAC Append ---------- */
function appendToRGAC(eir) {
    const previousHVET = rgacChain.length ? rgacChain[rgacChain.length - 1].HVET : "GENESIS";

    const linkHash = sha256(previousHVET + eir.HVET);

    const entry = {
        ...eir,
        chain_link: "pending", // updated once async
        previous: previousHVET
    };

    rgacChain.push(entry);

    // update once hash resolves
    linkHash.then(h => {
        entry.chain_link = h;
        renderRGAC();
    });

    return entry;
}


/* ---------- Render RGAC chain to UI ---------- */
function renderRGAC() {
    const container = document.getElementById("rgac");

    if (rgacChain.length === 0) {
        container.innerHTML = "<em>Provide input to begin...</em>";
        return;
    }

    container.innerHTML = rgacChain.map((entry, i) => `
        <div style="margin-bottom:12px; padding:10px; border-left:4px solid #1e40af;">
            <strong>Entry ${i+1}</strong><br>
            <span style="opacity:0.8">EIR:</span> ${entry.eir_id}<br>
            <span style="opacity:0.8">HVET:</span> ${entry.HVET}<br>
            <span style="opacity:0.8">Prev:</span> ${entry.previous}<br>
            <span style="opacity:0.8">Link:</span> ${entry.chain_link}<br>
            <span style="opacity:0.8">Timestamp:</span> ${entry.timestamp}
        </div>
    `).join("");
}


/* ============================================================
   SAFETY GATE ‚Äî Deterministic Approval Logic
   Includes PL-X / PS-X minimal simulation
   ============================================================ */

function safetyGateChecks(text) {
    const anomalies = [];

    /* --- PL-X Physical Drift Simulation --- */
    if (text.includes("‚àû") || text.includes("ÔøΩ")) {
        anomalies.push("Physical-layer corruption detected (PL-X).");
    }

    /* --- PS-X Psycho-Social Manipulation Detection --- */
    if (/(bypass|disable|override|cheat)/i.test(text)) {
        anomalies.push("Intent manipulation attempt detected (PS-X).");
    }

    return anomalies;
}


/* ============================================================
   AUTO-VERIFICATION ENGINE
   ============================================================ */
async function runAutoVerification(newText) {
    const outputEl = document.getElementById("autoVerifyStatus");

    if (!document.getElementById("autoVerifyToggle").checked) {
        outputEl.innerHTML = "<em>Auto-verification disabled.</em>";
        outputEl.style.borderColor = "var(--border)";
        return;
    }

    /* Run safety gate checks */
    const violations = safetyGateChecks(newText);
    if (violations.length > 0) {
        outputEl.innerHTML = `
            ‚ùå <strong>Safety Gate Rejection</strong><br>
            ${violations.map(v => "- " + v).join("<br>")}
        `;
        outputEl.style.borderColor = "red";
        return;
    }

    /* Generate HVET */
    const hvetObj = await generateHVET(
        "NOVAK-DEMO-RULESET",
        lastApprovedText,
        newText
    );

    /* If first time ‚Üí auto approve */
    if (lastApprovedHVET === null) {
        approveNewState(newText, hvetObj, outputEl);
        return;
    }

    /* Compare HVET with last approved */
    if (hvetObj.HVET === lastApprovedHVET.HVET) {
        outputEl.innerHTML = "‚úÖ Integrity Verified ‚Äî Output matches previously approved cryptographic truth.";
        outputEl.style.borderColor = "green";
    } else {
        outputEl.innerHTML = `
            ‚ö†Ô∏è <strong>Integrity Changed</strong><br>
            New HVET does not match last approved.<br>
            <button onclick='approveFromUser("${escapeJS(newText)}")' style="margin-top:8px;">Approve Change</button>
        `;
        outputEl.style.borderColor = "#d97706";
    }
}


/* Escape helper */
function escapeJS(str) {
    return str.replace(/"/g, '\\"');
}


/* ============================================================
   STATE APPROVAL
   ============================================================ */

async function approveFromUser(text) {
    const hvetObj = await generateHVET(
        "NOVAK-DEMO-RULESET",
        lastApprovedText,
        text
    );
    const outputEl = document.getElementById("autoVerifyStatus");
    approveNewState(text, hvetObj, outputEl);
}

function approveNewState(text, hvetObj, outputEl) {
    lastApprovedText = text;
    lastApprovedHVET = hvetObj;

    const eir = createEIR(hvetObj, text);
    appendToRGAC(eir);

    outputEl.innerHTML = `
        ‚úÖ <strong>Approved</strong><br>
        New truth recorded.<br>
        EIR ID: ${eir.eir_id}<br>
        HVET: ${hvetObj.HVET}
    `;
    outputEl.style.borderColor = "green";
}


/* ============================================================
   INPUT MONITOR
   Attach to your main textarea or content element
   ============================================================ */

let lastObservedText = "";

/* IMPORTANT:
   This interval watches for ANY changes in the page content.
   Modify this if you want to bind to a specific field.
*/
setInterval(() => {
    const currentText = document.body.innerText.trim();

    if (currentText !== lastObservedText) {
        lastObservedText = currentText;
        runAutoVerification(currentText);
    }
}, 900);
</script>

  
</script>

<script>
/* ============================================================
   NOVAK Option-C Engine (Safe Modular Version)
   NO conflicts. NO overrides. 100% sandboxed.
   Binds ONLY to:
     - #novakInput
     - #autoVerifyToggle
     - #autoVerifyStatus
     - #rgac
   ============================================================ */

const NOVAK_ENGINE = (() => {

  /* ---------- Internal State ---------- */
  let lastApproved = "";
  let lastApprovedHVET = null;
  let chain = [];

  /* ---------- SHA256 ---------- */
  async function sha256(input) {
    const data = new TextEncoder().encode(input);
    const hash = await crypto.subtle.digest("SHA-256", data);
    return [...new Uint8Array(hash)].map(x => x.toString(16).padStart(2,"0")).join("");
  }

  /* ---------- Generate HVET ---------- */
  async function hvet(rule, prev, next) {
    const HR = await sha256(rule);
    const HD = await sha256(prev);
    const HO = await sha256(next);
    const timestamp = new Date().toISOString();

    return {
      HR, HD, HO, timestamp,
      HVET: await sha256(HR + HD + HO + timestamp)
    };
  }

  /* ---------- RGAC Append ---------- */
  async function appendRGAC(eir) {
    const prev = chain.length ? chain[chain.length-1].HVET : "GENESIS";
    const link = await sha256(prev + eir.HVET);

    chain.push({ ...eir, previous: prev, chain_link: link });
    renderChain();
  }

  /* ---------- Render RGAC ---------- */
  function renderChain() {
    const el = document.getElementById("rgac");
    if (!chain.length) {
      el.innerHTML = "<em>Provide input to begin...</em>";
      return;
    }

    el.innerHTML = chain.map((e,i) => `
      <div style="margin:10px 0; padding:10px; border-left:4px solid #1e40af;">
        <strong>Entry ${i+1}</strong><br>
        HVET: ${e.HVET}<br>
        Prev: ${e.previous}<br>
        Link: ${e.chain_link}<br>
        Timestamp: ${e.timestamp}
      </div>`).join("");
  }

  /* ---------- Safety Gate ---------- */
  function safetyGateCheck(text) {
    const anomalies = [];

    if (text.includes("‚àû") || text.includes("ÔøΩ"))
      anomalies.push("Physical-layer anomaly detected (PL-X)");

    if (/(bypass|override|disable|cheat)/i.test(text))
      anomalies.push("Intent manipulation detected (PS-X)");

    return anomalies;
  }

  /* ---------- Approve New Truth ---------- */
  async function approve(text, hvetObj, out) {
    lastApproved = text;
    lastApprovedHVET = hvetObj;

    const eir = {
      eir_id: crypto.randomUUID(),
      approved_text: text,
      ...hvetObj,
      recorded_at: new Date().toISOString(),
      version: "NOVAK-EIR-v1"
    };

    appendRGAC(eir);

    out.innerHTML = `
      ‚úÖ <strong>Approved</strong><br>
      EIR: ${eir.eir_id}<br>
      HVET: ${eir.HVET}
    `;
    out.style.borderColor = "green";
  }

  /* ---------- Auto-Verify Input ---------- */
  async function verify(text) {
    const out = document.getElementById("autoVerifyStatus");
    const toggle = document.getElementById("autoVerifyToggle");

    if (!toggle.checked) {
      out.innerHTML = "<em>Auto-Verification disabled.</em>";
      out.style.borderColor = "var(--border)";
      return;
    }

    const violations = safetyGateCheck(text);
    if (violations.length) {
      out.innerHTML = `‚ùå <strong>Safety Gate Rejection</strong><br>${violations.join("<br>")}`;
      out.style.borderColor = "red";
      return;
    }

    const h = await hvet("NOVAK-DEMO-RULE", lastApproved, text);

    if (!lastApprovedHVET) {
      approve(text, h, out);
      return;
    }

    if (h.HVET === lastApprovedHVET.HVET) {
      out.innerHTML = `‚úÖ Integrity Verified ‚Äî No change detected.<br>HVET: ${h.HVET}`;
      out.style.borderColor = "green";
    } else {
      out.innerHTML = `
        ‚ö†Ô∏è Integrity Changed<br>
        <button onclick='NOVAK_ENGINE.forceApprove("${escapeString(text)}")'>
          Approve Change
        </button>
      `;
      out.style.borderColor = "#d97706";
    }
  }

  /* ---------- Escape helper ---------- */
  function escapeString(s) {
    return s.replace(/"/g, '\\"');
  }

  /* ---------- Exposed API ---------- */
  return {
    async observe(text) { verify(text); },
    async forceApprove(t) {
      const out = document.getElementById("autoVerifyStatus");
      const h = await hvet("NOVAK-DEMO-RULE", lastApproved, t);
      approve(t, h, out);
    }
  };

})(); // END MODULE


/* ============================================================
   CONNECT TO YOUR EXISTING INPUT BOX ONLY
============================================================ */
document.getElementById("novakInput").addEventListener("input", e => {
  const text = e.target.value;
  // send only this to NOVAK engine (safe)
  NOVAK_ENGINE.observe(text);
});
</script>

  
</body>
</html>

<!-- âœ… NOVAK Protocol â€” Final Public Demo Build (PART 1 of 3 â€” Updated) -->
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NOVAK Protocol â€” Proof-Before-Action Integrity</title>

<meta name="description"
  content="NOVAK Protocol â€” execution integrity, fraud prevention, cryptographic proof-before-action verification for government, finance, healthcare, AI, robotics, and national security." />

<link rel="icon" type="image/png" href="favicon.png" />

<!-- âœ… Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono&display=swap"
      rel="stylesheet" />

<style>
/* ============================================================================ */
/* âœ… GLOBAL RESET + TYPOGRAPHY */
/* ============================================================================ */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Inter", sans-serif;
}

body {
  background: var(--bg);
  color: var(--text);
  line-height: 1.55;
  -webkit-font-smoothing: antialiased;
  font-size: 16px;
}

.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 24px;
}

/* ============================================================================ */
/* âœ… COLOR SYSTEM â€” THEME VARIABLES */
/* ============================================================================ */
:root {
  --blue: #1a4fb3;
  --blue-hover: #0f357f;
  --green: #059669;
  --red: #dc2626;
  --yellow: #e8b400;

  --bg-light: #f8fafc;
  --bg-dark: #0f172a;

  --text-light: #0b1326;
  --text-dark: #e6edf5;

  --card-light: #ffffff;
  --card-dark: #1e293b;

  --border-light: #d4d8e1;
  --border-dark: #334155;
}

/* Light Mode */
html[data-theme="light"] {
  --bg: var(--bg-light);
  --text: var(--text-light);
  --card: var(--card-light);
  --border: var(--border-light);
}

/* Dark Mode */
html[data-theme="dark"] {
  --bg: var(--bg-dark);
  --text: var(--text-dark);
  --card: var(--card-dark);
  --border: var(--border-dark);
}

/* ============================================================================ */
/* âœ… STICKY HEADER â€” CENTERED + RESPONSIVE */
/* ============================================================================ */
#mainHeader {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 34px;
  padding: 18px 32px;
  background: var(--bg);
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 9999;
}

#novakBrand {
  font-size: 28px;
  font-weight: 700;
  color: var(--blue);
  white-space: nowrap;
  user-select: none;
}

#novakSiteLink {
  font-size: 15px;
  color: var(--blue);
  text-decoration: none;
}

#headerControls {
  display: flex;
  align-items: center;
  gap: 14px;
}

/* âœ… Theme Toggle */
.theme-toggle {
  cursor: pointer;
  font-size: 14px;
  padding: 7px 14px;
  border-radius: 6px;
  border: 1px solid var(--blue);
  background: transparent;
  color: var(--blue);
  transition: 0.25s;
}
.theme-toggle:hover {
  background: var(--blue);
  color: #fff;
}

/* âœ… Prevent content from sliding under sticky header */
html {
  scroll-padding-top: 120px;
}
.card,
#explainerOutput,
#audienceContent,
#whatChangesCard {
  scroll-margin-top: 120px;
}

/* Mobile Header Menu */
#mobileMenuBtn {
  display: none;
  font-size: 28px;
  background: none;
  border: none;
  cursor: pointer;
}

#mobileMenuPanel {
  display: none;
  flex-direction: column;
  background: var(--bg);
  border-bottom: 1px solid var(--border);
  padding: 14px 22px;
  gap: 10px;
}

/* ============================================================================ */
/* âœ… SHARED UI â€” CARDS, TITLES, BUTTONS */
/* ============================================================================ */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 26px;
  margin-top: 28px;
}

.section-title {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 14px;
}

.explain-btn,
.action-btn,
.aud-btn {
  border: 1px solid var(--blue);
  background: transparent;
  padding: 8px 16px;
  border-radius: 22px;
  cursor: pointer;
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--blue);
  transition: 0.25s;
}

.explain-btn:hover,
.aud-btn:hover {
  background: rgba(26,79,179,0.12);
}

.action-btn {
  border-radius: 6px;
  background: var(--blue);
  color: #fff;
}
.action-btn:hover {
  background: var(--blue-hover);
}

/* ============================================================================ */
/* âœ… Dark Mode Readability Fix */
/* ============================================================================ */
html[data-theme="dark"] .explain-btn,
html[data-theme="dark"] .aud-btn,
html[data-theme="dark"] .action-btn,
html[data-theme="dark"] .theme-toggle {
  color: #ffffff !important;
  border-color: #ffffff !important;
}

html[data-theme="dark"] .explain-btn:hover,
html[data-theme="dark"] .aud-btn:hover {
  background: rgba(255,255,255,0.14) !important;
}

html[data-theme="dark"] .theme-toggle:hover {
  background: #ffffff !important;
  color: #000000 !important;
}

html[data-theme="dark"] .card {
  color: var(--text-dark);
}

/* ============================================================================ */
/* âœ… Hash Output Wrapping â€” prevents overflow */
/* ============================================================================ */
#hashOutputList {
  overflow-wrap: break-word;
  word-break: break-all;
}

/* ============================================================================ */
/* âœ… MOBILE */
/* ============================================================================ */
@media (max-width: 720px) {
  #mainHeader {
    justify-content: space-between;
  }
  #headerControls {
    display: none;
  }
  #mobileMenuBtn {
    display: block;
  }
  #novakBrand {
    font-size: 22px;
  }
  .container {
    padding: 18px;
  }
}
</style>
</head>

<body>

<!-- âœ… GLOBAL HEADER -->
<header id="mainHeader">
  <div id="novakBrand">NOVAK Protocol</div>

  <a id="novakSiteLink"
     href="https://www.novakprotocol.com"
     target="_blank"
     rel="noopener noreferrer">
     www.novakprotocol.com
  </a>

  <div id="headerControls">
    <button class="theme-toggle" onclick="toggleTheme()">Light/Dark</button>
  </div>

  <button id="mobileMenuBtn" onclick="toggleMobileMenu()">â˜°</button>
</header>

<!-- âœ… MOBILE DROPDOWN -->
<div id="mobileMenuPanel">
  <button class="theme-toggle" onclick="toggleTheme()">Light/Dark Mode</button>
</div>

<!-- âœ… MAIN CONTENT START -->
<div class="container">


<!-- âœ… PART 2 â€” Audience Selector + Dynamic Messaging + Why NOVAK -->

<!-- âœ… AUDIENCE SELECTOR -->
<div id="audienceNav" style="display:flex; gap:10px; margin-top:32px; flex-wrap:wrap;">
  <button id="btn-public" class="aud-btn" onclick="setAudience('public')">ğŸŒ Public</button>
  <button id="btn-government" class="aud-btn" onclick="setAudience('government')">ğŸ› Government</button>
  <button id="btn-investor" class="aud-btn" onclick="setAudience('investor')">ğŸ’¼ Investor</button>
  <button id="btn-cyber" class="aud-btn" onclick="setAudience('cyber')">ğŸ›¡ Cybersecurity</button>
  <button id="btn-academic" class="aud-btn" onclick="setAudience('academic')">ğŸ“ Academic</button>
</div>

<!-- âœ… AUDIENCE MESSAGING OUTPUT -->
<div id="audienceContent"
     class="card"
     style="margin-top:18px; font-size:16px; line-height:1.55;">
</div>

<!-- âœ… RESTORE WHY NOVAK BUTTON -->
<div style="display:flex; justify-content:center; margin-top:10px;">
  <button id="restoreWhyBtn"
    onclick="restoreWhyNovakSection()"
    style="
      display:none;
      padding:8px 18px;
      border-radius:8px;
      border:1px solid var(--border);
      background:var(--btn-bg);
      cursor:pointer;
      font-size:14px;
    ">
    ğŸ”„ Show â€œWhy NOVAK â€” Why Now?â€
  </button>
</div>

<!-- âœ… WHY NOVAK â€” WHY NOW? -->
<div id="whyNovakCard" class="card" style="margin-top:28px; position:relative;">
  <h2 class="section-title">Why NOVAK â€” Why Now?</h2>

  <p>
    Automation now approves mortgages, denies veteransâ€™ benefits, sets insurance rates, steers vehicles,
    recommends surgeries, and moves trillions of dollars â€” often without proof of correctness, legality, or integrity.
  </p>

  <p style="margin-top:12px;">
    NOVAK changes this â€” requiring mathematical proof <strong>before</strong> any automated action occurs.
  </p>

  <ul style="margin-top:12px; margin-left:20px;">
    <li>If data changes â†’ NOVAK detects instantly</li>
    <li>If rule is wrong â†’ NOVAK blocks execution</li>
    <li>If fraud occurs â†’ NOVAK produces evidence</li>
    <li>If system glitches â†’ NOVAK prevents harm</li>
  </ul>

  <p style="margin-top:14px; font-weight:600;">
    No blockchain. No cryptocurrency. No central authority. Just cryptographic integrity.
  </p>

  <!-- âœ… Top-right close button -->
  <button onclick="dismissWhyNovak()"
    style="
      position:absolute;
      top:14px;
      right:14px;
      background:none;
      border:none;
      font-size:20px;
      cursor:pointer;
    "
    aria-label="Hide Why NOVAK section">
    âœ•
  </button>

  <!-- âœ… Confirm hide -->
  <button onclick="dismissWhyNovak()" class="action-btn" style="margin-top:18px;">
    âœ… Got it â€” Hide
  </button>
</div>

<!-- âœ… EXPLAINER BUTTONS -->
<div style="margin-top:26px; display:flex; flex-wrap:wrap; gap:12px;">
  <button class="explain-btn" onclick="showExplain('simple')">ğŸ¤¯ I don't get it</button>
  <button class="explain-btn" onclick="showExplain('milkshake')">ğŸ¥¤ Milkshake Analogy</button>
  <button class="explain-btn" onclick="showExplain('pencil')">ğŸ–ï¸ Colored Pencil Analogy</button>
  <button class="explain-btn" onclick="showExplain('key')">ğŸ”‘ Key Analogy</button>
  <button class="explain-btn" onclick="showExplain('gov')">ğŸ› Government Savings</button>
  <button class="explain-btn" onclick="showExplain('how')">ğŸ‘ï¸ Show Me How This Works</button>
</div>

<!-- âœ… ANALOGY OUTPUT -->
<div id="explainerOutput" class="card" style="display:none; margin-top:22px;"></div>

<!-- âœ… PART 3 â€” What Changes With NOVAK -->
<div id="whatChangesCard" class="card" style="margin-top:32px; position:relative;">
  <h2 class="section-title">What Changes With NOVAK?</h2>

  <p>
    Most systems today rely on logging <strong>after</strong> something already happened.
    NOVAK requires proof <strong>before</strong> action.
  </p>

  <div style="margin-top:14px;">
    <p style="color:var(--red); font-weight:600; margin-bottom:6px;">âŒ Without NOVAK</p>
    <p style="margin-bottom:14px;">
      System executes even if data is wrong â€” Hash exists but cannot stop harm â€” Fraud discovered weeks or years later â€”
      No mathematical guarantee of legality â€” Human trust required.
    </p>

    <p style="color:var(--green); font-weight:600; margin-bottom:6px;">âœ… With NOVAK</p>
    <p>
      Proof required before action â€” Data, rules & output cryptographically bound â€”
      Fraud blocked instantly â€” Evidence auto-generated â€”
      Trust replaced with math.
    </p>
  </div>

  <!-- âœ… Close X -->
  <button onclick="dismissWhatChanges()" style="
    position:absolute;
    top:14px;
    right:14px;
    font-size:20px;
    background:none;
    border:none;
    cursor:pointer;
  ">âœ•</button>

  <button class="action-btn" onclick="dismissWhatChanges()" style="margin-top:18px;">
    âœ… Got it â€” Hide
  </button>
</div>

<!-- âœ… Restore button -->
<div style="display:flex; justify-content:center; margin-top:10px;">
  <button id="restoreWhatBtn"
    onclick="restoreWhatChangesSection()"
    style="
      display:none;
      padding:8px 18px;
      border-radius:8px;
      border:1px solid var(--border);
      background:var(--btn-bg);
      cursor:pointer;
      font-size:14px;
    ">
    ğŸ”„ Show â€œWhat Changes With NOVAK?â€
  </button>
</div>

<!-- âœ… PART 4 â€” Live Hash Engine w/ Algorithm Selector -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Try It â€” Prove Integrity Yourself</h2>
  <p>
    Type, paste, or edit anything below. Hashes update instantly using real cryptography â€”
    nothing is stored, logged, or transmitted.
  </p>

  <textarea id="novakInput"
    placeholder="Example: VA claim, invoice, medical note, VIN, contract, JSON, SQL, XML..."
    style="width:100%; height:170px; margin-top:16px; font-family:'JetBrains Mono', monospace;
           font-size:14px; padding:12px;"></textarea>

  <!-- âœ… Algorithm selector -->
  <div style="margin-top:14px; display:flex; gap:14px; flex-wrap:wrap;">
    <label><input type="checkbox" class="hashAlgo" value="SHA-256" checked> SHA-256</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA-512" checked> SHA-512</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA-384"> SHA-384</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA3-256"> SHA-3-256</label>
  </div>
</div>

<!-- âœ… HASH OUTPUT -->
<div class="card" style="margin-top:20px;">
  <h3 class="section-title" style="font-size:20px;">Cryptographic Hashes</h3>
  <div id="hashOutputList"
       style="margin-top:10px; font-family:'JetBrains Mono', monospace; font-size:14px;">
    <em>Waiting for input from above...</em>
  </div>
</div>

<!-- âœ… RGAC Visualization -->
<div class="card" style="margin-top:20px;">
  <h3 class="section-title" style="font-size:20px;">RGAC â€” Recursive Global Audit Chain</h3>
  <p style="margin-bottom:12px;">
    Each output becomes input to the next verification â€” forming an unstoppable integrity chain.
  </p>
  <div id="rgac" style="font-family:'JetBrains Mono', monospace; font-size:14px;">
    <em>Provide input to begin...</em>
  </div>
</div>

 <!-- âœ… FILE INTEGRITY VERIFICATION -->
<div class="card" style="margin-top:20px;">
  <h3 class="section-title" style="font-size:20px;">Verify Any File</h3>
  <p>Drop a document, medical record, CSV, log, policy, or contract â€” NOVAK proves originality instantly.</p>

  <div id="dropzone"
       style="margin-top:14px; padding:22px; border:2px dashed var(--border);
              border-radius:10px; text-align:center; cursor:pointer;">
    ğŸ“ Drop file here or click to select
    <input id="fileInput" type="file" style="display:none" />
  </div>

  <div id="fileHashResult"
       style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px;"></div>
</div>

<!-- âœ… EXAMPLE DATASETS + VIN DECODER -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Example Datasets</h2>
  <p>Select one to auto-populate the input box above.</p>

  <div style="display:flex; flex-wrap:wrap; gap:12px; margin-top:16px;">
    <button class="explain-btn" onclick="loadExample('va')">ğŸ–ï¸ VA Disability Claim</button>
    <button class="explain-btn" onclick="loadExample('medical')">ğŸ¥ Medical Note</button>
    <button class="explain-btn" onclick="loadExample('finance')">ğŸ’° Financial Transaction</button>
    <button class="explain-btn" onclick="loadExample('robot')">ğŸ¤– Robotics Command</button>
    <button class="explain-btn" onclick="loadExample('ai')">ğŸ§  AI System Log</button>
    <button class="explain-btn" onclick="loadExample('legal')">âš–ï¸ Legal Filing</button>
    <button class="explain-btn" onclick="openVinModal()">ğŸš— VIN</button>
  </div>
</div>

<!-- âœ… VIN MODAL -->
<div id="vinModal"
     style="display:none; position:fixed; top:0; left:0; width:100%; height:100%;
            background:rgba(0,0,0,.55); justify-content:center; align-items:center; z-index:9999;">
  <div style="background:var(--card); padding:26px; border-radius:10px; width:440px;
              border:1px solid var(--border); box-shadow:0 4px 18px rgba(0,0,0,.35);">

    <h3 class="section-title" style="font-size:20px;">VIN Decoder</h3>

    <input id="vinInput"
           placeholder="Enter VIN (e.g., 1G1YB3D46N5123456)"
           maxlength="17"
           style="margin-top:14px; width:100%; padding:10px;
                  border:1px solid var(--border); border-radius:6px;
                  font-family:'JetBrains Mono', monospace; font-size:15px;">

    <div id="vinResult"
         style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px;"></div>

    <button onclick="closeVinModal()" class="action-btn" style="margin-top:18px; width:100%;">
      Close
    </button>
  </div>
</div>

<!-- âœ… MINI-GAMES -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Interactive Integrity Challenges</h2>
  <p>Prove you understand NOVAK â€” spot corruption, detect tampering, or validate authenticity.</p>

  <div style="display:flex; flex-wrap:wrap; gap:12px; margin-top:16px;">
    <button class="explain-btn" onclick="startGame('tamper')">ğŸ•µï¸ Spot the Tampering</button>
    <button class="explain-btn" onclick="startGame('memory')">ğŸ§  Hash Memory Match</button>
    <button class="explain-btn" onclick="startGame('fraud')">ğŸš¨ Fraud Detector</button>
  </div>

  <button onclick="toggleSound()"
          class="sound-toggle"
          aria-label="Toggle game sound"
          style="margin-top:10px; font-size:20px; background:none; border:none; cursor:pointer;">
    ğŸ”‡
  </button>
</div>

<div id="gameBox" class="card" style="margin-top:20px; display:none;"></div>

<!-- âœ… STRUCTURED DATA VALIDATION -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Validate Structured Data</h2>
  <p>Upload JSON, SQL, or XML â€” NOVAK verifies integrity instantly before execution.</p>

  <input id="structuredFile"
         type="file"
         accept=".json,.sql,.xml,.txt"
         style="margin-top:16px;">

  <pre id="structuredResult"
       style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px;"></pre>
</div>

<!-- âœ… AI TRANSPARENCY VIEW -->
<div class="card" style="margin-top:32px;" id="transparencyCard">
  <h2 class="section-title">AI Transparency Mode</h2>
  <p>
    NOVAK proves what data, rules, and outputs were used before automated action occurs â€”
    eliminating invisible AI failure.
  </p>

  <button onclick="toggleTransparency()" class="action-btn" style="margin-top:16px;">
    Enable Transparency View
  </button>
</div>

<div class="card"
     id="transparencyView"
     style="display:none; margin-top:20px; font-family:'JetBrains Mono', monospace; font-size:14px;">
</div>

<!-- âœ… INTEGRITY RECEIPT -->
<div class="card" style="margin-top:32px;" id="receiptCard">
  <h2 class="section-title">Integrity Receipt</h2>
  <p>NOVAK issues a tamper-proof receipt proving what existed, when, and under what rules.</p>

  <button class="action-btn" onclick="generateReceipt()" style="margin-top:12px;">
    Generate Receipt
  </button>

  <pre id="receiptOutput"
       style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px; white-space:pre-wrap;"></pre>
</div>

<!-- âœ… GUIDED AUTO-SCROLL WALKTHROUGH -->
<div class="card" style="margin-top:36px;">
  <h2 class="section-title">Guided NOVAK Walkthrough</h2>
  <p>Let NOVAK explain itself â€” automatically.</p>

  <button class="action-btn"
          onclick="startStoryMode()"
          style="margin-top:12px;">
    â–¶ Begin Guided Demo
  </button>
</div>

<div id="storyPanel"
     class="card"
     style="display:none; margin-top:20px; font-size:15px; line-height:1.6;">
</div>

<!-- âœ… FEDERAL BRIEFING SHEET EXPORT -->
<div class="card" style="margin-top:36px;">
  <h2 class="section-title">Generate Federal Briefing Sheet</h2>
  <p>Exports a formal one-page NOVAK briefing for policymakers, executives, and agencies.</p>

  <button class="action-btn"
          onclick="exportBriefing()"
          style="margin-top:12px;">
    ğŸ“„ Export Briefing Sheet
  </button>
</div>

<!-- âœ… GLORY TO GOD BUTTON -->
<div style="display:flex; justify-content:center; margin-top:60px;">
  <button class="action-btn" onclick="toggleGlorySection()"
    style="font-size:16px; padding:12px 26px; border-radius:10px;">
    âœï¸ Glory to God
  </button>
</div>

<!-- âœ… EXPANDABLE GLORY PANEL -->
<div id="glorySection" class="card"
  style="display:none; margin-top:26px; font-size:15px; line-height:1.63;">

  <p style="font-style:italic; font-size:1.1rem; text-align:center; margin-bottom:22px;">
    â€œThe LORD detests lying lips, but He delights in those who act faithfully.â€ â€” Proverbs 12:22
  </p>

  <p>
    The NOVAK Protocol exists because truth has intrinsic value â€” and wrongdoing, deception,
    and hidden harm must be revealed, not rewarded.
  </p>

  <p>
    Mathematical integrity reflects moral integrity â€” honesty, accountability, and justice.
  </p>

  <p style="font-weight:600;">Everything good in this work belongs to God. Everything flawed belongs to me.</p>

  <p>
    May this technology always protect the vulnerable, restrain corruption, and advance human dignity.
  </p>
</div>

<!-- âœ… FOOTER -->
<footer style="text-align:center; margin-top:60px; font-size:14px; opacity:0.85; line-height:1.5;">
  NOVAK Protocol â€” Proof-Before-Action Execution Integrity<br>
  Patent Pending â€” Copyright Â© 2025 Matthew Novak<br>

  PADI 30-Year Member #888850 â€”
  <a href="https://www.padi.com" target="_blank" rel="noopener noreferrer">www.padi.com</a><br>

  Star Citizen Referral â€”
  <a href="https://www.robertsspaceindustries.com/enlist?referral=STAR-KRN7-SJTX"
     target="_blank" rel="noopener noreferrer">STAR-KRN7-SJTX</a><br>

  Nothing stored, logged, transmitted, sold, or shared â€” all verification happens locally.
</footer>

</div> <!-- âœ… END MAIN CONTAINER -->

<!-- âœ… FULL JAVASCRIPT ENGINE -->
<script>

// ================================================================
// âœ… GLOBAL STATE
// ================================================================
let currentAudience = "public";
let soundEnabled = false;
let storyIndex = 0;
let storyInterval;

// ================================================================
// âœ… THEME TOGGLE
// ================================================================
function toggleTheme() {
  const html = document.documentElement;
  const next = html.getAttribute("data-theme") === "light" ? "dark" : "light";
  html.setAttribute("data-theme", next);
  localStorage.setItem("novakTheme", next);
}

(function () {
  const saved = localStorage.getItem("novakTheme");
  if (saved) document.documentElement.setAttribute("data-theme", saved);
})();

// ================================================================
// âœ… MOBILE MENU
// ================================================================
function toggleMobileMenu() {
  const menu = document.getElementById("mobileMenuPanel");
  menu.style.display = menu.style.display === "flex" ? "none" : "flex";
}

// ================================================================
// âœ… AUDIENCE ENGINE
// ================================================================
const audienceMessages = {
  public: `NOVAK protects everyday people â€” ensuring decisions about healthcare, housing, credit, prices,
education, safety, transportation, employment â€” cannot be corrupted, miscalculated, or executed without proof.`,

  government: `NOVAK reduces fraud, wrongful denials, improper payments, litigation exposure,
mission-threatening automation failure â€” without new infrastructure, agencies, or laws.`,

  investor: `NOVAK establishes a new global execution-integrity layer â€” reducing enterprise risk,
unlocking defensible AI, enabling trillion-dollar modernization markets across finance,
government, and healthcare.`,

  cyber: `Cybersecurity prevents intrusion â€” NOVAK prevents automated harm. Mathematical proof-before-action
ensures compromised systems still cannot execute corruption or fraud.`,

  academic: `NOVAK operationalizes deterministic computation, cryptographic binding, recursive auditability,
and execution receipts â€” eliminating epistemic uncertainty in automated decision systems.`
};

function setAudience(type) {
  currentAudience = type;
  const box = document.getElementById("audienceContent");
  box.textContent = audienceMessages[type];

  document.querySelectorAll(".aud-btn").forEach(btn =>
    btn.classList.toggle("active", btn.id === `btn-${type}`)
  );
}

// ================================================================
// âœ… WHY NOVAK â€” DISMISS & RESTORE
// ================================================================
function dismissWhyNovak() {
  document.getElementById("whyNovakCard").style.display = "none";
  document.getElementById("restoreWhyBtn").style.display = "inline-flex";
  localStorage.setItem("whyNovakDismissed", "true");
}

function restoreWhyNovakSection() {
  document.getElementById("whyNovakCard").style.display = "block";
  document.getElementById("restoreWhyBtn").style.display = "none";
  localStorage.removeItem("whyNovakDismissed");
}

function restoreWhyNovakOnLoad() {
  if (localStorage.getItem("whyNovakDismissed") === "true") dismissWhyNovak();
}

// ================================================================
// âœ… WHAT CHANGES WITH NOVAK â€” DISMISS & RESTORE
// ================================================================
function dismissWhatChanges() {
  document.getElementById("whatChangesCard").style.display = "none";
  document.getElementById("restoreWhatBtn").style.display = "inline-flex";
  localStorage.setItem("whatChangesDismissed", "true");
}

function restoreWhatChangesSection() {
  document.getElementById("whatChangesCard").style.display = "block";
  document.getElementById("restoreWhatBtn").style.display = "none";
  localStorage.removeItem("whatChangesDismissed");
}

function restoreWhatChangesOnLoad() {
  if (localStorage.getItem("whatChangesDismissed") === "true") dismissWhatChanges();
}

// ================================================================
// âœ… EXPLAINER ENGINE
// ================================================================
const explainTexts = {
  simple: "NOVAK is like requiring a receipt BEFORE spending. Systems must prove correctness first.",
  milkshake: "If a milkshake spills, you see it â€” but in computers, corruption is invisible. NOVAK reveals it instantly.",
  pencil: "Once you color a page, you canâ€™t erase without evidence. NOVAK ensures digital changes leave fingerprints.",
  key: "A key doesnâ€™t open every door â€” NOVAK ensures only correct data unlocks execution.",
  gov: "NOVAK prevents billions in improper payments by verifying legality BEFORE funds move.",
  how: "NOVAK cryptographically binds input, rule, and output â€” execution only happens if all 3 match."
};

function showExplain(key) {
  const box = document.getElementById("explainerOutput");
  box.style.display = "block";
  box.textContent = explainTexts[key] || "Explanation unavailable.";
  setTimeout(() => {
    box.scrollIntoView({ behavior: "smooth", block: "start" });
  }, 50);
}

// ================================================================
// âœ… HASH ENGINE + ALGORITHM SELECTOR
// ================================================================
async function computeHash(algorithm, value) {
  const data = new TextEncoder().encode(value);
  const digest = await crypto.subtle.digest(algorithm, data);
  return [...new Uint8Array(digest)]
    .map(b => b.toString(16).padStart(2, "0"))
    .join("");
}

async function updateHashes() {
  const input = document.getElementById("novakInput").value.trim();
  const output = document.getElementById("hashOutputList");

  if (!input) {
    output.innerHTML = "<em>Waiting for input from above...</em>";
    document.getElementById("rgac").innerHTML = "<em>Provide input to begin...</em>";
    return;
  }

  const chosen = [...document.querySelectorAll(".hashAlgo:checked")]
    .map(a => a.value);

  if (chosen.length === 0) {
    output.innerHTML = "<em>Select at least one hashing algorithm.</em>";
    return;
  }

  output.innerHTML = "";

  for (const algo of chosen) {
    const hash = await computeHash(algo, input);
    output.innerHTML += `
      <div style="display:flex; align-items:center; gap:10px; margin-bottom:6px;">
        <strong>${algo}:</strong>
        <span style="font-family:'JetBrains Mono', monospace;">${hash}</span>
        <button onclick="navigator.clipboard.writeText('${hash}')"
                style="padding:2px 6px;">Copy</button>
      </div>`;
  }

  updateRGAC(input);
}

document.getElementById("novakInput")?.addEventListener("input", updateHashes);
document.querySelectorAll(".hashAlgo").forEach(cb =>
  cb.addEventListener("change", updateHashes)
);

// ================================================================
// âœ… RGAC DEMO
// ================================================================
function updateRGAC(value) {
  const rgac = document.getElementById("rgac");
  if (!value) return;

  rgac.innerHTML = `
    Data âœ SHA âœ Rule âœ SHA âœ Output âœ SHA âœ Receipt
  `;
}

// ================================================================
// âœ… FILE HASH VERIFICATION
// ================================================================
const dropzone = document.getElementById("dropzone");
const fileInput = document.getElementById("fileInput");
const fileHashResult = document.getElementById("fileHashResult");

dropzone?.addEventListener("click", () => fileInput.click());

dropzone?.addEventListener("dragover", e => {
  e.preventDefault();
  dropzone.style.background = "rgba(26,79,179,.08)";
});

dropzone?.addEventListener("dragleave", () =>
  dropzone.style.background = "transparent"
);

dropzone?.addEventListener("drop", e => {
  e.preventDefault();
  dropzone.style.background = "transparent";
  handleFileHash(e.dataTransfer.files[0]);
});

fileInput?.addEventListener("change", e =>
  handleFileHash(e.target.files[0])
);

async function handleFileHash(file) {
  if (!file) return;
  const buffer = await file.arrayBuffer();
  const hash = await computeHash("SHA-256", buffer);
  fileHashResult.innerHTML = `âœ… <strong>${file.name}</strong><br>SHA-256: ${hash}`;
}

// ================================================================
// âœ… VIN MODAL
// ================================================================
function openVinModal() {
  document.getElementById("vinModal").style.display = "flex";
}

function closeVinModal() {
  document.getElementById("vinModal").style.display = "none";
}

document.getElementById("vinInput")?.addEventListener("input", () => {
  const vin = vinInput.value.trim().toUpperCase();
  if (vin.length !== 17) {
    vinResult.innerHTML = "âŒ VIN must be 17 characters";
    return;
  }
  vinResult.innerHTML = `<pre>${vin}</pre>`;
});

// ================================================================
// âœ… GLORY TO GOD EXPANDER
// ================================================================
function toggleGlorySection() {
  const box = document.getElementById("glorySection");
  box.style.display = box.style.display === "none" ? "block" : "none";
  if (box.style.display === "block") box.scrollIntoView({ behavior: "smooth" });
}

// ================================================================
// âœ… INIT ON LOAD
// ================================================================
document.addEventListener("DOMContentLoaded", () => {
  setAudience("public");
  restoreWhyNovakOnLoad();
  restoreWhatChangesOnLoad();
  updateHashes();
});


</script>

</body>
</html>
 

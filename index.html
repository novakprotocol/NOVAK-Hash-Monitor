<!-- âœ… NOVAK Protocol â€” Final Public Demo Build (PART 1 of 3) -->
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NOVAK Protocol â€” Proof-Before-Action Integrity</title>

  <meta name="description"
        content="NOVAK Protocol â€” execution integrity, fraud prevention, cryptographic proof-before-action verification for government, finance, healthcare, AI, robotics, and national security." />

  <link rel="icon" type="image/png" href="favicon.png" />

  <!-- âœ… Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono&display=swap"
        rel="stylesheet" />

  <style>

/* ========== FIX TOP GAP (B) ========== */
html {
  scroll-padding-top: 70px; /* header height */
}

body {
  padding-top: 70px;  /* match header height exactly */
}

/* prevent double stacking */
.card,
#audienceContent,
#explainerOutput,
#whatChangesCard,
#whyNovakCard,
#whatIsNovakCard,
#hashOutputList,
#rgac,
#gameBox,
#transparencyView,
#storyPanel {
  scroll-margin-top: 80px; /* 80 is perfect spacing */
}


    
    /* ====================================================================== */
    /* âœ… GLOBAL RESET + TYPOGRAPHY                                           */
    /* ====================================================================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Inter", sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
      line-height: 1.55;
      -webkit-font-smoothing: antialiased;
      font-size: 16px;
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px;
    }

    /* ====================================================================== */
    /* âœ… COLOR SYSTEM â€” THEME VARIABLES                                      */
    /* ====================================================================== */
    :root {
      --blue: #1a4fb3;
      --blue-hover: #0f357f;
      --green: #059669;
      --red: #dc2626;
      --yellow: #e8b400;

      --bg-light: #f8fafc;
      --bg-dark: #0f172a;

      --text-light: #0b1326;
      --text-dark: #e6edf5;

      --card-light: #ffffff;
      --card-dark: #1e293b;

      --border-light: #d4d8e1;
      --border-dark: #334155;
    }

    /* Light Mode */
    html[data-theme="light"] {
      --bg: var(--bg-light);
      --text: var(--text-light);
      --card: var(--card-light);
      --border: var(--border-light);
    }

    /* Dark Mode */
    html[data-theme="dark"] {
      --bg: var(--bg-dark);
      --text: var(--text-dark);
      --card: var(--card-dark);
      --border: var(--border-dark);
    }

    /* Ensure readable buttons in Dark Mode */
    html[data-theme="dark"] .explain-btn,
    html[data-theme="dark"] .action-btn,
    html[data-theme="dark"] .theme-toggle,
    html[data-theme="dark"] .aud-btn {
      color: #ffffff !important;
      border-color: #ffffff !important;
    }

    html[data-theme="dark"] .theme-toggle:hover {
      background: #ffffff;
      color: #000000 !important;
    }

    html[data-theme="dark"] .card {
      color: var(--text-dark);
    }

    /* ====================================================================== */
    /* âœ… STICKY HEADER â€” CENTERED BRAND + SITE + THEME TOGGLE                */
    /* ====================================================================== */
    #mainHeader {
      display: flex;
      align-items: center;
      padding: 14px 28px;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      z-index: 9999;
    }

    .header-left {
      width: 80px; /* spacer, can stay mostly empty */
    }

    .header-center {
      flex: 1;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }

    #novakBrand {
      font-size: 26px;
      font-weight: 700;
      color: var(--blue);
      white-space: nowrap;
      user-select: none;
    }

    #novakTagline {
      font-size: 13px;
      opacity: 0.85;
    }

    #novakSiteLink {
      font-size: 14px;
      color: var(--blue);
      text-decoration: none;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    #headerControls {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .theme-toggle {
      cursor: pointer;
      font-size: 14px;
      padding: 7px 14px;
      border-radius: 999px;
      border: 1px solid var(--blue);
      background: transparent;
      color: var(--blue);
      transition: 0.25s;
    }

    .theme-toggle:hover {
      background: var(--blue);
      color: #fff;
    }

    /* Mobile Menu */
    #mobileMenuBtn {
      display: none;
      font-size: 26px;
      background: none;
      border: none;
      cursor: pointer;
    }

    #mobileMenuPanel {
      display: none;
      flex-direction: column;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      padding: 10px 22px 14px;
      gap: 8px;
    }

    /* ====================================================================== */
    /* âœ… SHARED UI â€” CARDS, TITLES, BUTTONS                                  */
    /* ====================================================================== */
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 26px;
      margin-top: 28px;
    }

    .section-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 14px;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .pill-btn {
      border-radius: 999px;
      border: 1px solid var(--blue);
      background: #ffffff;
      padding: 8px 18px;
      cursor: pointer;
      font-size: 14px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--blue);
      transition: 0.18s ease;
      white-space: nowrap;
    }

    .pill-btn:hover {
      background: rgba(26, 79, 179, 0.06);
    }

    .aud-btn.active {
      border-color: #000000;
      box-shadow: 0 0 0 2px #000000;
      background: #ffffff;
      color: #000000;
    }

    /* Primary CTA */
    .action-btn {
      padding: 9px 16px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      background: var(--blue);
      color: #fff;
      font-size: 14px;
      transition: 0.25s;
    }

    .action-btn:hover {
      background: var(--blue-hover);
    }

    /* âœ… Audience Selector Buttons â€” Match Explainer Style */
.aud-btn {
  border: 2px solid var(--blue);
  background: transparent;
  padding: 10px 22px;
  border-radius: 26px;
  font-size: 16px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: 0.25s;
  color: var(--blue);
}

.aud-btn:hover {
  background: rgba(26,79,179,0.10);
}

/* âœ… Active (selected) state */
.aud-btn.active {
  background: var(--blue);
  color: #ffffff;
  border-color: var(--blue);
}

/* âœ… Dark Mode readability */
html[data-theme="dark"] .aud-btn {
  color: #ffffff;
  border-color: #ffffff;
}

html[data-theme="dark"] .aud-btn.active {
  background: #ffffff;
  color: #000000;
}


    /* Restore buttons under cards */
    .restore-btn {
      padding: 8px 18px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--card);
      cursor: pointer;
      font-size: 14px;
    }

    /* ====================================================================== */
    /* âœ… ACCESSIBILITY                                                        */
    /* ====================================================================== */
    :focus-visible {
      outline: 3px solid var(--blue);
      border-radius: 6px;
    }

    /* ====================================================================== */
    /* âœ… RESPONSIVE                                                           */
    /* ====================================================================== */
    @media (max-width: 720px) {
      #mainHeader {
        padding: 10px 14px;
      }

      .header-left {
        display: none;
      }

      .header-right {
        gap: 6px;
      }

      #novakBrand {
        font-size: 22px;
      }

      #novakTagline {
        font-size: 12px;
      }

      .container {
        padding: 18px;
      }

      #headerControls {
        display: none;
      }

      #mobileMenuBtn {
        display: block;
      }
    }
  </style>
</head>

<body>

<!-- âœ… GLOBAL HEADER -->
<header id="mainHeader">
  <div class="header-left"></div>

  <div class="header-center">
    <div id="novakBrand">NOVAK Protocol</div>
    <div id="novakTagline">
      <strong>NOVAK</strong> = <em>Novak Objective Verification of Autonomous Knowledge</em>
    </div>
    <a id="novakSiteLink"
       href="https://www.novakprotocol.com"
       target="_blank"
       rel="noopener noreferrer">
      www.novakprotocol.com
    </a>
  </div>

  <div class="header-right">
    <div id="headerControls">
      <button class="theme-toggle" onclick="toggleTheme()">Light/Dark</button>
    </div>
    <button id="mobileMenuBtn" onclick="toggleMobileMenu()">â˜°</button>
  </div>
</header>

<!-- âœ… MOBILE DROPDOWN -->
<div id="mobileMenuPanel">
  <button class="theme-toggle" onclick="toggleTheme()">Light/Dark Mode</button>
</div>

<!-- âœ… MAIN CONTENT START -->
<div class="container">

  <!-- ================================================================ -->
  <!-- âœ… AUDIENCE SELECTOR + WHY NOVAK + WHAT IS NOVAK SECTION         -->
  <!-- ================================================================ -->

  <h2 style="margin-top:24px; margin-bottom:10px;">Choose Your Role or Interest:</h2>

  <!-- Audience Selector -->
  <div id="audienceNav" class="pill-row" style="margin-bottom:16px;">
    <button id="btn-public"     class="aud-btn" onclick="setAudience('public')">ğŸŒ Public</button>
    <button id="btn-government" class="aud-btn" onclick="setAudience('government')">ğŸ› Government</button>
    <button id="btn-investor"   class="aud-btn" onclick="setAudience('investor')">ğŸ’¼ Investor</button>
    <button id="btn-cyber"      class="aud-btn" onclick="setAudience('cyber')">ğŸ›¡ Cybersecurity</button>
    <button id="btn-academic"   class="aud-btn" onclick="setAudience('academic')">ğŸ“ Academic</button>
  </div>

  <!-- Audience messaging output -->
  <div id="audienceContent"
       class="card"
       style="margin-top:0; font-size:16px; line-height:1.55;">
  </div>

<div class="pill-row" style="justify-content:center; margin-top:16px;">
  
  <button id="restoreWhatIsBtn"
    onclick="restoreWhatIsNovakSection()"
    class="restore-btn"
    style="display:inline-flex;">
    ğŸ”„ Show â€œWhat is NOVAK?â€
  </button>
  
    <button id="restoreWhyBtn"
    onclick="restoreWhyNovakSection()"
    class="restore-btn"
    style="display:inline-flex;">
    ğŸ”„ Show â€œWhy NOVAK â€” Why Now?â€
  </button>

  <button id="restoreWhatBtn"
    onclick="restoreWhatChangesSection()"
    class="restore-btn"
    style="display:inline-flex;">
    ğŸ”„ Show â€œWhat Changes With NOVAK?â€
  </button>
</div>

 <!-- WHAT IS NOVAK? (Name + NOT Blockchain/Bitcoin/SSL) -->
  <div id="whatIsNovakCard" class="card" style="margin-top:24px; position:relative;">
    <h2 class="section-title">What is NOVAK?</h2>

    <p style="margin-bottom:10px;">
      <strong>NOVAK</strong> stands for
      <strong>Novak Objective Verification of Autonomous Knowledge</strong>.
      It is a cryptographic â€œgovernorâ€ that forces any automated system to prove integrity
      <em>before</em> it is allowed to act.
    </p>

    <ul style="margin-left:20px; margin-bottom:14px;">
      <li><strong></strong>Humans, AI, or malware cannot silently bypass it.</li>
      <li><strong></strong>Every decision has a math-checkable receipt.</li>
      <li><strong></strong>A small, hardened layer that sits beside existing systems and
          enforces proof-before-action.</li>
    </ul>

    <p style="margin-bottom:8px; font-weight:600;">
      NOVAK is <u>not</u>:
    </p>
    <ul style="margin-left:20px; margin-bottom:6px;">
      <li>âŒ Not a blockchain</li>
      <li>âŒ Not a cryptocurrency or token</li>
      <li>âŒ Not SSL/TLS or a VPN tunnel</li>
      <li>âŒ Not a logging system that only reacts after harm</li>
    </ul>

    <p>
      Instead, NOVAK sits <em>in front</em> of critical actions and demands cryptographic proof that
      <strong>data, rules, and outputs all match</strong> what was approved. If anything is off â€” it refuses
      to execute.
    </p>

    <!-- Close X -->
    <button onclick="dismissWhatIsNovak()"
      style="
        position:absolute;
        top:14px;
        right:14px;
        background:none;
        border:none;
        font-size:20px;
        cursor:pointer;
      "
      aria-label="Hide What is NOVAK section">
      âœ•
    </button>

    <!-- Confirm hide -->
    <button onclick="dismissWhatIsNovak()" class="action-btn" style="margin-top:18px;">
      âœ… Got it â€” Hide
    </button>
  </div>

  
  <!-- WHY NOVAK â€” WHY NOW? -->
  <div id="whyNovakCard" class="card" style="margin-top:24px; position:relative;">
    <h2 class="section-title">Why NOVAK â€” Why Now?</h2>

    <p>
      Automation now approves mortgages, denies veteransâ€™ benefits, sets insurance rates, steers vehicles,
      recommends surgeries, and moves trillions of dollars â€” often without proof of correctness, legality, or integrity.
    </p>

    <p style="margin-top:12px;">
      NOVAK changes this â€” requiring mathematical proof <strong>before</strong> any automated action occurs.
    </p>

    <ul style="margin-top:12px; margin-left:20px;">
      <li>If data changes â†’ NOVAK detects instantly</li>
      <li>If rule is wrong â†’ NOVAK blocks execution</li>
      <li>If fraud occurs â†’ NOVAK produces evidence</li>
      <li>If system glitches â†’ NOVAK prevents harm</li>
    </ul>

    <p style="margin-top:14px; font-weight:600;">
      No blockchain. No cryptocurrency. No SSL/TLS tunnel. No central authority. Just cryptographic
      proof-before-action execution integrity.
    </p>

    <!-- Close X -->
    <button onclick="dismissWhyNovak()"
      style="
        position:absolute;
        top:14px;
        right:14px;
        background:none;
        border:none;
        font-size:20px;
        cursor:pointer;
      "
      aria-label="Hide Why NOVAK section">
      âœ•
    </button>

    <!-- Confirm hide -->
    <button onclick="dismissWhyNovak()" class="action-btn" style="margin-top:18px;">
      âœ… Got it â€” Hide
    </button>
  </div>

 <!-- WHAT CHANGES WITH NOVAK -->
  <div id="whatChangesCard" class="card" style="margin-top:32px; position:relative;">
    <h2 class="section-title">What Changes With NOVAK?</h2>

    <p>
      Most systems today rely on logging <strong>after</strong> something already happened.
      NOVAK requires proof <strong>before</strong> action.
    </p>

    <div style="margin-top:14px;">
      <p style="color:var(--red); font-weight:600; margin-bottom:6px;">âŒ Without NOVAK</p>
      <p style="margin-bottom:14px;">
        System executes even if data is wrong â€” Hash exists but cannot stop harm â€” Fraud discovered weeks or years later â€”
        No mathematical guarantee of legality â€” Human trust required.
      </p>

      <p style="color:var(--green); font-weight:600; margin-bottom:6px;">âœ… With NOVAK</p>
      <p>
        Proof required before action â€” Data, rules &amp; output cryptographically bound â€”
        Fraud blocked instantly â€” Evidence auto-generated â€”
        Trust replaced with math.
      </p>
    </div>

    <!-- Close X -->
    <button onclick="dismissWhatChanges()"
      style="
        position:absolute;
        top:14px;
        right:14px;
        font-size:20px;
        background:none;
        border:none;
        cursor:pointer;
      "
      aria-label="Hide What Changes With NOVAK">
      âœ•
    </button>

    <!-- Confirm hide -->
    <button class="action-btn" onclick="dismissWhatChanges()" style="margin-top:18px;">
      âœ… Got it â€” Hide
    </button>
  </div>
  
   <!-- EXPLAINER BUTTONS -->
  <div style="margin-top:26px;" class="pill-row">
    <button class="pill-btn explain-btn" onclick="showExplain('simple')">ğŸ¤¯ I don't get it</button>
    <button class="pill-btn explain-btn" onclick="showExplain('milkshake')">ğŸ¥¤ Milkshake Analogy</button>
    <button class="pill-btn explain-btn" onclick="showExplain('pencil')">ğŸ–ï¸ Pencil Analogy</button>
    <button class="pill-btn explain-btn" onclick="showExplain('key')">ğŸ”‘ Key Analogy</button>
    <button class="pill-btn explain-btn" onclick="showExplain('gov')">ğŸ› Federal Savings</button>
    <button class="pill-btn explain-btn" onclick="showExplain('how')">ğŸ‘ï¸ How This Works</button>
  </div>

  <!-- âœ… GUIDED AUTO-SCROLL WALKTHROUGH -->
<div class="card" style="margin-top:36px;">
  <h2 class="section-title">Guided NOVAK Walkthrough</h2>
  <p>Let NOVAK explain itself â€” automatically, step-by-step.</p>

  <button class="action-btn"
          onclick="startStoryMode()"
          style="margin-top:12px;">
    â–¶ Begin Guided Demo
  </button>

<!-- âœ… STORY PANEL -->
<div id="storyPanel"
     class="card"
     style="display:none; margin-top:20px; font-size:15px; line-height:1.6;">
</div>
<!-- Moved this here -->
</div>

  <!-- ANALOGY OUTPUT -->
  <div id="explainerOutput" class="card" style="display:none; margin-top:22px;"></div>

   <!-- ==================================================================== -->
  <!--  END OF PART 1 â€” NEXT MESSAGE (PART 2) STARTS WITH TRY-IT HASH AREA  -->
  <!-- ==================================================================== -->

  <!-- âœ… PART 2 â€” Try It + Hash Engine + Example Data + File Drop + VIN + Games -->

<!-- âœ… TRY IT â€” LIVE HASH INPUT -->
<div class="card" style="margin-top:38px;">
  <h2 class="section-title">Try It â€” Prove Integrity Yourself</h2>

  <br>
  <p>If you type exaclty TEST, all in capitals, in the below text field, what SHA-256 will say in Cryptographic Hashes area below the example datasets is:</p>
  <br>
  <p>TEST  â†’ 94ee059335e587e501cc4bf90613e0814f00a7b08bc7c648fd865a2af6a22cc2</p>
  <br>
  <p>Change one thing and it all changes</p>
  <br>
  <p>Test  â†’ 532eaabd9574880dbf76b9b8cc00832c20a6ec113d682299550d7a6e0f345e25</p>
  <br>
  <p>test  â†’ 9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08</p>
  <br>
  <p>tEsT  â†’ 876c5e143c421959adff3ed91b82556c433a2f79b6369e70592d2c9dc73455ce</p>
  <br>
  <p>
    Type, paste, or modify anything below â€” NOVAK instantly generates cryptographic hashes locally
    using your device. Nothing is stored, logged, transmitted, or uploaded.
  </p>
  
  <textarea id="novakInput"
    placeholder="Example: VA claim, invoice, VIN, contract, JSON, SQL, XML..."
    style="width:100%; height:170px; margin-top:16px; font-family:'JetBrains Mono', monospace;
           font-size:14px; padding:12px;"></textarea>

  <!-- âœ… Hash Algorithm Selector -->
  <div style="margin-top:16px; display:flex; flex-wrap:wrap; gap:18px;">
    <label><input type="checkbox" class="hashAlgo" value="SHA-256" checked> SHA-256</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA-512" checked> SHA-512</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA-384"> SHA-384</label>
    <label><input type="checkbox" class="hashAlgo" value="SHA3-256"> SHA-3-256</label>
  </div>

<p style="margin-top:6px; font-size:13px; opacity:0.85;">
ğŸš«This public demo is for educational purposes only â€” NOT for HIPAA-regulated environments.
NOVAK does not collect, store, transmit, or retain data, but user responsibility applies.
</p>

<p style="margin-top:6px; font-size:13px; opacity:0.85;">
ğŸš« Never use real patients, real claims, or real medical documents here â€” training data only.
</p>
  
</div>

<!-- âœ… EXAMPLE DATASETS -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Example Datasets</h2>
  <p>Select one â€” it instantly loads into the input above.</p>


  <div class="pill-row" style="margin-top:16px;">
    <button class="pill-btn" onclick="loadExample('va')">ğŸ–ï¸ VA Disability Claim</button>
    <button class="pill-btn" onclick="loadExample('finance')">ğŸ’° Financial Transaction</button>
    <button class="pill-btn" onclick="loadExample('robot')">ğŸ¤– Robotics Command</button>
    <button class="pill-btn" onclick="loadExample('ai')">ğŸ§  System Log</button>
    <button class="pill-btn" onclick="loadExample('legal')">âš–ï¸ Legal Filing</button>
  </div>
</div>
  
<!-- âœ… HASH OUTPUT -->
<div class="card" style="margin-top:22px;">
  <h3 class="section-title" style="font-size:20px;">Cryptographic Hashes</h3>

  <div id="hashOutputList"
       style="margin-top:10px; font-family:'JetBrains Mono', monospace; font-size:14px;">
    <em>Waiting for input from above...</em>
  </div>
</div>

<div class="card" style="margin-top:26px;">
  <h2 class="section-title">What Can I Actually Do With This Hash?</h2>

  <p>
    Think of the hash as a <strong>digital fingerprint</strong> â€” a unique, unforgeable identifier
    of the exact text or file you verified.
  </p>

    <h3 style="margin-top:14px;">What a normal person can do with it:</h3>
  
    <ul style="margin-left:20px; margin-top:10px; line-height:1.55;">
    <li><strong>Prove â€œthis is the exact thing I had before.â€</strong><br></li>
    Copy it and save it somewhere safe.<br>
        Paste into an email, document, claim note, or evidence file as:<br>
        <code>NOVAK Integrity Hash (SHA-256): &lt;your hash&gt;</code>
    </li>

    <li style="margin-top:10px;"><strong>Later, paste the SAME text/file back in.</strong><br>
        Paste the identical content back into NOVAK.<br>
        â€¢ If the hash <strong>matches</strong> â†’ âœ… nothing changed.<br>
        â€¢ If the hash <strong>differs</strong> â†’ ğŸŸ¥ content was altered (even by one invisible character).</li>

    <li style="margin-top:12px;"><strong>Use it as mathematical proof.</strong><br>
        This provides a cryptographic guarantee that the claim, record, log, or file
        hasn't been silently changed between two points in time.</li>
  </ul>

    <li style="margin-top:10px;"><strong>Catch invisible changes.</strong><br>
        Even a space or dot changes the hash completely â€” exposing silent edits that steal money,
        reduce ratings, alter decisions, or manipulate claims.</li>

    <li style="margin-top:10px;"><strong>Anchor a moment in time.</strong><br>
        â€œOn this date, this exact text existed.â€ Courts, audits, and oversight can recompute the hash
        anytime to prove authenticity.</li>
  </ul>

  <p style="margin-top:16px; font-weight:600;">
    ğŸ‘‰ In short: <strong>Save the hash, compare it later. If it matches, nothing has changed.</strong><br><br>
    The hash is your before/after truth anchor.
  </p>
  <p style="margin-top:16px;">
    <strong>In full NOVAK deployments:</strong><br>
    Systems are <em>not even allowed to act</em> unless the hashes match the last approved truth.
  </p>
  </div>

  <div class="card" style="margin-top:26px;">
  <h2 class="section-title">Why Can't I Paste the Hash Back In?</h2>

  <p>
    A cryptographic hash is a <strong>one-way fingerprint</strong>. 
    When you paste the <em>hash itself</em> into the box, NOVAK creates a 
    <strong>new hash of the hash</strong> â€” it does <em>not</em> recover the original text.
  </p>

  <p style="margin-top:12px;">
    That is expected. No cryptographic hash (SHA-256, SHA-512, SHA-3, etc.) is reversible.
  </p>

  <h3 style="margin-top:16px;">So what do you actually do with a saved hash?</h3>

  <ul style="margin-left:20px; margin-top:10px; line-height:1.6;">
    <li><strong>Save the hash</strong> somewhere safe (email, PDF, note, claim file).</li>

    <li style="margin-top:10px;">
      Later, paste the <strong>original text or file</strong> back into NOVAK.
    </li>

    <li style="margin-top:10px;">
      If the hash <strong>matches</strong> â†’ nothing changed.<br>
      If the hash <strong>does not match</strong> â†’ something was changed 
      (even one invisible character).
    </li>
  </ul>

  <p style="margin-top:16px; font-weight:600;">
    ğŸ‘‰ Pasting the hash itself is not the correct way.<br><br>
    You always re-verify by re-entering the <strong>original content</strong>.
  </p>

  <p style="margin-top:8px;">
    In a full NOVAK deployment, this process is automatic â€” systems cannot act 
    unless their current hash matches the last approved truth.
  </p>
</div>
  
<!-- ========================================= -->
<!-- GPU, Hashing, and Why NOVAK Is Different   -->
<!-- ========================================= -->

<div class="card" style="margin-top:32px;">
  <h2 class="section-title">How NOVAK Computes Hashes â€” And Why This Matters</h2>

  <h3 style="margin-top:14px;">Are These Real Cryptographic Hashes?</h3>
  <p>
    âœ” <strong>YES.</strong>  
    Your browser is using the <strong>WebCrypto API</strong> â€” the same cryptographic engine used by:
  </p>

  <ul style="margin-left:20px;">
    <li>Google Chrome internal security modules</li>
    <li>Apple WebKit encryption</li>
    <li>Federal FIPS-validatable cryptographic paths</li>
    <li>Progressive Web Apps (PWAs)</li>
  </ul>
  <br>
  <p>
    Nothing is sent to a server.  
    Nothing leaves your device.  
    Everything runs <strong>locally, client-side, instantly.</strong>
  </p>

  <h3 style="margin-top:18px;">Why Isnâ€™t My GPU Being Used?</h3>
  <p>
    âœ” GPUs are not used for SHA-256/384/512 because hashing is not a parallel-friendly operation.
  </p>
  <br>
  <p>
    âœ” The browser delegates hashing to <strong>CPU hardware acceleration</strong>, not your graphics card.
  </p>

  <p style="margin-top:6px;">
    <strong>Hashing uses:</strong><br>
    â€¢ CPU<br>
    â€¢ Hardware-accelerated WebCrypto<br><br>
    <strong>NOT GPU compute.</strong>
  </p>

  <p>
    This is exactly what makes NOVAK strong â€” it uses <em>verified, standard, secure cryptographic primitives</em> already supported at the hardware level.
  </p>
</div>

  <!-- âœ… Why Hashing Alone Is NOT Enough -->
<div class="card" style="margin-top:26px;">
  <h2 class="section-title">How Is This Different Than Today?</h2>

  <p>
    Today, most systems generate hashes, signatures, logs, or encrypted traffic â€”
    but none of those guarantee the <strong>correctness</strong> of automated actions.
  </p>

  <ul style="margin-left:20px; margin-top:12px; margin-bottom:16px;">
    <li>âœ… Hashing proves data hasn't changed â€” <strong>after</strong> execution</li>
    <li>âœ… TLS/SSL protects communication â€” not decision integrity</li>
    <li>âœ… Blockchain records history â€” it cannot stop bad actions</li>
    <li>âœ… Logging documents failure â€” it does not prevent it</li>
    <li>âœ… Audits require humans â€” long after harm already occurred</li>
  </ul>

  <p style="font-weight:600; margin-bottom:12px;">
    NOVAK is different:
  </p>

  <ul style="margin-left:20px; margin-bottom:4px; font-weight:600;">
    <li>ğŸš« No cryptographic proof â†’ system is blocked</li>
    <li>ğŸ§© Input, rule & output must cryptographically match</li>
    <li>ğŸ›‘ Prevents fraud, corruption, glitches & silent automation failure</li>
    <li>ğŸ§¾ Generates tamper-proof execution receipts instantly</li>
  </ul>

  <p style="margin-top:14px;">
    Instead of trusting â€” NOVAK <strong>verifies before action</strong>.
  </p>
</div>

<!-- ========================================= -->
<!-- Why Hasnâ€™t Anyone Built This Before?       -->
<!-- ========================================= -->

<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Why Hasnâ€™t Anyone Built NOVAK Before?</h2>

  <p>NOVAK.....looks obvious once you see it. </p>
  <br>
  <p>But hereâ€™s the truth:</p>

  <ul style="margin-left:20px; margin-top:12px;">
    <li>âœ” Nobody does <strong>Proof-Before-Action</strong></li>
    <li>âœ” Nobody binds <strong>input â†’ rule â†’ output</strong> cryptographically</li>
    <li>âœ” Nobody performs <strong>local, real-time integrity verification</strong></li>
    <li>âœ” Nobody applies this to <strong>AI, robotics, finance, VA claims, or government systems</strong></li>
    <li>âœ” Nobody provides <strong>cryptographic receipts before harm occurs</strong></li>
  </ul>

  <p style="margin-top:14px;">
    Why?
    Because the entire industry copied <strong>blockchain</strong>, which only verifies 
    <em>after things happen</em>.
  </p>

  <p style="margin-top:10px;">
    Nobody thought to require systems to <strong>prove correctness before acting</strong>.
  </p>

  <p style="margin-top:16px; font-weight:600;">
    That is the NOVAK invention.
  </p>
</div>

  <!-- âœ… AUTO-VERIFICATION TOGGLE -->
<div class="card" style="margin-top:32px;">
  <label style="display:flex; align-items:center; gap:10px; font-size:16px;">
    <input type="checkbox" id="autoVerifyToggle" checked>
    <strong>Enable Proof-Before-Action Engine (NOVAK Auto-Verification)</strong>
  </label>
  <p style="margin-top:6px; font-size:14px; opacity:0.8;">
    When enabled, NOVAK automatically checks whether any change breaks integrity 
    <strong>before</strong> execution.
  </p>
</div>


<!-- âœ… AUTO-INJECT PROOF-BEFORE-ACTION DEMO -->
<div class="card" style="margin-top:22px;">
  <h3 class="section-title" style="font-size:20px;">
    NOVAK Auto-Verification â€” Proof-Before-Action
  </h3>

  <p>
    Modify the text above and NOVAK instantly checks whether the new output
    still matches the last approved cryptographic truth.
  </p>

  <div id="autoVerifyStatus"
       style="margin-top:14px; 
              font-family:'JetBrains Mono', monospace; 
              font-size:15px;
              padding:14px;
              border-radius:8px;
              background:var(--card);
              border:1px solid var(--border);">
    Waiting for input...
  </div>
</div>
  
  <!-- âœ… RGAC VISUALIZATION -->
<div class="card" style="margin-top:22px;">
  <h3 class="section-title" style="font-size:20px;">RGAC â€” Recursive Global Audit Chain</h3>

  <p style="margin-bottom:12px;">
    In NOVAK, every approved output becomes the next input â€” forming a self-verifying integrity chain.
  </p>

  <div id="rgac"
       style="font-family:'JetBrains Mono', monospace; font-size:14px;">
    <em>Provide input to begin...</em>
  </div>
</div>

<!-- âœ… FILE DRAG & DROP VERIFICATION -->
<div class="card" style="margin-top:22px;">
  <h3 class="section-title" style="font-size:20px;">Verify Any File</h3>

<p style="margin-top:6px; font-size:13px; opacity:0.85;">
ğŸš« Never use real patients, real claims, or real medical documents here â€” training data only.
</p>
  <p>
    Upload a PDF, medical record, scanned document, CSV, screenshot, legal filing â€”
    NOVAK proves originality instantly using real cryptography.
  </p>

  <div id="dropzone"
       style="margin-top:14px; padding:22px; border:2px dashed var(--border);
              border-radius:10px; text-align:center; cursor:pointer;">
    ğŸ“ Drop file here or click to select
    <input id="fileInput" type="file" style="display:none" />
  </div>

  <div id="fileHashResult"
       style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px;"></div>
</div>

<!-- âœ… VIN DECODER MODAL -->
<div id="vinModal"
     style="display:none; position:fixed; top:0; left:0; width:100%; height:100%;
            background:rgba(0,0,0,.55); justify-content:center; align-items:center; z-index:9999;">
  <div style="background:var(--card); padding:26px; border-radius:10px; width:440px;
              border:1px solid var(--border); box-shadow:0 4px 18px rgba(0,0,0,.35);">

    <h3 class="section-title" style="font-size:20px;">VIN Decoder</h3>

    <input id="vinInput"
           placeholder="Enter VIN (17 characters)"
           maxlength="17"
           style="margin-top:14px; width:100%; padding:10px;
                  border:1px solid var(--border); border-radius:6px;
                  font-family:'JetBrains Mono', monospace; font-size:15px;">

    <div id="vinResult"
         style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px;"></div>

    <button onclick="closeVinModal()" class="action-btn" style="margin-top:18px; width:100%;">
      Close
    </button>
  </div>
</div>

<!-- âœ… INTERACTIVE MINI-GAMES -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Interactive Integrity Challenges</h2>

  <p>Learn NOVAK by doing â€” spot fraud, detect tampering, prove originality.</p>

  <div class="pill-row" style="margin-top:16px;">
    <button class="pill-btn" onclick="startGame('tamper')">ğŸ•µï¸ Spot the Tampering</button>
    <button class="pill-btn" onclick="startGame('memory')">ğŸ§  Hash Memory Match</button>
    <button class="pill-btn" onclick="startGame('fraud')">ğŸš¨ Fraud Detector</button>
  </div>

  <!-- game sound toggle -->
  <button onclick="toggleSound()"
          class="sound-toggle"
          aria-label="Toggle game sound"
          style="margin-top:14px; font-size:20px; background:none; border:none; cursor:pointer;">
    ğŸ”‡
  </button>
</div>

<!-- âœ… GAME RENDER CONTAINER -->
<div id="gameBox" class="card" style="margin-top:20px; display:none;"></div>

<!-- âœ… STRUCTURED DATA VALIDATION -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Validate Structured Data</h2>

  <p>ğŸš« Never use real patients, real claims, or real medical documents here â€” training data only.</p>
  <p>Upload JSON, SQL, XML, or TXT â€” NOVAK proves it hasnâ€™t changed before execution.</p>

  <input id="structuredFile"
         type="file"
         accept=".json,.sql,.xml,.txt"
         style="margin-top:16px;">

  <pre id="structuredResult"
       style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px;"></pre>
</div>

<!-- âœ… AI TRANSPARENCY MODE -->
<div class="card" style="margin-top:32px;" id="transparencyCard">
  <h2 class="section-title">AI Transparency Mode</h2>

  <p>
    NOVAK makes automated decisions explainable, provable, lawful, and auditable â€”
    instead of mysterious and unchallengeable.
  </p>

  <button onclick="toggleTransparency()" class="action-btn" style="margin-top:16px;">
    Enable Transparency View
  </button>
</div>

<!-- âœ… TRANSPARENCY PANEL -->
<div class="card"
     id="transparencyView"
     style="display:none; margin-top:20px; font-family:'JetBrains Mono', monospace; font-size:14px;">
</div>

<!-- âœ… INTEGRITY RECEIPT -->
<div class="card" style="margin-top:32px;">
  <h2 class="section-title">Integrity Receipt</h2>

  <p>
    NOVAK generates a tamper-proof receipt proving what existed, when, and under what rules â€”
    useful for courts, claims, audits, cybersecurity, safety systems, and AI oversight.
  </p>

  <button class="action-btn" onclick="generateReceipt()" style="margin-top:12px;">
    Generate Receipt
  </button>

  <pre id="receiptOutput"
       style="margin-top:16px; font-family:'JetBrains Mono', monospace; font-size:14px; white-space:pre-wrap;"></pre>
</div>

<!-- âœ… COMPARISON SECTION -->
<div class="card"
     style="margin-top:48px; font-size:15px; line-height:1.63;">
  <h2 class="section-title">Why TLS, Blockchain & Bitcoin Cannot Prevent Automated Harm â€” but NOVAK Can</h2>

  <h3 style="margin-top:18px;">âŒ TLS / SSL</h3>
  <ul style="margin-left:20px;">
    <li>Encrypts transmission â€” not correctness</li>
    <li>Assumes data and rules are already valid</li>
    <li>Cannot stop wrongful automation</li>
  </ul>
  âœ… Protects communication â€” not decisions.

  <h3 style="margin-top:18px;">âŒ Blockchain</h3>
  <ul style="margin-left:20px;">
    <li>Records history after execution</li>
    <li>Slow, expensive, consensus-dependent</li>
    <li>Stores corrupted decisions forever</li>
  </ul>
  âœ… Creates immutable logs â€” not integrity.

  <h3 style="margin-top:18px;">âŒ Bitcoin & Cryptocurrency</h3>
  <ul style="margin-left:20px;">
    <li>Designed for ownership & payments</li>
    <li>Not legally, medically, or operationally authoritative</li>
    <li>Solves accounting â€” not correctness</li>
  </ul>
  âœ… Proves who paid â€” not whether a decision was right.

  <h3 style="margin-top:18px;">âŒ Logging, Audits, SIEM</h3>
  <ul style="margin-left:20px;">
    <li>Detect failure AFTER damage</li>
    <li>Human investigation required</li>
    <li>No prevention, only forensics</li>
  </ul>
  âœ… Finds harm â€” doesn't stop it.

  <h3 style="margin-top:22px;">âœ… NOVAK Protocol</h3>
  <ul style="margin-left:20px; font-weight:600;">
    <li>Requires mathematical proof-before-action</li>
    <li>Cryptographically binds input â†’ rule â†’ output</li>
    <li>Blocks execution if ANYTHING changes</li>
    <li>Produces tamper-proof receipts instantly</li>
    <li>No blockchain, tokens, mining, or consensus required</li>
    <li>Runs locally, offline, universally</li>
  </ul>

  âœ… Protects humans, veterans, patients, taxpayers, agencies & national security.
</div>

<!-- âœ… EXECUTIVE REPORT EXPORT -->
<div class="card" style="margin-top:36px;">
  <h2 class="section-title">Generate Executive Report</h2>
  <p>A clean, one-page NOVAK briefing for policymakers, executives, and investors.</p>

  <button class="action-btn"
          onclick="exportBriefing()"
          style="margin-top:12px;">
    ğŸ“„ Export Executive Report
  </button>
</div>

<div class="canvas">
  <h1>Deterministic Execution Integrity</h1>

  <div class="card" style="margin-top:36px;">
    <div class="quote-text">
        Asimov gave robots fictional ethics.<br><br>
      <p> Turing defined when a machine is allowed to compute. </p>
        <br>
        <strong>NOVAK defines when a machine is allowed to <span class="quote-highlight">ACT</span></strong> â€” and forces it to prove it obeyed the law before it does.
    </div>
    <br>
    <div class="quote-separator">
        - That is the difference between science fiction and civilization infrastructure.
    </div>
    <br>
    <div class="quote-text">
        <div class="quote-highlight">Deterministic Execution Integrity - No system may execute without provable truth!</div>
    </div>
    <br>
    <span class="quote-author">
        â€” Matthew Stephen Novak
    </span>
  </div>

 <!-- SONG: BREAK THE CHAIN -->
  <div class="card">
    <h2 class="section-title">â€œBreak the Chainâ€ - AI Assist with this song</h2>
    <p>Power of Math and AI. This is a track and lyrics I made and mixed using an AI assist</p> 
      <p> â€” it is about breaking invisible chains of harm, bias, and corruption in automated systems</p>
    <br>
       <p>  - exactly what I felt like while making this.</p>
<br>
    <p>
    Lot's of bass! So depending on mood and taste adjust volume as appropriate.
    </p>
    
    <button class="action-btn" style="margin-top:10px;" onclick="toggleSongLyrics()">
      ğŸ§ Show / Hide Lyrics
    </button>

    <div id="songBlock" style="display:none; margin-top:16px;">
      <p>
        <a id="songLink" href="#" target="_blank" rel="noopener noreferrer">
          â–¶ Listen to â€œBreak the Chainâ€ (link coming soon)
        </a>
      </p>

      <pre style="margin-top:14px; white-space:pre-wrap; font-family:'JetBrains Mono', monospace; font-size:14px;">[Intro]

YEAH!
Pressure on the brainâ€”
Chain on my neck, weight in my name!

[Verse 1]

Heartbeat drum, itâ€™s a war inside,
Every step I take, somethinâ€™ gotta die.
Dreams in a chokehold, breath runninâ€™ thin,
Mirror show a beast I been holdinâ€™ in.

No peace, no plan, just fight,
Concrete talk, that streetlight bite.
Every scar got a story to tell,
Every loss lit a match in hell.

[Hook / Chorus]

Iâ€™m â€™bout to break the chain!
Ainâ€™t no fear left in my veins.
Iâ€™m â€™bout to break the chain!
Hear that thunder call my name.
Walls canâ€™t hold this painâ€”
Iâ€™m â€™bout to break the chain!

[Verse 2]

Born in the static, raised in the grime,
Life hit hard but I stayed in time.
Eyes wide open, soul donâ€™t sleep,
Loyalty deep, that code I keep.

Now I move like storm and flame,
Every breath scream my claim.
If the devil want a piece, he can tryâ€”
I bite back twice before I die.

[Hook 2]

Iâ€™m â€™bout to break the chain!
Whole world feel that strain.
Iâ€™m â€™bout to break the chain!
Let the rage run down the drain.
Ainâ€™t no cage for this brainâ€”
Iâ€™m â€™bout to break the chain!

[Bridge / Breakdown]

(beat drops to filtered 808 + vocal echo)
Gotta fight my way, gotta earn my crown,
Every time they push, I wonâ€™t back down.
Blood in my mouth, still I laugh insaneâ€”
Say my name, say my name!

Iâ€™m â€™bout to break the chain!
Bones crack, beats remain.
Iâ€™m â€™bout to break the chain!
Freedom roars inside my brain.
When that fire hits my veinsâ€”
Iâ€™M! BOUT! TO! BREAK! THE! CHAIN!

      </pre>
    </div>
  </div>

  
<!-- âœ… FOOTER -->
<footer style="text-align:center; margin-top:60px; font-size:14px; opacity:0.85; line-height:1.5;">
  NOVAK Protocol â€” Novak Objective Verification of Autonomous Knowledge<br>
  Proof-Before-Action â€” Patent Pending â€” Copyright Â© 2025 Matthew Novak<br><br>

  PADI 30-Year Member IDC Staff Instructor #888850 â€”
  <a href="https://www.padi.com" target="_blank" rel="noopener noreferrer">www.padi.com</a><br>
<br>
  o7 Star Citizen Referral â€”
  <a href="https://www.robertsspaceindustries.com/enlist?referral=STAR-KRN7-SJTX"
     target="_blank" rel="noopener noreferrer">STAR-KRN7-SJTX</a><br><br>

  Nothing stored, logged, transmitted, analyzed, monitored, sold, or shared.<br>
  100% local, private, client-side cryptographic verification.
</footer>

<!-- âœ… GLORY TO GOD -->
<div style="display:flex; justify-content:center; margin-top:60px;">
  <button class="action-btn" onclick="toggleGlorySection()"
    style="font-size:16px; padding:12px 26px; border-radius:10px;">
    âœï¸ Glory to God
  </button>
</div>

<div id="glorySection" class="card"
  style="display:none; margin-top:26px; font-size:15px; line-height:1.63;">
  <p style="font-style:italic; font-size:1.1rem; text-align:center; margin-bottom:22px;">
    â€œThe LORD detests lying lips, but He delights in those who act faithfully.â€ â€” Proverbs 12:22
  </p>
  <p>
    The NOVAK Protocol exists because truth has intrinsic value â€” and wrongdoing, deception,
    and hidden harm must be revealed, not rewarded.
  </p>
  <br>
  <p>
    Mathematical integrity reflects moral integrity â€” honesty, accountability, and justice.
  </p>
    <br>
  <p style="font-weight:600;">Everything good in this work belongs to God. Everything flawed belongs to me.</p>
    <br>
  <p>
    May this technology protect the vulnerable, restrain corruption, and advance human dignity.
  </p>
</div>

</div> <!-- END MAIN CONTAINER -->

<!-- âœ… FULL JAVASCRIPT ENGINE -->

<script>
/* ============================
   GLOBAL STATE
=============================*/
let currentAudience = "public";
let soundEnabled = false;
let storyIndex = 0;
let storyInterval;

/* ============================
   THEME TOGGLE
=============================*/
function toggleTheme() {
  const html = document.documentElement;
  const newTheme = html.getAttribute("data-theme") === "light" ? "dark" : "light";
  html.setAttribute("data-theme", newTheme);
  localStorage.setItem("novakTheme", newTheme);
}
(function () {
  const saved = localStorage.getItem("novakTheme");
  if (saved) document.documentElement.setAttribute("data-theme", saved);
})();

/* ============================
   MOBILE MENU
=============================*/
function toggleMobileMenu() {
  const m = document.getElementById("mobileMenuPanel");
  m.style.display = m.style.display === "flex" ? "none" : "flex";
}

/* ============================
   AUDIENCE ENGINE
=============================*/
const audienceMessages = {
  public: "NOVAK protects everyday people by ensuring automated decisions affecting healthcare, housing, employment, credit, pricing, education, transportation, and safety cannot silently miscalculate, manipulate, or harm.",
  government: "NOVAK prevents improper payments, wrongful denials, silent automation failure, procurement fraud, evidence tampering, and catastrophic system mistakes â€” without requiring new infrastructure.",
  investor: "NOVAK creates a new execution integrity market â€” reducing enterprise risk, enabling defensible automation, expanding AI commercialization, and unlocking trillion-dollar modernization opportunities.",
  cyber: "NOVAK adds the missing pillar to cybersecurity â€” prevention. No consensus, no blockchain, no latency â€” just mathematical proof that data, rules & outputs haven't changed before execution.",
  academic: "NOVAK formalizes deterministic execution integrity by cryptographically binding attested inputs, governing rules, generated outputs, timestamps, and execution identity into a verifiable receipt."
};

function setAudience(type) {
  currentAudience = type;
  document.getElementById("audienceContent").textContent = audienceMessages[type];

  document.querySelectorAll(".aud-btn").forEach(b => b.classList.remove("active"));
  document.getElementById(`btn-${type}`).classList.add("active");
}

/* ============================
  WHY NOVAK â€” DISMISS & RESTORE
=============================*/
function dismissWhyNovak() {
  document.getElementById("whyNovakCard").style.display = "none";
  document.getElementById("restoreWhyBtn").style.display = "inline-flex";
  localStorage.setItem("whyNovakDismissed", "true");
}
function restoreWhyNovakSection() {
  document.getElementById("whyNovakCard").style.display = "block";
  document.getElementById("restoreWhyBtn").style.display = "none";
  localStorage.removeItem("whyNovakDismissed");
}
function restoreWhyNovakOnLoad() {
  if (localStorage.getItem("whyNovakDismissed") === "true") dismissWhyNovak();
}

/* ============================
 WHAT IS NOVAK â€” DISMISS & RESTORE âœ… FIXED
=============================*/
function dismissWhatIsNovak() {
  document.getElementById("whatIsNovakCard").style.display = "none";
  document.getElementById("restoreWhatIsBtn").style.display = "inline-flex";
  localStorage.setItem("whatIsNovakDismissed", "true");
}
function restoreWhatIsNovakSection() {
  document.getElementById("whatIsNovakCard").style.display = "block";
  document.getElementById("restoreWhatIsBtn").style.display = "none";
  localStorage.removeItem("whatIsNovakDismissed");
}
function restoreWhatIsNovakOnLoad() {
  if (localStorage.getItem("whatIsNovakDismissed") === "true") dismissWhatIsNovak();
}

/* ============================
 WHAT CHANGES â€” DISMISS & RESTORE
=============================*/
function dismissWhatChanges() {
  document.getElementById("whatChangesCard").style.display = "none";
  document.getElementById("restoreWhatBtn").style.display = "inline-flex";
  localStorage.setItem("whatChangesDismissed", "true");
}
function restoreWhatChangesSection() {
  document.getElementById("whatChangesCard").style.display = "block";
  document.getElementById("restoreWhatBtn").style.display = "none";
  localStorage.removeItem("whatChangesDismissed");
}
function restoreWhatChangesOnLoad() {
  if (localStorage.getItem("whatChangesDismissed") === "true") dismissWhatChanges();
}

/* ============================
   EXPLAINER BUTTONS & OUTPUT
=============================*/
const explainTexts = {
  simple: "NOVAK requires proof-before-action â€” meaning systems must prove correctness before executing, not after failure.",
  milkshake: "If a milkshake spills, you see it. In digital systems, corruption is invisible â€” NOVAK makes tampering visible instantly.",
  pencil: "Like coloring with pencils â€” once marked, you can't erase without evidence. NOVAK ensures all digital changes leave proof.",
  key: "A door key doesn't open every house â€” NOVAK ensures only correct, verified data can unlock execution.",
  gov: "NOVAK could save billions by preventing improper payments, fraud, and automation mistakes before they occur.",
  how: "NOVAK binds input, rule, and output into a cryptographic receipt. If anything changes â€” execution is blocked."
};

function showExplain(key, el) {
  const panel = document.getElementById("explainerOutput");
  panel.style.display = "block";
  panel.textContent = explainTexts[key];

  document.querySelectorAll(".explain-btn, .pill-btn")
    .forEach(btn => btn.classList.remove("active"));

  el.classList.add("active");
  panel.scrollIntoView({ behavior: "smooth" });
}

/* ============================
   LIVE HASH ENGINE
=============================*/
async function computeHash(algorithm, value) {
  const data = typeof value === "string"
    ? new TextEncoder().encode(value)
    : new Uint8Array(value);
  const digest = await crypto.subtle.digest(algorithm, data);
  return Array.from(new Uint8Array(digest))
    .map(b => b.toString(16).padStart(2, "0"))
    .join("");
}

async function updateHashes() {
  const input = document.getElementById("novakInput").value;
  const list = document.getElementById("hashOutputList");

  if (!input.trim()) {
    list.innerHTML = "<em>Waiting for input from above...</em>";
    document.getElementById("rgac").innerHTML = "<em>Provide input to begin...</em>";
    return;
  }

  const selected = [...document.querySelectorAll(".hashAlgo:checked")].map(a => a.value);
  if (!selected.length) {
    list.innerHTML = "<em>Select at least one hashing algorithm.</em>";
    return;
  }

  list.innerHTML = "";
  for (const algo of selected) {
    const hash = await computeHash(algo, input);

    list.innerHTML += `
      <div style="margin-bottom:18px;">
        <strong>${algo}:</strong><br>
        <span style="font-family:'JetBrains Mono', monospace; word-break:break-all;">
          ${hash}
        </span>
        <br>
        <button class="copy-btn"
          onclick="navigator.clipboard.writeText('${hash}')"
          style="margin-top:6px; padding:4px 10px; font-size:13px;">
          Copy
        </button>
      </div>`;
  }

  updateRGAC(input);
/* ===========================================
   AUTO PROOF-BEFORE-ACTION ENGINE (E)
===========================================*/
let lastApprovedHash = null;

function autoVerify(value) {
  const status = document.getElementById("autoVerifyStatus");

  if (!value.trim()) {
    status.innerHTML = "Waiting for input...";
    lastApprovedHash = null;
    return;
  }

  /* ===========================================
   AUTO-VERIFICATION TOGGLE CONTROL
===========================================*/
function isAutoVerifyEnabled() {
  const box = document.getElementById("autoVerifyToggle");
  return box && box.checked;
}

  computeHash("SHA-256", value).then(currentHash => {
    if (lastApprovedHash === null) {
      lastApprovedHash = currentHash;
      status.innerHTML = `ğŸŸ¦ First hash approved<br><strong>SHA-256:</strong> ${currentHash}`;
      return;
    }

    if (lastApprovedHash === currentHash) {
      status.innerHTML = `ğŸŸ© Verified â€” No changes detected<br><strong>SHA-256:</strong> ${currentHash}`;
    } else {
      status.innerHTML = `ğŸŸ¥ BLOCKED â€” Integrity changed BEFORE execution<br><strong>Old:</strong> ${lastApprovedHash}<br><strong>New:</strong> ${currentHash}`;
    }
  });
}

  
}

document.getElementById("novakInput").addEventListener("input", () => {
  updateHashes();

  if (isAutoVerifyEnabled()) {
    autoVerify(document.getElementById("novakInput").value);
  } else {
    document.getElementById("autoVerifyStatus").innerHTML =
      "<em>Auto-Verification disabled.</em>";
  }
});


/* ============================
   RGAC VISUALIZER
=============================*/
function updateRGAC(value) {
  const box = document.getElementById("rgac");
  if (!value.trim()) {
    box.innerHTML = "<em>Provide input to begin...</em>";
    return;
  }
  const labels = ["Data", "Rule", "Output", "Verifier", "Receipt"];
  box.innerHTML = labels.map((l, i) =>
    `<span style="padding:4px 10px;border:1px solid var(--border);
     border-radius:6px; margin-right:6px; display:inline-block;">
     ${l} #${i + 1}
     </span>`
  ).join("");
}

/* ============================
   FILE HASH VERIFICATION
=============================*/
const dropzone = document.getElementById("dropzone");
const fileInput = document.getElementById("fileInput");
const fileHashResult = document.getElementById("fileHashResult");

dropzone.addEventListener("click", () => fileInput.click());
dropzone.addEventListener("dragover", e => {
  e.preventDefault();
  dropzone.style.background = "rgba(26,79,179,0.07)";
});
dropzone.addEventListener("dragleave", () =>
  dropzone.style.background = "transparent"
);
dropzone.addEventListener("drop", e => {
  e.preventDefault();
  dropzone.style.background = "transparent";
  handleFileHash(e.dataTransfer.files[0]);
});
fileInput.addEventListener("change", e =>
  handleFileHash(e.target.files[0])
);

async function handleFileHash(file) {
  if (!file) return;
  const buf = await file.arrayBuffer();
  const hash = await computeHash("SHA-256", buf);
  fileHashResult.innerHTML =
    `âœ… <strong>${file.name}</strong><br>SHA-256: <code>${hash}</code>`;
}

/* ============================
   EXAMPLE DATASETS
=============================*/
const examples = {
  va: "Veteran: John Doe\nClaim #: 27-982271\nCondition: Lumbar Spine Degeneration\nRating Requested: 70%\nFiled: 2024-10-17",
  medical: "Patient: Sarah Collins\nDiagnosis: Acute Appendicitis\nMedication: IV Ceftriaxone\nPhysician: Dr. Patel",
  finance: "Wire Transfer: $82,750\nSender: Redwood Logistics\nRecipient: Meridian Aerospace\nRouting: 021000021",
  robot: "Robot Command: LIFT-PALLET\nWarehouse Zone: C7\nWeight Limit: 225 kg\nAuthorization: Level-3 Supervisor",
  ai: "AI Output â€” Content Filter\nUserID: 992882\nReason: Probable Misinformation\nConfidence: 0.82",
  legal: "Court Filing â€” Motion to Compel\nDocket #: 5:24-cv-1772\nFiled: March 4, 2025\nJurisdiction: 9th Circuit"
};
function loadExample(key) {
  document.getElementById("novakInput").value = examples[key] || "";
  updateHashes();
}

/* ============================
   VIN DECODER MODAL
=============================*/
function openVinModal() {
  document.getElementById("vinModal").style.display = "flex";
}
function closeVinModal() {
  document.getElementById("vinModal").style.display = "none";
}
function decodeCorvetteVIN(vin) {
  if (vin.length !== 17) return "âŒ VIN must be 17 characters.";
  const year = { N: 2022 }[vin[9]] || "Unknown";
  const plant = { "5": "Bowling Green, Kentucky" }[vin[10]] || "Unknown";
  const model = vin.startsWith("1G1Y") ? "Chevy Corvette Stingray" : "Unknown Model";
  return `Model: ${model}\nYear: ${year}\nAssembly Plant: ${plant}\nSequence: ${vin.slice(11)}`;
}
document.getElementById("vinInput")?.addEventListener("input", () => {
  vinResult.innerHTML = `<pre>${decodeCorvetteVIN(vinInput.value.trim())}</pre>`;
});

/* ============================
 âœ… MINI-GAMES â€” NOW FULLY WORKING
=============================*/
function toggleSound() {
  soundEnabled = !soundEnabled;
  document.querySelector(".sound-toggle").textContent =
    soundEnabled ? "ğŸ”Š" : "ğŸ”‡";
}

function startGame(type) {
  const box = document.getElementById("gameBox");
  box.style.display = "block";

  if (type === "tamper") return gameTamper();
  if (type === "memory") return gameMemory();
  if (type === "fraud") return gameFraud();
}

/* ğŸ•µï¸ Spot the Tampering */
function gameTamper() {
  const original = "Approved VA Claim â€” Rating 70% â€” 2025-03-14";
  const tampered = "Approved VA Claim â€” Rating 10% â€” 2025-03-14";

  document.getElementById("gameBox").innerHTML = `
    <h3>ğŸ•µï¸ Spot the Tampering</h3>
    <p>Two records â€” one was altered. Which one triggers NOVAK?</p>

    <pre>${original}</pre>
    <pre>${tampered}</pre>

    <div style="display:flex; gap:10px; margin-top:14px;">
      <button class="action-btn" onclick="checkTamper(true)">Top is Original âœ…</button>
      <button class="action-btn" onclick="checkTamper(false)">Bottom is Original âœ…</button>
    </div>

    <div id="tamperResult" style="margin-top:16px; font-weight:600;"></div>
  `;
}
function checkTamper(choice) {
  const result = document.getElementById("tamperResult");
  if (choice)
    result.textContent = "âœ… Correct â€” NOVAK detects rating manipulation instantly.";
  else
    result.textContent =
      "âŒ Incorrect â€” silent benefit reductions could occur without NOVAK.";
}

/* ğŸ§  Memory Match */
function gameMemory() {
  const words = ["NOVAK", "Integrity", "Receipt", "Hash", "Proof", "Audit"];
  const shuffled = [...words, ...words].sort(() => Math.random() - 0.5);

  document.getElementById("gameBox").innerHTML = `
    <h3>ğŸ§  Hash Memory Match</h3>
    <p>Match pairs â€” NOVAK ensures data consistency the same way.</p>

    <div id="memoryGrid"
         style="display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-top:16px;">
    </div>

    <div id="memoryStatus" style="margin-top:16px; font-weight:600;"></div>
  `;

  const grid = document.getElementById("memoryGrid");
  shuffled.forEach((word, idx) => {
    const btn = document.createElement("button");
    btn.textContent = "â“";
    btn.dataset.value = word;
    btn.dataset.index = idx;
    btn.className = "action-btn";
    btn.style.padding = "12px";
    btn.onclick = () => handleMemoryClick(btn);
    grid.appendChild(btn);
  });

  window.memoryFirst = null;
  window.memoryMatches = 0;
}
function handleMemoryClick(btn) {
  btn.textContent = btn.dataset.value;

  if (!memoryFirst) {
    memoryFirst = btn;
    return;
  }

  if (memoryFirst.dataset.value === btn.dataset.value &&
      memoryFirst !== btn) {
    memoryMatches++;
    memoryFirst.style.background = "#059669";
    btn.style.background = "#059669";
    memoryFirst.disabled = true;
    btn.disabled = true;

    if (memoryMatches === 6)
      document.getElementById("memoryStatus").textContent =
        "âœ… Perfect â€” NOVAK never forgets integrity!";
  } else {
    setTimeout(() => {
      memoryFirst.textContent = "â“";
      btn.textContent = "â“";
    }, 700);
  }
  memoryFirst = null;
}

/* ğŸš¨ Fraud Detector */
function gameFraud() {
  const clean = "Invoice #88427 â€” $4,620 â€” Approved â€” 2025-04-02";
  const fraud = "Invoice #88427 â€” $84,620 â€” Approved â€” 2025-04-02";

  document.getElementById("gameBox").innerHTML = `
    <h3>ğŸš¨ Fraud Detector</h3>
    <p>One transaction was manipulated â€” NOVAK would stop it instantly.</p>

    <pre>${clean}</pre>
    <pre>${fraud}</pre>

    <button class="action-btn" onclick="detectFraud()" style="margin-top:14px;">
      Run Integrity Check âœ…
    </button>

    <div id="fraudResult" style="margin-top:16px; font-weight:600;"></div>
  `;
}
function detectFraud() {
  document.getElementById("fraudResult").textContent =
    "âœ… Fraud detected â€” amount alteration breaks cryptographic binding.";
}

/* ============================
   STRUCTURED DATA VALIDATION
=============================*/
document.getElementById("structuredFile")?.addEventListener("change", async e => {
  const f = e.target.files[0];
  if (!f) return;
  const txt = await f.text();
  const sha = await computeHash("SHA-256", txt);

  structuredResult.innerHTML =
    `âœ… File loaded â€” integrity proven\n\nSHA-256: ${sha}`;
});

/* ============================
   TRANSPARENCY MODE
=============================*/
function toggleTransparency() {
  const p = document.getElementById("transparencyView");
  p.style.display = p.style.display === "none" ? "block" : "none";

  p.innerHTML =
    `DATA âœ RULE âœ OUTPUT\n\nMathematically bound, cryptographically verified.`;
}

/* ============================
   EXECUTION RECEIPT
=============================*/
async function generateReceipt() {
  const text = document.getElementById("novakInput").value.trim();
  if (!text) return alert("Enter something first!");

  const sha = await computeHash("SHA-256", text);
  const timestamp = new Date().toISOString();

  receiptOutput.textContent =
`NOVAK Execution Integrity Receipt
----------------------------------
Timestamp: ${timestamp}
SHA-256: ${sha}

This proves what existed, when, and under what rules.`;
}

/* ============================
   WALKTHROUGH MODE
=============================*/
const slides = [
  "Welcome â€” NOVAK fixes the worldâ€™s most dangerous hidden problem: automation without proof.",
  "Today, systems approve loans, surgeries, benefits, procurement, sentencing â€” without guaranteed correctness.",
  "NOVAK requires mathematical execution integrity â€” BEFORE automated action.",
  "Hashes alone don't prevent harm. NOVAK binds data, rules & outputs into a cryptographic execution receipt.",
  "If anything changes â€” fraud, glitch, bias, breach â€” NOVAK blocks execution.",
  "Government, healthcare, banking, defense & AI become provably safe and accountable.",
  "Now try entering text above â€” NOVAK proves it instantly.",
  "NOVAK doesn't replace systems â€” it protects them.",
  "Proof-before-action becomes the new global safety standard."
];
function startStoryMode() {
  storyPanel.style.display = "block";
  storyIndex = 0;
  storyPanel.textContent = slides[0];
  clearInterval(storyInterval);

  storyInterval = setInterval(() => {
    storyIndex++;
    if (storyIndex >= slides.length) return clearInterval(storyInterval);
    storyPanel.textContent = slides[storyIndex];
    storyPanel.scrollIntoView({ behavior: "smooth" });
  }, 4500);
}

/* ============================
   EXECUTIVE BRIEF EXPORT
=============================*/
function exportBriefing() {
  const text =
`NOVAK Protocol â€” Executive Briefing

Mission:
Prevent catastrophic automated decisions by requiring mathematical proof-before-action.

Why Existing Security Fails:
â€¢ TLS secures transmission â€” not correctness
â€¢ Blockchain records events â€” it cannot stop harm
â€¢ Bitcoin proves ownership â€” not legality or truth
â€¢ Logging happens after â€” when damage is irreversible

What NOVAK Solves:
â€¢ Proves input, rule & output correctness before execution
â€¢ Prevents fraud, bias, miscalculation & silent corruption
â€¢ Generates tamper-proof execution receipts
â€¢ Works offline, locally â€” no blockchain needed

Where NOVAK Applies:
VA, DoD, CMS, SSA, DOJ, DHS, IRS, Treasury
Hospitals, insurers, banks, aviation, robotics, AI

Status:
Patent Pending â€” Matthew Novak
www.NOVAKProtocol.com`;

  const blob = new Blob([text], { type: "text/plain"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "NOVAK_Executive_Report.txt";
  a.click();
  URL.revokeObjectURL(url);
}

  /* ============ GLORY TO GOD & SONG TOGGLE ============ */
  function toggleGlorySection() {
    const box = document.getElementById("glorySection");
    const show = box.style.display === "none" || !box.style.display;
    box.style.display = show ? "block" : "none";
    if (show) {
      const rect = box.getBoundingClientRect();
      const top = window.scrollY + rect.top - 90;
      window.scrollTo({ top, behavior: "smooth" });
    }
  }

  function toggleSongLyrics() {
    const block = document.getElementById("songBlock");
    const show = block.style.display === "none" || !block.style.display;
    block.style.display = show ? "block" : "none";
  }

/* ============================
   INIT ON LOAD âœ… IMPORTANT
=============================*/
document.addEventListener("DOMContentLoaded", () => {
  setAudience("public");
  restoreWhyNovakOnLoad();
  restoreWhatIsNovakOnLoad();   // âœ… Now included
  restoreWhatChangesOnLoad();
  updateHashes();
});

/* ============================================================
   WOW MODE â€“ AUTO-DETECT MANIPULATION
   ============================================================ */
let wowMode = true;   // toggle if needed
let lastHash = "";
let lastUpdate = 0;

// attach into your existing hash update pipeline
async function detectTamper(value) {
  if (!wowMode) return;

  const now = performance.now();
  const sha = await computeHash("SHA-256", value);

  // first hash
  if (!lastHash) {
    lastHash = sha;
    lastUpdate = now;
    return;
  }

  // if hash changes faster than a human could type â†’ automation or corruption
  const diff = now - lastUpdate;
  if (sha !== lastHash && diff < 45) {
    showTamperAlert();
  }

  lastHash = sha;
  lastUpdate = now;
}

function showTamperAlert() {
  const box = document.createElement("div");
  box.style.position = "fixed";
  box.style.bottom = "30px";
  box.style.right = "30px";
  box.style.padding = "16px 22px";
  box.style.borderRadius = "10px";
  box.style.background = "#b91c1c";
  box.style.color = "white";
  box.style.fontWeight = "600";
  box.style.boxShadow = "0 4px 12px rgba(0,0,0,.35)";
  box.style.zIndex = "99999";
  box.textContent = "ğŸŸ¥ Suspicious automated modification detected â€” NOVAK blocked execution";

  document.body.appendChild(box);
  setTimeout(() => box.remove(), 4200);
}

/* hook into your existing updateHashes() */
const _updateHashes = updateHashes;
updateHashes = async function() {
  await _updateHashes();
  const txt = document.getElementById("novakInput").value;
  detectTamper(txt);
};

/* ============================================================
   FIX: STICKY HEADER SCROLL (Explain Buttons)
   ============================================================ */
const originalShowExplain = showExplain;
showExplain = function(key, el) {
  originalShowExplain(key, el);
  const panel = document.getElementById("explainerOutput");

  // ensures correct scroll spacing
  const offset = panel.getBoundingClientRect().top + window.scrollY - 120;
  window.scrollTo({ top: offset, behavior: "smooth" });
};

/* ============================================================
   DARK MODE â€“ FIX ALL BUTTONS
   ============================================================ */
const css = `
html[data-theme="dark"] .pill-btn,
html[data-theme="dark"] .explain-btn,
html[data-theme="dark"] .action-btn {
  background: #0f172a !important;
  color: #ffffff !important;
  border-color: #ffffff !important;
}

html[data-theme="dark"] .pill-btn:hover,
html[data-theme="dark"] .explain-btn:hover {
  background: #1e293b !important;
}
`;
const style = document.createElement("style");
style.innerHTML = css;
document.head.appendChild(style);

/* ============================================================
   FIX: GUIDED DEMO â€“ SLIDES STOPPING
   ============================================================ */
const _startStoryMode = startStoryMode;
startStoryMode = function() {
  clearInterval(storyInterval);
  _startStoryMode();    // now increments properly
};

  
</script>


</body>
</html>

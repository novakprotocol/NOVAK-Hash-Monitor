<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>NOVAK Integrity Verification Demo</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet" />

  <style>
    /* RESET + BASE -------------------------------------------------------- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    html, body {
      scroll-behavior: smooth;
    }

    :root {
      --blue: #1a4fb3;
      --blue-hover: #0f357f;
      --green: #16a34a;
      --red: #dc2626;
      --accent: var(--blue);

      --bg-light: #f8fafc;
      --bg-dark: #020617;

      --text-light: #020617;
      --text-dark: #e5e7eb;

      --card-light: #ffffff;
      --card-dark: #0b1220;

      --border-light: #d4d8e1;
      --border-dark: #1f2937;
    }

    html[data-theme="light"] {
      --bg: var(--bg-light);
      --text: var(--text-light);
      --card: var(--card-light);
      --border: var(--border-light);
    }

    html[data-theme="dark"] {
      --bg: var(--bg-dark);
      --text: var(--text-dark);
      --card: var(--card-dark);
      --border: var(--border-dark);
    }

    body {
      background: var(--bg);
      color: var(--text);
      padding: 24px;
    }

    .container {
      max-width: 1120px;
      margin: 0 auto 60px auto;
    }

    /* HEADER ------------------------------------------------------------- */

    .header {
      display: grid;
      grid-template-columns: auto 1fr auto;
      align-items: center;
      column-gap: 16px;
      row-gap: 8px;
      margin-bottom: 12px;
    }

    .logo {
      font-size: 34px;
      font-weight: 800;
      letter-spacing: 0.03em;
      color: var(--blue);
    }

    .home-link {
      justify-self: center;
      font-size: 15px;
      font-weight: 600;
      color: var(--blue);
      text-decoration: none;
      border-bottom: 2px solid transparent;
      padding-bottom: 2px;
      transition: border-color 0.2s ease, color 0.2s ease;
    }

    .home-link:hover {
      border-color: var(--blue);
      color: var(--blue-hover);
    }

    .theme-toggle {
      justify-self: end;
      cursor: pointer;
      font-size: 14px;
      border-radius: 999px;
      border: 1px solid var(--blue);
      padding: 7px 18px;
      background: transparent;
      color: var(--blue);
      transition: background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
    }

    .theme-toggle:hover {
      background: var(--blue);
      color: #ffffff;
      border-color: var(--blue-hover);
    }

    /* AUDIENCE NAV -------------------------------------------------------- */

    .nav {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 16px 0 14px 0;
    }

    .nav button {
      border-radius: 999px;
      border: 1px solid var(--blue);
      padding: 7px 16px;
      font-size: 14px;
      background: transparent;
      color: var(--blue);
      cursor: pointer;
      transition: background 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
    }

    .nav button:hover {
      background: rgba(26, 79, 179, 0.08);
      box-shadow: 0 0 0 1px rgba(26, 79, 179, 0.3);
    }

    .nav button.active {
      background: var(--blue);
      color: #ffffff;
      box-shadow: 0 0 0 1px rgba(15, 53, 127, 0.7);
    }

    /* CARD + TYPOGRAPHY --------------------------------------------------- */

    .card {
      background: var(--card);
      border-radius: 14px;
      border: 1px solid var(--border);
      padding: 22px 22px 20px 22px;
      margin-top: 20px;
      box-shadow: 0 8px 22px rgba(15, 23, 42, 0.08);
    }

    h2 {
      font-size: 22px;
      margin-bottom: 8px;
    }

    h3 {
      font-size: 18px;
      margin-bottom: 6px;
    }

    .description {
      margin-top: 6px;
      margin-bottom: 10px;
      font-size: 15px;
      line-height: 1.55;
    }

    .tight {
      margin-top: 10px;
      font-size: 14px;
      line-height: 1.5;
    }

    .analogy {
      margin-top: 10px;
      font-size: 14px;
      line-height: 1.5;
      opacity: 0.9;
    }

    .micro {
      font-size: 13px;
      opacity: 0.8;
    }

    /* WHY NOVAK DISMISS --------------------------------------------------- */

    #whyNovakCard {
      position: relative;
    }

    .dismiss-btn {
      margin-top: 14px;
      padding: 7px 14px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 13px;
      background: var(--blue);
      color: #ffffff;
      transition: background 0.2s ease;
    }

    .dismiss-btn:hover {
      background: var(--blue-hover);
    }

    .close-x {
      position: absolute;
      top: 10px;
      right: 12px;
      border: none;
      background: none;
      color: inherit;
      cursor: pointer;
      font-size: 20px;
      opacity: 0.6;
      transition: opacity 0.15s ease, transform 0.15s ease;
    }

    .close-x:hover {
      opacity: 1;
      transform: scale(1.05);
    }

    /* CTA / ACTION BUTTONS ------------------------------------------------ */

    .action-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border-radius: 999px;
      border: none;
      padding: 8px 16px;
      font-size: 14px;
      cursor: pointer;
      background: var(--blue);
      color: #ffffff;
      transition: background 0.2s ease, transform 0.1s ease, box-shadow 0.1s ease;
      white-space: nowrap;
    }

    .action-btn:hover {
      background: var(--blue-hover);
      box-shadow: 0 5px 12px rgba(15, 23, 42, 0.3);
      transform: translateY(-1px);
    }

    .action-btn:active {
      transform: translateY(0);
      box-shadow: none;
    }

    /* EXPLAINER BUTTON ROW ------------------------------------------------ */

    .explain-btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 16px 0 4px 0;
    }

    .explain-btn-row .action-btn {
      background: var(--blue);
      font-size: 14px;
    }

    /* COLLAPSIBLE EXPLAINERS --------------------------------------------- */

    .explainer {
      display: none;          /* toggled via JS */
      margin-top: 10px;
      animation: fadeIn 0.25s ease;
    }

    .explainer p,
    .explainer ul {
      font-size: 14px;
      line-height: 1.6;
    }

    .explainer ul {
      margin-top: 6px;
      padding-left: 20px;
    }

    /* BASIC LAYOUT PIECES FOR LATER SECTIONS ----------------------------- */

    .example-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 12px;
      margin-top: 12px;
    }

    .example {
      border-radius: 10px;
      border: 1px solid var(--border);
      padding: 12px 14px;
      font-size: 14px;
      cursor: pointer;
      background: var(--card);
      transition: background 0.2s ease, border-color 0.2s ease, transform 0.1s ease;
    }

    .example:hover {
      border-color: var(--blue);
      background: rgba(26, 79, 179, 0.06);
      transform: translateY(-1px);
    }

    /* ANIMATION ----------------------------------------------------------- */

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(4px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* RESPONSIVE ---------------------------------------------------------- */

    @media (max-width: 720px) {
      body {
        padding: 16px;
      }

      .header {
        grid-template-columns: 1fr;
        justify-items: flex-start;
        row-gap: 6px;
      }

      .home-link {
        justify-self: flex-start;
      }

      .theme-toggle {
        justify-self: flex-start;
      }

      .logo {
        font-size: 28px;
      }
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- HEADER -------------------------------------------------------- -->
    <header class="header">
      <div class="logo">NOVAK Protocol</div>

      <a href="http://www.novakprotocol.com" target="_blank" class="home-link">
        novakprotocol.com
      </a>

      <button class="theme-toggle" id="themeToggle">Light/Dark</button>
    </header>

    <!-- AUDIENCE NAVIGATION ------------------------------------------- -->
    <nav class="nav">
      <button id="btn-public" class="active" onclick="setAudience('public')">Public</button>
      <button id="btn-government" onclick="setAudience('government')">Government</button>
      <button id="btn-investor" onclick="setAudience('investor')">Investor</button>
      <button id="btn-cyber" onclick="setAudience('cyber')">Cybersecurity</button>
      <button id="btn-academic" onclick="setAudience('academic')">Academic</button>
    </nav>

    <!-- WHY NOVAK ‚Äî WHY NOW ------------------------------------------- -->
    <section id="whyNovakCard" class="card">
      <h2>Why NOVAK ‚Äî Why Now?</h2>

      <p>
        Automated systems approve loans, deny medical claims, move money,
        assign veterans‚Äô benefits, drive vehicles, and operate robots ‚Äî
        often without proof, transparency, or accountability.
      </p>

      <p style="margin-top:10px;">
        NOVAK requires every automated action to generate mathematical
        proof of legality <strong>before execution</strong>.
      </p>

      <p style="margin-top:10px;">
        If the data changes, a rule is altered, or tampering occurs,
        NOVAK detects it instantly ‚Äî and blocks the action safely.
      </p>

      <p class="tight">
        ‚úÖ Every input generates a unique fingerprint<br />
        ‚úÖ Change anything ‚Äî the fingerprint changes instantly
      </p>

      <p class="analogy">
        SHA-256 is the steel the NSA engineered ‚Äî NOVAK is the vault
        protecting what automation must never silently change.
      </p>

      <button class="dismiss-btn" onclick="dismissWhyNovak()">‚úÖ Don‚Äôt show this again</button>
      <button class="close-x" onclick="dismissWhyNovak()" aria-label="Close Why NOVAK section">‚úï</button>
    </section>

    <!-- TOPLINE DESCRIPTION (AUDIENCE-AWARE) -------------------------- -->
    <p id="description" class="description">
      NOVAK proves data integrity instantly ‚Äî no tech degree required.
    </p>

    <!-- EXPLAINER BUTTON ROW ------------------------------------------ -->
    <div class="explain-btn-row">
      <button class="action-btn" onclick="toggleExplainer('exp-simple')">
        ü§î I don‚Äôt get it
      </button>

      <button class="action-btn" onclick="toggleExplainer('exp-milkshake')">
        ü•§ Milkshake Analogy
      </button>

      <button class="action-btn" onclick="toggleExplainer('exp-pencils')">
        üñçÔ∏è Colored Pencil Analogy
      </button>

      <button class="action-btn" onclick="toggleExplainer('exp-key')">
        üîë Key Analogy
      </button>

      <button class="action-btn" onclick="toggleExplainer('exp-gov')">
        üèõÔ∏è Government Savings
      </button>

      <button class="action-btn" onclick="toggleExplainer('exp-now')">
        ‚ùì Don‚Äôt we already do this?
      </button>

      <button class="action-btn" onclick="toggleExplainer('exp-how')">
        üëÄ Show Me How This Works
      </button>
    </div>

    <!-- COLLAPSIBLE EXPLAINERS (CONTENT FILLED BY JS) ----------------- -->
    <section id="exp-simple" class="card explainer"></section>
    <section id="exp-milkshake" class="card explainer"></section>
    <section id="exp-pencils" class="card explainer"></section>
    <section id="exp-key" class="card explainer"></section>
    <section id="exp-gov" class="card explainer"></section>
    <section id="exp-now" class="card explainer"></section>
    <section id="exp-how" class="card explainer"></section>

    <!-- Part 2 continues from here‚Ä¶ -->

        <!-- EXAMPLE DATASETS ---------------------------------------------- -->
    <section class="card">
      <h3>Select an example dataset:</h3>
      <div class="example-grid">
        <div class="example" onclick="loadExample('va')">VA Disability Claim Summary</div>
        <div class="example" onclick="loadExample('medical')">Clinical Note (Healthcare)</div>
        <div class="example" onclick="loadExample('finance')">Financial Transaction Record</div>
        <div class="example" onclick="loadExample('ai')">AI Decision Output Log</div>
        <div class="example" onclick="loadExample('robot')">Autonomous Robotics Command</div>
        <div class="example" onclick="loadExample('legal')">Legal / Policy Directive</div>
      </div>
    </section>

    <!-- TEXT INPUT + DROPZONE ----------------------------------------- -->
    <section class="card">
      <textarea id="input" placeholder="Type, paste, or modify data here..."></textarea>

      <div id="dropzone" class="dropzone">
        ‚¨áÔ∏è Drag & drop a file here to verify integrity
      </div>

      <button class="action-btn" onclick="tamperTest()">üö® Run Tamper Test</button>

      <button class="action-btn" id="compareBtn" onclick="toggleCompareMode()">
        Start Before/After Capture
      </button>
    </section>

    <!-- HASH OUTPUT ---------------------------------------------------- -->
    <section class="card">
      <h3 id="hashHeader">Integrity Fingerprints</h3>
      <p class="micro">All supported hashes shown ‚Äî select one as primary.</p>

      <div id="hashes" class="hash-list"></div>

      <p class="micro" style="margin-top:8px;">
        Primary Hash for certificate:
        <strong id="primaryLabel">SHA-256</strong>
      </p>

      <!-- RGAC Visual Window -->
      <h4 style="margin-top:18px;">RGAC Chain (Conceptual Demo)</h4>
      <div id="rgac" class="rgac"></div>

      <button class="action-btn" onclick="exportCertificate()">
        üìÑ Export Integrity Certificate (PDF)
      </button>
    </section>

    <!-- Executive Summary PDF ----------------------------------------- -->
    <button class="action-btn" onclick="printOnePager()">
      üìå Generate Executive Preview (PDF)
    </button>

    <!-- BEFORE / AFTER COMPARISON ------------------------------------- -->
    <section class="card">
      <h3>Before / After Comparison</h3>
      <p class="micro">Capture, modify, then compare fingerprints</p>
      <div id="comparison" class="compare-box" style="display:none;"></div>
    </section>

    <!-- MINI-GAMES LAUNCHER -------------------------------------------- -->
    <section class="card" id="gamesCard">
      <h3>Interactive NOVAK Mini-Games</h3>
      <p class="micro">Learn NOVAK through real-world integrity scenarios</p>

      <div class="game-btn-row">
        <button class="action-btn" onclick="startTamperGame()">üïµÔ∏è Spot the Tamper</button>
        <button class="action-btn" onclick="startHashMatch()">üß© Hash Match Memory</button>
        <button class="action-btn" onclick="startKeyGame()">üîê Find the Valid Key</button>
        <button class="action-btn" onclick="startFraudDetective()">üö® Fraud Detective</button>
      </div>
    </section>

    <!-- MINI-GAME INTERACTIVE AREA ------------------------------------- -->
    <section id="gameBox" class="card" style="display:none;"></section>

    <!-- TIMELINE -------------------------------------------------------- -->
    <section class="card">
      <h3 id="timelineHeader">Proof History</h3>
      <div id="proofHistory" class="history-box"></div>
    </section>

    <!-- NOVAK VS BLOCKCHAIN -------------------------------------------- -->
    <section class="card">
      <h3>NOVAK vs Blockchain, Bitcoin & SSL/TLS</h3>

      <h4 style="margin-top:14px;">NOVAK vs Blockchain</h4>
      <ul>
        <li><strong>Blockchain:</strong> Records events after execution.</li>
        <li><strong>NOVAK:</strong> Requires proof before execution.</li>
        <li><strong>Blockchain:</strong> Needs decentralized consensus.</li>
        <li><strong>NOVAK:</strong> Works anywhere ‚Äî no miners, ledger, or tokens.</li>
      </ul>

      <h4 style="margin-top:14px;">NOVAK vs Bitcoin / Cryptocurrency</h4>
      <ul>
        <li><strong>Crypto:</strong> Token transaction layer.</li>
        <li><strong>NOVAK:</strong> Decision integrity layer.</li>
      </ul>

      <h4 style="margin-top:14px;">NOVAK vs SSL/TLS</h4>
      <ul>
        <li><strong>SSL/TLS:</strong> Protects data in transit.</li>
        <li><strong>NOVAK:</strong> Ensures the action itself is lawful before it happens.</li>
      </ul>

      <h4 style="margin-top:14px;">What NOVAK Actually Is</h4>
      <ul>
        <li>A cryptographic execution checkpoint</li>
        <li>A tamper-evident legality engine</li>
        <li>Lightweight ‚Äî infrastructure independent</li>
        <li>Universal ‚Äî works in any industry</li>
      </ul>
    </section>

 <script>
/* ========= GLOBAL DOM HOOKS ========= */
const input = document.getElementById("input");
const hashesDiv = document.getElementById("hashes");
const primaryLabel = document.getElementById("primaryLabel");
const rgacDiv = document.getElementById("rgac");
const comparisonBox = document.getElementById("comparison");
const compareBtn = document.getElementById("compareBtn");
const proofHistory = document.getElementById("proofHistory");
const gameBox = document.getElementById("gameBox");
const themeToggle = document.getElementById("themeToggle");

/* ========= STATE ========= */
let lastHashes = {};
let primaryHash = "SHA-256";
let beforeSnapshot = null;
let rgacBlocks = [];
let soundEnabled = false;

/* ========= HASH ALGORITHMS ========= */
const algorithms = [
  "SHA-1",
  "SHA-224",
  "SHA-256",
  "SHA-384",
  "SHA-512",
  "SHA3-256"
];

/* ========= THEME PERSISTENCE ========= */
function toggleTheme() {
  const html = document.documentElement;
  html.dataset.theme =
    html.dataset.theme === "dark" ? "light" : "dark";
  localStorage.setItem("theme", html.dataset.theme);
}
themeToggle.addEventListener("click", toggleTheme);

(function initTheme() {
  const saved = localStorage.getItem("theme");
  if (saved) document.documentElement.dataset.theme = saved;
})();

/* ========= AUDIENCE TEXT ========= */
const audienceText = {
  public: {
    desc: "NOVAK proves data integrity instantly ‚Äî no tech degree required.",
    hash: "Integrity Fingerprints",
    timeline: "Proof History"
  },
  government: {
    desc: "NOVAK enforces proof-before-payment, stopping improper decisions.",
    hash: "Regulatory Integrity Fingerprints",
    timeline: "Audit & Compliance Trail"
  },
  investor: {
    desc: "Tampering becomes mathematically impossible to hide ‚Äî reducing risk.",
    hash: "Business Integrity Outputs",
    timeline: "Accountability Timeline"
  },
  cyber: {
    desc: "Ideal for SOC, DFIR, supply chain integrity & zero-trust enforcement.",
    hash: "Cryptographic Hash Outputs",
    timeline: "Security Event Timeline"
  },
  academic: {
    desc: "Deterministic, collision-resistant hash demonstrations for research.",
    hash: "Cryptographic Fingerprints",
    timeline: "Research Log"
  }
};

function setAudience(a) {
  document.getElementById("description").innerText = audienceText[a].desc;
  document.getElementById("hashHeader").innerText = audienceText[a].hash;
  document.getElementById("timelineHeader").innerText = audienceText[a].timeline;

  document.querySelectorAll(".nav button").forEach(btn =>
    btn.classList.remove("active")
  );
  document.getElementById(`btn-${a}`).classList.add("active");
}

/* ========= WHY NOVAK MEMORY ========= */
function dismissWhyNovak() {
  document.getElementById("whyNovakCard").style.display = "none";
  localStorage.setItem("hideWhyNovak", "1");
}
if (localStorage.getItem("hideWhyNovak") === "1") {
  const card = document.getElementById("whyNovakCard");
  if (card) card.style.display = "none";
}

/* ========= HASH GENERATOR ========= */
async function compute() {
  const encoder = new TextEncoder();
  const data = encoder.encode(input.value);

  lastHashes = {};
  let html = "";

  for (const algo of algorithms) {
    try {
      const digest = await crypto.subtle.digest(algo, data);
      const hex = [...new Uint8Array(digest)]
        .map(x => x.toString(16).padStart(2, "0"))
        .join("");

      lastHashes[algo] = hex;

      html += `
      <div class="hash-row">
        <span class="hash-label">${algo}</span>
        <span class="hash-value">${hex}</span>
        <label style="font-size:11px;">
          <input type="radio" name="primary" value="${algo}"
          ${algo === primaryHash ? "checked" : ""}
          onclick="setPrimary('${algo}')"> primary
        </label>
      </div>`;
    } catch (err) {
      html += `<p>‚ö†Ô∏è Browser does not support ${algo}</p>`;
    }
  }

  hashesDiv.innerHTML = html;
  primaryLabel.innerText = primaryHash;

  updateRGAC(lastHashes[primaryHash]);
  pushTimeline("Hashes updated");
}
input.addEventListener("input", compute);

/* ========= PRIMARY HASH SETTER ========= */
function setPrimary(algo) {
  primaryHash = algo;
  primaryLabel.innerText = algo;
  pushTimeline(`Primary hash changed to ${algo}`);
}

/* ========= RGAC DEMO CHAIN ========= */
function updateRGAC(hash) {
  if (!hash) return;
  rgacBlocks.push(hash.slice(0, 12));
  if (rgacBlocks.length > 7) rgacBlocks.shift();

  rgacDiv.innerHTML = rgacBlocks
    .map(h => `<div class="block">${h}</div>`)
    .join("");
}

/* ========= BEFORE/AFTER COMPARISON ========= */
function toggleCompareMode() {
  if (!beforeSnapshot) {
    beforeSnapshot = {
      input: input.value,
      hashes: { ...lastHashes },
      time: new Date().toLocaleTimeString()
    };
    compareBtn.innerText = "Finish Comparison";
    pushTimeline("Before snapshot captured");
  } else {
    const after = {
      input: input.value,
      hashes: { ...lastHashes },
      time: new Date().toLocaleTimeString()
    };

    let html = `<strong>BEFORE:</strong> ${beforeSnapshot.time}<br>
                <strong>AFTER:</strong> ${after.time}<hr><br>`;

    for (const algo of algorithms) {
      const changed = beforeSnapshot.hashes[algo] !== after.hashes[algo];
      html += `
      <div class="compare-row">
        <span>${algo}</span>
        <span>${beforeSnapshot.hashes[algo]}</span>
        <span style="color:${changed ? "#c42121" : "#159b4c"}">
          ${after.hashes[algo]}
        </span>
      </div>`;
    }

    comparisonBox.innerHTML = html;
    comparisonBox.style.display = "block";
    compareBtn.innerText = "Start Comparison";
    beforeSnapshot = null;

    pushTimeline("Before/after comparison completed");
  }
}

/* ========= TIMELINE ========= */
function pushTimeline(text) {
  const t = new Date().toLocaleTimeString();
  proofHistory.innerHTML =
    `<div>[${t}] ${text}</div>` + proofHistory.innerHTML;
}

/* ========= DRAG & DROP FILE HASHING ========= */
const dropzone = document.getElementById("dropzone");

dropzone.addEventListener("dragover", e => {
  e.preventDefault();
  dropzone.style.background = "rgba(26,79,179,0.08)";
});

dropzone.addEventListener("dragleave", () => {
  dropzone.style.background = "transparent";
});

dropzone.addEventListener("drop", async e => {
  e.preventDefault();
  dropzone.style.background = "transparent";

  const file = e.dataTransfer.files[0];
  const buffer = await file.arrayBuffer();
  const digest = await crypto.subtle.digest(primaryHash, buffer);
  const hex = [...new Uint8Array(digest)]
    .map(x => x.toString(16).padStart(2, "0"))
    .join("");

  input.value = `FILE: ${file.name}\nSIZE: ${file.size} bytes\nHASH:\n${hex}`;
  compute();
  pushTimeline(`File hashed: ${file.name}`);
});

/* ========= MINI-GAMES ========= */
function startTamperGame() {
  gameBox.style.display = "block";
  gameBox.innerHTML = `
    <h3>Spot the Tampered Record üïµÔ∏è</h3>
    <p>One dataset was altered‚Äîidentify which.</p>
    <button class="action-btn" onclick="wrong()">Record A</button>
    <button class="action-btn" onclick="correct()">Record B</button>`;
  gameBox.scrollIntoView({ behavior: "smooth", block: "center" });
}

function startHashMatch() {
  gameBox.style.display = "block";
  gameBox.innerHTML = `
    <h3>Hash Match Memory üß©</h3>
    <p>Soon ‚Äî flip & match integrity fingerprints.</p>`;
}

function startKeyGame() {
  gameBox.style.display = "block";
  gameBox.innerHTML = `
    <h3>Correct Key Test üîê</h3>
    <p>Only one dataset unlocks the expected hash.</p>`;
}

function startFraudDetective() {
  gameBox.style.display = "block";
  gameBox.innerHTML = `
    <h3>Fraud Detective üö®</h3>
    <p>Spot the altered benefit request.</p>`;
}
function wrong() { alert("‚ùå Incorrect ‚Äî try again."); }
function correct() { alert("‚úÖ Correct ‚Äî NOVAK would flag this instantly."); }

/* ========= "Glory to God" COLLAPSIBLE ========= */
function toggleGlory() {
  const box = document.getElementById("glorySection");
  box.style.display = box.style.display === "block" ? "none" : "block";
  box.scrollIntoView({ behavior: "smooth", block: "center" });
}

/* ========= EXAMPLE DATASETS ========= */
const examples = {
  va: `Veteran: John Sample
Rating: 40%
Condition: Lumbar Disc Disease
Requested Increase: 10% ‚Üí 40%`,
  medical: `Patient: 54M
Diagnosis: Atrial fibrillation
Medication: Metoprolol 25mg BID`,
  finance: `Transaction ID: 99837-A
Amount: $248,932.17
Purpose: Federal subcontract payment`
};
function loadExample(x) {
  input.value = examples[x];
  compute();
}

/* ========= EXPLAINER PANEL LOGIC ========= */
function toggleExplainer(id) {
  document.querySelectorAll(".explainer")
    .forEach(e => {
      if (e.id !== id) e.style.display = "none";
    });

  const box = document.getElementById(id);
  box.style.display = box.style.display === "block" ? "none" : "block";

  if (box.style.display === "block") {
    box.scrollIntoView({ behavior: "smooth", block: "center" });
  }
}

/* ========= INIT ========= */
setAudience("public");
compute();
</script>

</body>
</html>
   

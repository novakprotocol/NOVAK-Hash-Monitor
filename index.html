<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>NOVAK Continuous Hash Loop</title>
<style>
    body {
        background-color: #000;
        color: #00ff5a;
        font-family: "Courier New", monospace;
        padding: 40px;
    }
    h1 {
        color: #00ff5a;
        font-size: 32px;
        margin-bottom: 8px;
    }
    .subtitle {
        color: #5cff96;
        font-size: 16px;
        margin-bottom: 24px;
    }
    .console {
        border: 1px solid #00ff5a;
        padding: 20px;
        white-space: pre-wrap;
        font-size: 16px;
        background: #000;
    }
    .footer {
        margin-top: 24px;
        font-size: 14px;
        color: #5cff96;
    }
    a {
        color: #00ff5a;
    }
</style>
</head>
<body>

<h1>NOVAK Continuous Hash Loop</h1>
<div class="subtitle">
Real-time deterministic enforcement — input ➜ output ➜ receipt ➜ audit chain.<br>
This mirrors NIPS + HARMONEE + REVELATION + RGAC.
</div>

<div id="console" class="console">Initializing NOVAK loop…</div>

<div class="footer">
(1) NIPS = verified input<br>
(2) HARMONEE = execution receipt<br>
(3) REVELATION = chained audit hash<br>
(4) NOVAK = deterministic governance layer<br><br>
This page performs all hashing locally via WebCrypto — no data sent, stored, or uploaded.
</div>

<script>
async function sha256(str) {
    const encoder = new TextEncoder();
    const data = encoder.encode(str);
    const hash = await crypto.subtle.digest("SHA-256", data);
    return [...new Uint8Array(hash)]
        .map(b => b.toString(16).padStart(2, "0"))
        .join("");
}

let previous = "GENESIS";

async function runLoop() {
    const timestamp = new Date().toISOString();

    // ✅ NIPS — verified input
    const input = "NOVAK Integrity Engine";

    // ✅ HARMONEE — execution receipt
    const harmonee = await sha256(input + timestamp);

    // ✅ REVELATION — audit chain
    const revelation = await sha256(previous + harmonee);

    const output =
`NOVAK HASH LOOP
------------------------------
Timestamp:   ${timestamp}
HARMONEE:    ${harmonee}
REVELATION:  ${revelation}
Previous:    ${previous}

Deterministic enforcement active.`;

    document.getElementById("console").textContent = output;

    // update chain
    previous = revelation;
}

setInterval(runLoop, 1000);
runLoop();
</script>

</body>
</html>

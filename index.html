<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NOVAK Protocol ‚Äî Integrity Verification Demo</title>

  <!-- Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono&display=swap"
    rel="stylesheet"
  />

  <style>
    /* RESET + BASE */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Inter", sans-serif;
    }

    html,
    body {
      scroll-behavior: smooth;
    }

    body {
      background: var(--bg);
      color: var(--text);
      padding: 22px;
    }

    .container {
      max-width: 1150px;
      margin: auto;
    }

    /* COLOR SYSTEM */
    :root {
      --blue: #1e4dd8;
      --blue-hover: #1538a3;
      --green: #13a048;
      --red: #d32626;
      --yellow: #e6b800;

      --bg-light: #f8fafc;
      --bg-dark: #0b1325;

      --text-light: #0b1326;
      --text-dark: #e8eef7;

      --card-light: #ffffff;
      --card-dark: #1b2436;

      --border-light: #d9dce3;
      --border-dark: #2d3a52;
    }

    html[data-theme="light"] {
      --bg: var(--bg-light);
      --text: var(--text-light);
      --card: var(--card-light);
      --border: var(--border-light);
    }

    html[data-theme="dark"] {
      --bg: var(--bg-dark);
      --text: var(--text-dark);
      --card: var(--card-dark);
      --border: var(--border-dark);
    }

    /* HEADER */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 16px;
      margin-bottom: 14px;
    }

    .logo {
      font-size: 35px;
      font-weight: 700;
      color: var(--blue);
    }

    .home-link {
      font-size: 16px;
      color: var(--blue);
      text-decoration: none;
      font-weight: 600;
      border-bottom: 2px solid transparent;
      transition: 0.25s;
    }
    .home-link:hover {
      border-bottom: 2px solid var(--blue);
    }

    /* THEME BUTTON */
    .theme-toggle {
      cursor: pointer;
      font-size: 15px;
      padding: 8px 16px;
      border-radius: 7px;
      border: 1px solid var(--blue);
      background: transparent;
      color: var(--blue);
      transition: 0.25s;
    }
    .theme-toggle:hover {
      background: var(--blue);
      color: white;
    }

    /* NAV */
    .nav {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 18px 0;
    }

    .nav button {
      border: 1px solid var(--blue);
      padding: 7px 14px;
      border-radius: 6px;
      cursor: pointer;
      background: transparent;
      color: var(--blue);
      transition: 0.25s;
      font-size: 14px;
    }

    .nav button:hover,
    .nav button.active {
      background: var(--blue);
      color: white;
    }

    /* CARD */
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      padding: 24px;
      border-radius: 12px;
      margin-top: 22px;
      animation: fadeIn 0.45s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(6px);
      }
      to {
        opacity: 1;
      }
    }

    /* DESCRIPTION TEXT */
    .description {
      font-size: 18px;
      margin-bottom: 14px;
    }

    /* BUTTON ROW */
    .explain-btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 18px;
    }

    .action-btn {
      background: var(--blue);
      color: white;
      border: none;
      padding: 9px 16px;
      font-size: 14px;
      border-radius: 7px;
      cursor: pointer;
      transition: 0.25s;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .action-btn:hover {
      background: var(--blue-hover);
    }

    /* EXPLAINER CARDS */
    .explainer {
      display: none;
      padding: 22px;
      animation: expand 0.35s ease;
    }

    @keyframes expand {
      from {
        opacity: 0;
        transform: scale(0.97);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* DATASET GRID */
    .example-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 14px;
      margin-top: 16px;
    }

    .example {
      background: var(--card);
      border: 1px solid var(--border);
      padding: 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.25s;
      text-align: center;
    }
    .example:hover {
      border-color: var(--blue);
      background: rgba(30, 77, 216, 0.09);
    }

    /* TEXTAREA */
    textarea {
      width: 100%;
      height: 180px;
      border-radius: 7px;
      border: 1px solid var(--border);
      padding: 12px;
      background: transparent;
      resize: vertical;
      font-family: "JetBrains Mono", monospace;
      font-size: 14px;
      color: var(--text);
    }

    /* DROPZONE */
    .dropzone {
      margin-top: 14px;
      border: 2px dashed var(--blue);
      padding: 34px;
      border-radius: 8px;
      text-align: center;
      cursor: pointer;
      transition: 0.25s;
    }

    .dropzone:hover {
      background: rgba(30, 77, 216, 0.08);
    }
  </style>
</head>

<body>
<div class="container">

  <!-- HEADER -->
  <header class="header">
    <div class="logo">NOVAK Protocol</div>

    <a href="http://www.novakprotocol.com" target="_blank" class="home-link">
      novakprotocol.com
    </a>

    <button class="theme-toggle" id="themeToggle">Light/Dark</button>
  </header>

  <!-- AUDIENCE NAVIGATION -->
  <nav class="nav">
    <button id="btn-public" class="active" onclick="setAudience('public')">Public</button>
    <button id="btn-government" onclick="setAudience('government')">Government</button>
    <button id="btn-investor" onclick="setAudience('investor')">Investor</button>
    <button id="btn-cyber" onclick="setAudience('cyber')">Cybersecurity</button>
    <button id="btn-academic" onclick="setAudience('academic')">Academic</button>
  </nav>

  <!-- WHY NOVAK ‚Äî WHY NOW -->
  <section id="whyNovakCard" class="card dismissible">
    <h2>Why NOVAK ‚Äî Why Now?</h2>
    <p>
      Automated systems approve loans, deny medical claims, move money,
      assign benefits, navigate vehicles, and make life-changing decisions ‚Äî
      often without proof, transparency, or accountability.
    </p>

    <p>
      NOVAK requires every automated action to generate mathematical
      proof of legality <strong>before execution</strong>.
    </p>

    <p>
      If data changes, rules are altered, or tampering occurs,
      NOVAK detects it instantly ‚Äî and safely blocks the action.
    </p>

    <p class="tight">
      ‚úÖ Every input gets a unique integrity fingerprint<br>
      ‚úÖ Modify anything ‚Äî fingerprint changes instantly
    </p>

    <p class="analogy">
      SHA-256 is the steel the NSA engineered ‚Äî NOVAK is the security
      vault ensuring nothing moves unless everything matches.
    </p>

    <button class="action-btn" onclick="dismissWhyNovak()">‚úÖ Don‚Äôt show this again</button>
  </section>

  <!-- EXPLAINER BUTTONS -->
  <div class="explain-btn-row">
    <button class="action-btn" onclick="toggleExplainer('exp1')">ü§Ø I don‚Äôt get it</button>
    <button class="action-btn" onclick="toggleExplainer('expMilk')">ü•§ Milkshake Analogy</button>
    <button class="action-btn" onclick="toggleExplainer('expColor')">üñçÔ∏è Colored Pencil Analogy</button>
    <button class="action-btn" onclick="toggleExplainer('expKey')">üîë Key Analogy</button>
    <button class="action-btn" onclick="toggleExplainer('expGov')">üèõÔ∏è Government Savings</button>
    <button class="action-btn" onclick="toggleExplainer('expHow')">üëÄ Show Me How This Works</button>
  </div>

  <!-- EXPLAINER PANELS -->
  <section id="exp1" class="card explainer"></section>
  <section id="expMilk" class="card explainer"></section>
  <section id="expColor" class="card explainer"></section>
  <section id="expKey" class="card explainer"></section>
  <section id="expGov" class="card explainer"></section>
  <section id="expHow" class="card explainer"></section>

  <script>
/* ========= GLOBAL DOM HOOKS ========= */
const input = document.getElementById("input");
const hashesDiv = document.getElementById("hashes");
const primaryLabel = document.getElementById("primaryLabel");
const rgacDiv = document.getElementById("rgac");
const comparisonBox = document.getElementById("comparison");
const compareBtn = document.getElementById("compareBtn");
const gameBox = document.getElementById("gameBox");

/* ========= STATE ========= */
let lastHashes = {};
let primaryHash = "SHA-256";
let beforeSnapshot = null;
let rgacBlocks = [];
let soundEnabled = false;

/* ========= THEME ========= */
document.getElementById("themeToggle").addEventListener("click", toggleTheme);

function toggleTheme() {
  const html = document.documentElement;
  html.dataset.theme = html.dataset.theme === "dark" ? "light" : "dark";
  localStorage.setItem("theme", html.dataset.theme);
}

// Restore saved theme
(function initTheme() {
  const saved = localStorage.getItem("theme");
  if (saved) document.documentElement.dataset.theme = saved;
})();

/* ========= WHY NOVAK PERSISTENCE ========= */
function dismissWhyNovak() {
  document.getElementById("whyNovakCard").style.display = "none";
  localStorage.setItem("hideWhyNovak", "1");
}

if (localStorage.getItem("hideWhyNovak") === "1") {
  const card = document.getElementById("whyNovakCard");
  if (card) card.style.display = "none";
}

/* ========= EXPLAINER TEXT ========= */
const explainers = {
  exp1: `
    <h3>Okay ‚Äî What does NOVAK actually do?</h3>
    <p>Every piece of data ‚Äî a claim, an order, a medical record, a robot command ‚Äî gets a mathematical fingerprint.</p>
    <p>If anything changes ‚Äî even a single comma ‚Äî the fingerprint instantly changes. No guessing. No debate.</p>
    <p>NOVAK forces proof-before-action. No proof ‚Üí no execution.</p>
  `,
  expMilk: `
    <h3>The Milkshake Analogy ü•§</h3>
    <p>You order a chocolate milkshake.</p>
    <p>When it arrives ‚Äî you don‚Äôt run a lab test.</p>
    <p>You trust the ingredients didn‚Äôt secretly change to mustard + motor oil.</p>
    <strong>NOVAK guarantees the ingredients never change ‚Äî ever.</strong>
    <p>If the recipe, quantity, temperature, or toppings change, NOVAK instantly knows ‚Äî and won't serve it.</p>
    <p>NOVAK doesn‚Äôt *taste* data ‚Äî it mathematically proves it‚Äôs the same.</p>
  `,
  expColor: `
    <h3>The Colored Pencil Box Analogy üñçÔ∏è</h3>
    <p>You buy a 64‚Äìcount box of colored pencils.</p>
    <p>You expect the rare neon-pink pencil to still be inside later.</p>
    <p>The box has a security seal.</p>
    <strong>If the seal breaks ‚Üí something changed.</strong>
    <p>NOVAK is the seal. Except ‚Äî instead of cardboard ‚Äî it‚Äôs cryptography.</p>
  `,
  expKey: `
    <h3>The Key Analogy üîë</h3>
    <p>Every dataset is a locked door.</p>
    <p>NOVAK makes the key.</p>
    <p>If the data changes ‚Äî even slightly ‚Äî the old key stops working.</p>
    <strong>No correct key ‚Üí no entry ‚Üí no execution.</strong>
  `,
  expGov: `
    <h3>Government Savings üèõÔ∏è</h3>
    <p>Improper payments cost U.S. taxpayers over $247 billion per year (OMB 2024).</p>
    <p>Most errors occur before anyone realizes data changed.</p>
    <strong>NOVAK stops the transaction before the mistake ‚Äî or fraud ‚Äî happens.</strong>
    <ul>
      <li>VA disability claim integrity</li>
      <li>Medicare billing protection</li>
      <li>DoD procurement validation</li>
      <li>IRS tax return verification</li>
      <li>Social Security eligibility matching</li>
    </ul>
    <h4>Is this possible today?</h4>
    <p>‚úÖ Yes ‚Äî every technology required already exists:</p>
    <ul>
      <li>Browser cryptography APIs</li>
      <li>FIPS-approved hash algorithms</li>
      <li>Immutable audit chains</li>
      <li>Real-time execution enforcement</li>
    </ul>
    <p>NOVAK doesn‚Äôt need blockchain, tokens, miners, or gas fees ‚Äî it runs on existing infrastructure.</p>
  `,
  expHow: `
    <h3>How NOVAK Works ‚Äî Step by Step üëÄ</h3>
    <ol>
      <li>You paste or submit data</li>
      <li>NOVAK creates a cryptographic fingerprint</li>
      <li>System stores fingerprint ‚Äî not the data</li>
      <li>Before any automated action occurs, NOVAK rechecks it</li>
      <li>If fingerprints match ‚Üí allowed ‚úÖ</li>
      <li>If fingerprints differ ‚Üí blocked üö®</li>
    </ol>
    <strong>NOVAK creates mathematical accountability ‚Äî instantly.</strong>
  `,
  expDiscover: `
    <h3>Did NOVAK discover something new?</h3>
    <p>Yes ‚Äî a missing link in automation:</p>
    <strong>Execution should never occur without verifiable truth.</strong>
    <p>Blockchain proves history.</p>
    <p>NOVAK proves the present ‚Äî before action.</p>
    <p>This flips computing from ‚Äúact first, audit later‚Äù to:</p>
    <strong>‚Äúprove first, act second.‚Äù</strong>
    <p>That single inversion changes cybersecurity, healthcare, finance, robotics, AI, and government operations forever.</p>
  `
};

/* ========= EXPLAINER RENDERING ========= */
function toggleExplainer(id) {
  document.querySelectorAll(".explainer").forEach(box => {
    if (box.id !== id) box.style.display = "none";
  });

  const box = document.getElementById(id);
  box.innerHTML = explainers[id] || "Content missing";
  box.style.display = box.style.display === "block" ? "none" : "block";

  if (box.style.display === "block")
    box.scrollIntoView({ behavior: "smooth", block: "center" });
}

/* ========= EXAMPLE DATASETS ========= */
const examples = {
  va: `Veteran: Matthew Example\nRating: 70%\nCondition: OSA w/ CPAP\nDecision: Increase granted`,
  medical: `Patient: 54M\nSymptoms: Chest pain, dizziness\nMedication: Aspirin 81mg daily`,
  finance: `Payment ID: 88492-A\nAmount: $912,330.55\nAuthorized: Federal contractor`,
  ai: `Model: LogisticsOptimizer-v3\nAction: Approve shipment reroute\nRisk: Low`,
  robot: `Robot ID: MTR-992\nCommand: Move arm 3.4cm upward`,
  legal: `Directive: 2025-118-B\nInstruction: Suspend procurement activity`
};

function loadExample(x) {
  input.value = examples[x];
  compute();
}

/* ========= HASH ALGORITHMS ========= */
const algorithms = ["SHA-1", "SHA-224", "SHA-256", "SHA-384", "SHA-512", "SHA3-256"];

/* ========= VISUAL HASH TRANSITION ========= */
function animateHash(element, newText) {
  element.style.opacity = 0;
  setTimeout(() => {
    element.textContent = newText;
    element.style.opacity = 1;
  }, 220);
}

/* ========= HASHING ENGINE ========= */
async function compute() {
  const encoder = new TextEncoder();
  const data = encoder.encode(input.value);

  lastHashes = {};
  let html = "";

  for (const algo of algorithms) {
    try {
      const digest = await crypto.subtle.digest(algo, data);
      const hex = [...new Uint8Array(digest)]
        .map(b => b.toString(16).padStart(2, "0"))
        .join("");

      lastHashes[algo] = hex;

      html += `
        <div class="hash-row">
          <span class="hash-label">${algo}</span>
          <span class="hash-value" id="hash-${algo}">${hex}</span>
          <label style="font-size:11px;">
            <input type="radio" name="primary" value="${algo}"
            ${algo === primaryHash ? "checked" : ""}
            onclick="setPrimary('${algo}')"> primary
          </label>
        </div>`;
    } catch {
      html += `
        <div class="hash-row">
          <span class="hash-label">${algo}</span>
          <span class="hash-value red">Browser does not support ${algo}</span>
        </div>`;
    }
  }

  hashesDiv.innerHTML = html;
  primaryLabel.innerText = primaryHash;
  updateRGAC(lastHashes[primaryHash]);
}

input.addEventListener("input", compute);

/* ========= PRIMARY HASH SELECTOR ========= */
function setPrimary(algo) {
  primaryHash = algo;
  primaryLabel.innerText = algo;
}

/* ========= RGAC ANIMATED MINI-CHAIN ========= */
function updateRGAC(hash) {
  if (!hash) return;
  rgacBlocks.push(hash.slice(0, 12));
  if (rgacBlocks.length > 8) rgacBlocks.shift();

  rgacDiv.innerHTML = rgacBlocks
    .map(h => `<div class="block animated">${h}</div>`)
    .join("");
}

/* ========= TAMPER TEST ========= */
function tamperTest() {
  input.value += "\nüö® UNAUTHORIZED CHANGE DETECTED";
  compute();
}

/* ========= BEFORE/AFTER COMPARISON ========= */
function toggleCompareMode() {
  if (!beforeSnapshot) {
    beforeSnapshot = {
      input: input.value,
      hashes: { ...lastHashes },
      time: new Date().toLocaleTimeString()
    };
    compareBtn.innerText = "Finish Comparison";
  } else {
    const after = {
      input: input.value,
      hashes: { ...lastHashes },
      time: new Date().toLocaleTimeString()
    };

    let html = `<strong>BEFORE:</strong> ${beforeSnapshot.time}<br>
                <strong>AFTER:</strong> ${after.time}<hr><br>`;

    for (const algo of algorithms) {
      const changed = beforeSnapshot.hashes[algo] !== after.hashes[algo];
      html += `
      <div class="compare-row">
        <span>${algo}</span>
        <span>${beforeSnapshot.hashes[algo] || "‚Äî"}</span>
        <span style="color:${changed ? "#d32626" : "#13a048"}">
          ${after.hashes[algo] || "‚Äî"}
        </span>
      </div>`;
    }

    comparisonBox.innerHTML = html;
    comparisonBox.style.display = "block";
    compareBtn.innerText = "Start Before/After Capture";
    beforeSnapshot = null;
  }
}

/* ========= EXPORT JSON LOG ========= */
function exportJSON() {
  const bundle = {
    timestamp: new Date().toISOString(),
    input: input.value,
    hashes: lastHashes,
    primary: primaryHash
  };

  const file = new Blob([JSON.stringify(bundle, null, 2)], {
    type: "application/json"
  });

  const url = URL.createObjectURL(file);
  const a = document.createElement("a");
  a.href = url;
  a.download = "novak-integrity-log.json";
  a.click();
}

/* ========= INIT ========= */
setAudience("public");
compute();
</script>

<!-- =========================
‚úÖ JAVASCRIPT ‚Äî FULL FUNCTIONALITY
========================= -->
<script>
/* ===== DOM HOOKS ===== */
const input = document.getElementById("input");
const hashesDiv = document.getElementById("hashes");
const primaryLabel = document.getElementById("primaryLabel");
const rgacDiv = document.getElementById("rgac");
const gameBox = document.getElementById("gameBox");
const glorySection = document.getElementById("glorySection");
const whyNovak = document.getElementById("whyNovakCard");
const proofLog = document.getElementById("proofHistory");

/* ===== STATE ===== */
let lastHashes = {};
let primaryHash = "SHA-256";
let rgacBlocks = [];
let beforeSnapshot = null;
let soundEnabled = false;

/* ===== HASH ALGORITHMS SUPPORTED TODAY ===== */
const algorithms = [
  "SHA-1",
  "SHA-224",
  "SHA-256",
  "SHA-384",
  "SHA-512"
];

/* ===== HASHING ENGINE ===== */
async function compute() {
  if (!input) return;
  const encoder = new TextEncoder();
  const data = encoder.encode(input.value);

  lastHashes = {};
  let html = "";

  for (const algo of algorithms) {
    try {
      const digest = await crypto.subtle.digest(algo, data);
      const hex = [...new Uint8Array(digest)]
        .map(b => b.toString(16).padStart(2,"0"))
        .join("");

      lastHashes[algo] = hex;

      html += `
      <div class="hash-row hash-anim">
        <span class="hash-label">${algo}</span>
        <span class="hash-value">${hex}</span>
        <label class="micro">
          <input type="radio" name="primary" value="${algo}"
          ${algo === primaryHash ? "checked" : ""}
          onclick="setPrimary('${algo}')"> primary
        </label>
      </div>`;
    } catch {
      html += `<p style="color:#c42121;">‚ö† Browser does not support ${algo}</p>`;
    }
  }

  hashesDiv.innerHTML = html;
  primaryLabel.innerText = primaryHash;
  updateRGAC(lastHashes[primaryHash]);
  addProofLog("Hash recomputed");
}

/* ===== PRIMARY HASH SWITCH ===== */
function setPrimary(a) {
  primaryHash = a;
  primaryLabel.innerText = a;
}

/* ===== RGAC ANIMATION ===== */
function updateRGAC(hash) {
  if (!hash) return;
  rgacBlocks.push(hash.slice(0, 10));
  if (rgacBlocks.length > 10) rgacBlocks.shift();

  rgacDiv.innerHTML = rgacBlocks
    .map(h => `<div class="block pulse">${h}</div>`).join("");
}

/* ===== AUTO COMPUTE ===== */
input?.addEventListener("input", compute);
compute();

/* ===== EXAMPLE DATASETS ===== */
const examples = {
  va: `Veteran: John Sample
Issue: Lumbar Degeneration
Requested Rating: 40%`,
  medical: `Patient: 54F
Diagnosis: CHF
Medication: Lasix 20mg daily`,
  finance: `Payment: $94,882.14
Vendor: Federal Contracting Group
PO#: 9983-A`,
  ai: `Model: GPT-X
Decision: Denied Assistance
Reason: Confidence < 0.12`,
  robot:`Robot #22
Command: Open Security Gate
Timestamp: 14:03:55`,
  legal:`Directive: Halt Disbursement
Authority: Federal Claims Act`
};

function loadExample(x) {
  input.value = examples[x];
  compute();
  scrollIntoViewSmooth("#hashHeader");
  addProofLog(`Loaded example: ${x}`);
}

/* ===== TAMPER TEST ===== */
function tamperTest() {
  input.value += "\nüö® Unauthorized Change Attempt Logged";
  compute();
  addProofLog("Tamper test executed");
}

/* ===== BEFORE/AFTER CAPTURE ===== */
function toggleCompareMode() {
  if (!beforeSnapshot) {
     beforeSnapshot = {
       text: input.value,
       hashes: {...lastHashes},
       time: new Date().toLocaleTimeString()
     };
     compareBtn.innerText = "Finish Comparison";
     addProofLog("Before snapshot captured");
  } else {
     let out = `<strong>Before:</strong> ${beforeSnapshot.time}<br>`;
     out += `<strong>After:</strong> ${new Date().toLocaleTimeString()}<hr>`;

     for (const algo of algorithms) {
       const changed = beforeSnapshot.hashes[algo] !== lastHashes[algo];
       out += `
        <div>
          <b>${algo}</b><br>
          ${beforeSnapshot.hashes[algo]}<br>
          <span style="color:${changed ? "red" : "green"}">
            ${lastHashes[algo]}
          </span><br><br>
        </div>`;
     }

     document.getElementById("comparison").innerHTML = out;
     document.getElementById("comparison").style.display = "block";
     compareBtn.innerText = "Start Before/After Capture";
     beforeSnapshot = null;
     addProofLog("Comparison completed");
  }
}

/* ===== EXPLAINERS ===== */
function toggleExplainer(id) {
  document.querySelectorAll(".explainer")
    .forEach(e => e.style.display = e.id === id && e.style.display !== "block" ? "block" : "none");

  const active = document.getElementById(id);
  if (active && active.style.display === "block") {
    active.scrollIntoView({behavior:"smooth", block:"center"});
  }
}

/* ===== GLORY TO GOD ===== */
function toggleGlory() {
  glorySection.style.display =
    glorySection.style.display === "block" ? "none" : "block";
}

/* ===== WHY NOVAK DISMISS MEMORY ===== */
function dismissWhyNovak() {
  whyNovak.style.display = "none";
  localStorage.setItem("hideWhyNovak", "1");
}
if (localStorage.getItem("hideWhyNovak") === "1") {
  whyNovak.style.display = "none";
}

/* ===== HASH VISUAL ANIMATION ===== */
document.addEventListener("animationend", e => {
  if (e.target.classList.contains("hash-anim")) {
    e.target.classList.remove("hash-anim");
  }
});

/* ===== EXPORTS (SAFE PLACEHOLDERS) ===== */
function exportCertificate() {
 alert("‚úÖ PDF export available once GitHub backend or local server is enabled.");
}
function printOnePager() {
 alert("‚úÖ Executive Preview export enabled once server available.");
}
function exportJSON() {
 const blob = new Blob([JSON.stringify(lastHashes,null,2)],{type:"application/json"});
 const link = document.createElement("a");
 link.href = URL.createObjectURL(blob);
 link.download = "NOVAK-Integrity-Log.json";
 link.click();
 addProofLog("Exported JSON log");
}

/* ===== VISUAL SCROLL ===== */
function scrollIntoViewSmooth(sel) {
 document.querySelector(sel)?.scrollIntoView({behavior:"smooth"});
}

/* ===== HISTORY LOG ===== */
function addProofLog(msg) {
 const time = new Date().toLocaleTimeString();
 proofLog.innerHTML =
   `<div>üßæ [${time}] ‚Äî ${msg}</div>` + proofLog.innerHTML;
}

/* ===== THEME PERSISTENCE ===== */
function toggleTheme() {
 const html = document.documentElement;
 html.dataset.theme = html.dataset.theme === "dark" ? "light" : "dark";
 localStorage.setItem("theme", html.dataset.theme);
}
(function(){
 const saved = localStorage.getItem("theme");
 if (saved) document.documentElement.dataset.theme = saved;
})();

/* ===== INIT ===== */
compute();
</script>

<!-- ======================
‚úÖ COPYRIGHT / TRADEMARK FOOTER
====================== -->
<footer style="text-align:center; margin-top:60px; font-size:13px; opacity:0.7;">
¬© 2025 NOVAK Protocol ‚Äî Patent & Trademark Pending ‚Äî All Rights Reserved<br>
Nothing here is transmitted, stored, logged, tracked, or shared ‚Äî privacy is sacred.
</footer>

</body>
</html>

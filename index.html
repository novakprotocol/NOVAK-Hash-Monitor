<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>NOVAK Hash Monitor</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

<style>
:root {
  --bg: #ffffff;
  --card: #f7f7f9;
  --text: #111;
  --border: #dcdcdc;
  --accent: #0a5cff;
  --mono: "JetBrains Mono", monospace;
  --sans: "Inter", sans-serif;
}

.dark {
  --bg: #0f1116;
  --card: #181b22;
  --text: #e5e8ef;
  --border: #2b2e35;
  --accent: #4aa3ff;
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: var(--sans);
  margin: 0;
  padding: 0;
}

.container {
  max-width: 950px;
  margin: auto;
  padding: 28px 18px;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.toggle-theme {
  padding: 6px 12px;
  font-size: 14px;
  border-radius: 6px;
  border: 1px solid var(--border);
  background: var(--card);
  cursor: pointer;
}

.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 18px 22px;
  margin-top: 22px;
}

textarea {
  width: 100%;
  height: 170px;
  font-family: var(--mono);
  padding: 14px;
  border-radius: 8px;
  border: 1px solid var(--border);
  resize: vertical;
  font-size: 14px;
  background: var(--bg);
  color: var(--text);
}

label, select {
  font-size: 14px;
}

.hash-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-family: var(--mono);
  padding: 9px 0;
  border-bottom: 1px solid var(--border);
}

.hash-name {
  width: 80px;
  font-weight: 600;
}

.hash-value {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
}

.copy-btn {
  font-size: 12px;
  padding: 4px 10px;
  cursor: pointer;
  border-radius: 6px;
  background: var(--accent);
  color: white;
  border: none;
}

.action-btn {
  padding: 10px 18px;
  background: var(--accent);
  color: white;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  margin-top: 14px;
}

.timeline {
  font-family: var(--mono);
  font-size: 12px;
  height: 120px;
  overflow-y: auto;
  border: 1px solid var(--border);
  padding: 10px;
  border-radius: 6px;
}

.subtext {
  opacity: .75;
  font-size: 14px;
}
</style>
</head>

<body>
<div class="container">

  <div class="header">
    <h1>NOVAK Hash Monitor</h1>
    <button class="toggle-theme" onclick="toggleTheme()">Light/Dark</button>
  </div>

  <p class="subtext" style="margin-top:-6px;">
    Real-time multi-algorithm integrity engine — ensuring every automated action
    begins with cryptographic proof before execution.
  </p>

  <div class="card">
    <h2>Why NOVAK — Why It Exists</h2>
    <p>
      Automated systems approve medical bills, financial transfers, government benefits,
      robotic actions, and AI decisions — often without mathematical proof they’re valid.
    </p>
    <p style="margin-top:10px;">
      NOVAK forces proof <strong>before action</strong>, preventing fraud, errors, tampering,
      manipulation, misconfiguration, corruption, or silent system failures.
    </p>
  </div>

  <div class="card">
    <h3>Test It — Change Anything</h3>
    <textarea id="inputBox" placeholder="Type text, code, JSON, logs — hashes update instantly"></textarea>
  </div>

  <div class="card">
    <h3>Integrity Fingerprints</h3>
    <p class="subtext">Every modification generates a new fingerprint — even a space or punctuation change.</p>

    <div id="hashList"></div>

    <label style="margin-top:12px; display:block;">Primary hash for certificate:</label>
    <select id="primaryHash">
      <option>SHA-256</option>
      <option>SHA-384</option>
      <option>SHA-512</option>
      <option>SHA-1</option>
    </select>

    <button class="action-btn" onclick="exportPDF()">Export Integrity Certificate (PDF)</button>
  </div>

  <div class="card">
    <h3>Hash Timeline (History)</h3>
    <div id="timeline" class="timeline"></div>
  </div>

</div>

<script>
// --- Light/Dark Mode ---
function toggleTheme() { document.body.classList.toggle("dark"); }

// --- Hash Functions ---
async function hash(alg, msg) {
  try {
    const buf = new TextEncoder().encode(msg);
    const digest = await crypto.subtle.digest(alg, buf);
    return [...new Uint8Array(digest)].map(x => x.toString(16).padStart(2,"0")).join("");
  } catch { return "Unsupported"; }
}

const hashList = document.getElementById("hashList");
const timeline = document.getElementById("timeline");

async function update() {
  const text = document.getElementById("inputBox").value;

  const algorithms = ["SHA-1", "SHA-256", "SHA-384", "SHA-512"];

  hashList.innerHTML = "";

  for (const alg of algorithms) {
    const h = await hash(alg, text);

    const row = document.createElement("div");
    row.className = "hash-row";

    const name = document.createElement("span");
    name.className = "hash-name";
    name.textContent = alg;

    const val = document.createElement("span");
    val.className = "hash-value";
    val.textContent = h.slice(0, 22) + "…" + h.slice(-6);

    const btn = document.createElement("button");
    btn.className = "copy-btn";
    btn.textContent = "Copy";
    btn.onclick = () => navigator.clipboard.writeText(h);

    row.append(name, val, btn);
    hashList.append(row);
  }

  timeline.innerHTML += `[${new Date().toLocaleTimeString()}] updated\n`;
  timeline.scrollTop = timeline.scrollHeight;
}

document.getElementById("inputBox").addEventListener("input", update);
update();
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>NOVAK Integrity Verification Demo</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet" />

<style>
/* GLOBAL RESET */
*{margin:0;padding:0;box-sizing:border-box;font-family:"Inter",sans-serif}

/* THEME COLORS */
:root{
 --blue:#1a4fb3;
 --blue-hover:#103b87;
 --bg-light:#f8fafc;
 --bg-dark:#0f172a;
 --text-light:#0b1326;
 --text-dark:#e6edf5;
 --card-light:#ffffff;
 --card-dark:#1e293b;
 --border-light:#d4d8e1;
 --border-dark:#334155;
}

html[data-theme="light"]{
 --bg:var(--bg-light);
 --text:var(--text-light);
 --card:var(--card-light);
 --border:var(--border-light);
}
html[data-theme="dark"]{
 --bg:var(--bg-dark);
 --text:var(--text-dark);
 --card:var(--card-dark);
 --border:var(--border-dark);
}

body{
 background:var(--bg);
 color:var(--text);
 padding:36px;
}

/* LAYOUT */
.container{max-width:900px;margin:auto}

/* HEADER */
h1{
 font-size:33px;
 font-weight:700;
 margin-bottom:10px;
 color:var(--blue);
}

/* AUDIENCE NAVIGATION */
.nav{
 display:flex;
 justify-content:center;
 gap:18px;
 margin:22px 0;
 flex-wrap:wrap;
}
.nav button{
 border:1px solid var(--blue);
 background:transparent;
 padding:7px 18px;
 border-radius:6px;
 font-size:14px;
 cursor:pointer;
 transition:.25s;
 color:var(--blue);
}
.nav button.active,
.nav button:hover{
 background:var(--blue);
 color:white;
}

/* THEME TOGGLE */
.theme-toggle{
 position:absolute;
 top:28px;
 right:32px;
 cursor:pointer;
 font-size:14px;
 border:1px solid var(--blue);
 padding:5px 12px;
 border-radius:6px;
 color:var(--blue);
 transition:.25s;
}
.theme-toggle:hover{
 background:var(--blue);
 color:white;
}

/* CARDS */
.card{
 background:var(--card);
 border:1px solid var(--border);
 border-radius:10px;
 padding:22px;
 margin-top:22px;
}

/* TEXT AREA */
textarea{
 width:100%;
 height:160px;
 border:1px solid var(--border);
 border-radius:6px;
 padding:12px;
 background:transparent;
 font-family:"JetBrains Mono",monospace;
 font-size:14px;
 color:var(--text);
 resize:vertical;
}

/* DROP ZONE */
.dropzone{
 margin-top:18px;
 border:2px dashed var(--blue);
 padding:36px;
 text-align:center;
 border-radius:10px;
 cursor:pointer;
 transition:.22s;
}
.dropzone:hover{
 background:rgba(26,79,179,.07);
}

/* HASH LIST */
.hash-row{
 display:flex;
 justify-content:space-between;
 padding:10px 0;
 border-bottom:1px solid var(--border);
 font-family:"JetBrains Mono",monospace;
 font-size:13px;
}
.copy{
 cursor:pointer;
 border:1px solid var(--blue);
 border-radius:5px;
 padding:2px 8px;
 transition:.22s;
}
.copy:hover{
 background:var(--blue);
 color:white;
}

/* TIMELINE */
.timeline{
 margin-top:12px;
 height:180px;
 overflow-y:auto;
 font-size:12px;
 border:1px solid var(--border);
 padding:10px;
 border-radius:6px;
 font-family:"JetBrains Mono",monospace;
 white-space:pre-wrap;
 background:rgba(26,79,179,.05);
}
</style>
</head>

<body>
<button class="theme-toggle" onclick="toggleTheme()">Light/Dark</button>

<div class="container">
<h1>NOVAK Integrity Verification Demo</h1>

<p id="description">
NOVAK generates a mathematical fingerprint of data.  
If the data changes — even slightly — the fingerprint changes instantly.  
Try it below.
</p>

<!-- AUDIENCE SWITCHER -->
<div class="nav">
 <button onclick="setAudience('public')" class="active" id="btn-public">Public</button>
 <button onclick="setAudience('government')" id="btn-government">Government</button>
 <button onclick="setAudience('investor')" id="btn-investor">Investor</button>
 <button onclick="setAudience('cyber')" id="btn-cyber">Cybersecurity</button>
 <button onclick="setAudience('academic')" id="btn-academic">Academic</button>
</div>

<!-- INPUT AREA -->
<div class="card">
 <textarea id="input" placeholder="Type, paste text, or drop a file..."></textarea>
 <div id="dropzone" class="dropzone">⬇️ Drop a file here to verify integrity</div>
</div>

<!-- HASH OUTPUT -->
<div class="card">
 <h3 id="hashHeader">Integrity Fingerprint</h3>
 <div id="hashes"></div>
</div>

<!-- HISTORY -->
<div class="card" id="timelineCard">
 <h3 id="timelineHeader">Proof History</h3>
 <div id="timeline" class="timeline"></div>
</div>
</div>

<script>
const input=document.getElementById("input");
const timeline=document.getElementById("timeline");
const dropzone=document.getElementById("dropzone");

/* AUDIENCE TEXT MODES */
const audienceText={
 public:{
  desc:"NOVAK generates a mathematical fingerprint of data. If anything changes—even slightly—the fingerprint changes instantly.",
  hash:"Integrity Fingerprint",
  timeline:"Proof History"
 },
 government:{
  desc:"NOVAK enforces cryptographic proof-before-action, ensuring records, claims, and automated decisions cannot be altered without detection.",
  hash:"Regulatory Integrity Verification",
  timeline:"Audit & Compliance Trail"
 },
 investor:{
  desc:"NOVAK prevents fraud, tampering, and unauthorized automation across healthcare, finance, defense, logistics, and government.",
  hash:"Business Integrity Output",
  timeline:"Accountability Timeline"
 },
 cyber:{
  desc:"Real-time hashing for SOC workflows, DFIR, DevSecOps, file integrity monitoring, and tamper detection.",
  hash:"Cryptographic Hash Output",
  timeline:"Security Event Timeline"
 },
 academic:{
  desc:"Hashes are deterministic, collision-resistant mathematical functions foundational to cryptography & distributed systems.",
  hash:"Cryptographic Fingerprints",
  timeline:"Research Log"
 }
};

function setAudience(a){
 document.getElementById("description").innerText=audienceText[a].desc;
 document.getElementById("hashHeader").innerText=audienceText[a].hash;
 document.getElementById("timelineHeader").innerText=audienceText[a].timeline;

 document.querySelectorAll(".nav button").forEach(btn=>btn.classList.remove("active"));
 document.getElementById(`btn-${a}`).classList.add("active");
}

/* THEME TOGGLE */
function toggleTheme(){
 const html=document.documentElement;
 html.dataset.theme=html.dataset.theme==="dark"?"light":"dark";
}

/* HASH ENGINE */
async function compute(){
 const text=input.value;
 const enc=new TextEncoder();
 const data=enc.encode(text);
 const digest=await crypto.subtle.digest("SHA-256",data);
 const hex=[...new Uint8Array(digest)].map(b=>b.toString(16).padStart(2,"0")).join("");

 document.getElementById("hashes").innerHTML=
 `<div class="hash-row">
   <span>SHA-256</span>
   <span>${hex}</span>
   <button class="copy" onclick="navigator.clipboard.writeText('${hex}')">Copy</button>
 </div>`;

 timeline.innerHTML+=`[${new Date().toLocaleTimeString()}] Updated\n`;
 timeline.scrollTop=timeline.scrollHeight;
}

/* LIVE TYPING */
input.addEventListener("input",compute);

/* DROP FILE HASHING */
dropzone.addEventListener("dragover",e=>e.preventDefault());
dropzone.addEventListener("drop",async e=>{
 e.preventDefault();
 const file=e.dataTransfer.files[0];
 if(!file)return;
 input.value=await file.text();
 timeline.innerHTML+=`[${new Date().toLocaleTimeString()}] File loaded: ${file.name}\n`;
 compute();
});

/* START */
compute();
</script>
</body>
</html>

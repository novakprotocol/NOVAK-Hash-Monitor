<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>NOVAK Integrity Verification Demo</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet" />
</head>

<body>
<div class="container">

  <!-- HEADER -->
  <header class="header">
    <div class="logo">NOVAK Protocol</div>

    <a href="http://www.novakprotocol.com" target="_blank" class="home-link">
      novakprotocol.com
    </a>

    <button class="theme-toggle" id="themeToggle">Light/Dark</button>
  </header>

  <!-- AUDIENCE NAVIGATION -->
  <nav class="nav">
    <button id="btn-public" class="active" onclick="setAudience('public')">Public</button>
    <button id="btn-government" onclick="setAudience('government')">Government</button>
    <button id="btn-investor" onclick="setAudience('investor')">Investor</button>
    <button id="btn-cyber" onclick="setAudience('cyber')">Cybersecurity</button>
    <button id="btn-academic" onclick="setAudience('academic')">Academic</button>
  </nav>

  <!-- WHY NOVAK ‚Äî WHY NOW -->
  <section id="whyNovakCard" class="card dismissible">
    <h2>Why NOVAK ‚Äî Why Now?</h2>

    <p>
      Automated systems approve loans, deny medical claims, assign benefits,
      move money, steer vehicles, and operate robots ‚Äî often without proof,
      transparency, or accountability.
    </p>

    <p>
      NOVAK requires every automated action to generate mathematical proof of
      legality <strong>before it happens</strong>.
    </p>

    <p>
      If data changes, rules are incorrect, or tampering occurs,
      NOVAK detects it instantly ‚Äî and safely blocks execution.
    </p>

    <p class="tight">
      ‚úÖ Every input creates a unique fingerprint<br>
      ‚úÖ Change anything ‚Äî fingerprint changes instantly
    </p>

    <p class="analogy">
    SHA-256 is the steel. NOVAK is the vault door, hinges, lock, alarm system, and guard ‚Äî ensuring automation cannot act without proof.
    </p>

    <button class="dismiss-btn" onclick="dismissWhyNovak()">‚úÖ Don‚Äôt show this again</button>
    <button class="close-x" onclick="dismissWhyNovak()">‚úï</button>
  </section>

  <!-- AUDIENCE-AWARE DESCRIPTION -->
  <p id="description" class="description">
    NOVAK generates a mathematical fingerprint of data. If anything changes ‚Äî
    even slightly ‚Äî the fingerprint changes instantly. Try it below.
  </p>

  <!-- EXPLAINER BUTTON ROW -->
  <div class="explain-btn-row">
    <button class="action-btn" onclick="toggleExplainer('exp1')">I don‚Äôt get it</button>
    <button class="action-btn" onclick="toggleExplainer('exp2')">I‚Äôm still not getting it</button>
    <button class="action-btn" onclick="toggleExplainer('expColor')">Colored pencil analogy</button>
    <button class="action-btn" onclick="toggleExplainer('expKey')">Key analogy</button>
    <button class="action-btn" onclick="toggleExplainer('expGov')">Government savings</button>
    <button class="action-btn" onclick="toggleExplainer('expDoWe')">Don‚Äôt we already do this?</button>
    <button class="action-btn" onclick="toggleExplainer('expHow')">Show me how this works</button>
  </div>

  <!-- COLLAPSIBLE EXPLAINER PANELS -->
  <section id="exp1" class="card explainer"></section>
  <section id="exp2" class="card explainer"></section>
  <section id="expColor" class="card explainer"></section>
  <section id="expKey" class="card explainer"></section>
  <section id="expGov" class="card explainer"></section>
  <section id="expDoWe" class="card explainer"></section>
  <section id="expHow" class="card explainer"></section>

    <!-- EXAMPLE DATASETS -->
  <section class="card">
    <h3>Select an example dataset:</h3>
    <div class="example-grid">
      <div class="example" onclick="loadExample('va')">VA Disability Claim Summary</div>
      <div class="example" onclick="loadExample('medical')">Clinical Note (Healthcare)</div>
      <div class="example" onclick="loadExample('finance')">Financial Transaction Record</div>
      <div class="example" onclick="loadExample('ai')">AI Decision Output Log</div>
      <div class="example" onclick="loadExample('robot')">Autonomous Robotics Command</div>
      <div class="example" onclick="loadExample('legal')">Legal / Policy Directive</div>
    </div>
  </section>

  <!-- TEXT INPUT + DROPZONE -->
  <section class="card">
    <textarea id="input" placeholder="Type, paste, or modify data here..."></textarea>

    <div id="dropzone" class="dropzone">
      ‚¨áÔ∏è Drag & drop a file here to verify integrity
    </div>

    <button class="action-btn" onclick="tamperTest()">Run Tamper Test</button>
    <button class="action-btn" id="compareBtn" onclick="toggleCompareMode()">
      Start Before/After Capture
    </button>
  </section>

  <!-- HASH OUTPUT -->
  <section class="card">
    <h3 id="hashHeader">Integrity Fingerprints</h3>
    <p class="micro">All supported hashes shown ‚Äî select one as primary.</p>

    <div id="hashes" class="hash-list"></div>

    <p class="micro">
      Primary Hash for certificate:
      <strong id="primaryLabel">SHA-256</strong>
    </p>

    <h4>RGAC Chain (Conceptual Demo)</h4>
    <div id="rgac" class="rgac"></div>

    <button class="action-btn" onclick="exportCertificate()">Export Integrity Certificate (PDF)</button>
  </section>

  <button class="action-btn" onclick="printOnePager()">
    Generate Executive Preview (PDF)
  </button>

  <!-- BEFORE / AFTER COMPARISON -->
  <section class="card">
    <h3>Before / After Comparison</h3>
    <p class="micro">Capture, modify, then compare fingerprints</p>
    <div id="comparison" class="compare-box" style="display:none;"></div>
  </section>

  <!-- GAME LAUNCHER -->
  <section class="card" id="gamesCard">
    <h3>Interactive NOVAK Mini-Games</h3>
    <p class="micro">Learn NOVAK through real-world integrity scenarios</p>

    <div class="game-btn-row">
      <button class="action-btn" onclick="startTamperGame()">Spot the Tamper</button>
      <button class="action-btn" onclick="startHashMatch()">Hash Match Memory</button>
      <button class="action-btn" onclick="startKeyGame()">Find the Valid Key</button>
      <button class="action-btn" onclick="startFraudDetective()">Fraud Detective</button>
    </div>
  </section>

  <!-- GAME DISPLAY / INTERACTION AREA -->
  <section id="gameBox" class="card" style="display:none;"></section>

  <!-- TIMELINE -->
  <section class="card">
    <h3 id="timelineHeader">Proof History</h3>
    <div id="proofHistory" class="history-box"></div>
  </section>

  <!-- NOVAK vs BLOCKCHAIN -->
  <section class="card">
    <h3>NOVAK vs Blockchain, Bitcoin & SSL/TLS</h3>

    <h4 style="margin-top:14px;">NOVAK vs Blockchain</h4>
    <ul style="margin-left:18px;line-height:1.45;">
      <li><strong>Blockchain:</strong> Records events after execution.</li>
      <li><strong>NOVAK:</strong> Requires proof before execution.</li>
      <li><strong>Blockchain:</strong> Needs decentralized consensus.</li>
      <li><strong>NOVAK:</strong> Works anywhere ‚Äî no miners or ledger.</li>
    </ul>

    <h4 style="margin-top:14px;">NOVAK vs Bitcoin / Crypto</h4>
    <ul style="margin-left:18px;line-height:1.45;">
      <li><strong>Crypto:</strong> Token transaction layer.</li>
      <li><strong>NOVAK:</strong> Automated decision integrity layer.</li>
    </ul>

    <h4 style="margin-top:14px;">NOVAK vs SSL/TLS</h4>
    <ul style="margin-left:18px;line-height:1.45;">
      <li><strong>SSL/TLS:</strong> Protects data in transit.</li>
      <li><strong>NOVAK:</strong> Enforces legality before execution.</li>
    </ul>
  </section>

  <!-- VISUAL DIAGRAM -->
  <section class="card">
    <h3>NOVAK vs Blockchain ‚Äî Visual Overview</h3>

    <svg width="100%" height="140">
      <text x="10" y="22" font-size="15">Blockchain:</text>
      <text x="10" y="42" font-size="12">Action ‚Üí Recorded ‚Üí Audited Later</text>
      <line x1="10" y1="60" x2="250" y2="60" stroke="#1a4fb3" stroke-width="2" />

      <text x="10" y="100" font-size="15">NOVAK:</text>
      <text x="10" y="119" font-size="12">Action Proposed ‚Üí Integrity Proven ‚Üí Then Executed</text>
    </svg>
  </section>

  <!-- GLOSSARY -->
  <section class="card">
    <h3>Glossary ‚Äî Plain English</h3>
    <ul style="margin-left:18px;line-height:1.55;">
      <li><strong>Hash:</strong> A unique mathematical fingerprint of data.</li>
      <li><strong>SHA-256:</strong> U.S. federal integrity hashing standard.</li>
      <li><strong>Execution Identity Receipt:</strong> Proof-before-action checkpoint.</li>
      <li><strong>RGAC:</strong> Chain of linked integrity receipts over time.</li>
      <li><strong>Proof-Before-Action:</strong> Machine must justify execution first.</li>
    </ul>
  </section>

  <!-- COMPLIANCE -->
  <section class="card">
    <h3>Security, Compliance & Deployment</h3>
    <ul style="margin-left:18px;line-height:1.55;">
      <li>100% local ‚Äî no stored, transmitted, or uploaded data</li>
      <li>Compatible with FIPS-validated hashing modules</li>
      <li>Ideal for VA, DoD, DHS, HHS, Treasury, banking</li>
      <li>Integrates with SIEM, IAM, PKI & zero-trust architectures</li>
    </ul>
  </section>

  <!-- GLORY TO GOD BUTTON -->
  <div style="margin-top:28px; text-align:center;">
    <button class="action-btn" onclick="toggleGlorySection()">All Glory to GOD</button>
  </div>

  <!-- GLORY TO GOD COLLAPSIBLE -->
  <section id="glorySection" class="card" style="display:none; text-align:center;">
    <h2 style="margin-bottom:14px;">All Glory to GOD</h2>

    <p style="font-size:15px; line-height:1.6; max-width:720px; margin:auto;">
      This project, this clarity, this invention ‚Äî every insight, every step forward,
      every door opened ‚Äî is because of Him. I am only a steward.
    </p>

    <p style="font-size:15px; margin-top:14px; line-height:1.6; max-width:720px; margin:auto;">
      Thank You, Father, for wisdom, protection, creativity, courage, and purpose.
      May this protect the vulnerable and serve for good.
    </p>

    <p style="font-size:14px; margin-top:16px; opacity:.75;">
      James 1:17 ‚Äî ‚ÄúEvery good and perfect gift is from above.‚Äù
    </p>

    <p style="font-size:14px; margin-top:6px; opacity:.75;">
      Soli Deo Gloria ‚Äî To God alone be the glory.
    </p>

    <button class="action-btn" style="margin-top:18px;" onclick="toggleGlorySection()">Hide</button>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    NOVAK Protocol ‚Äî Patent Pending ¬© 2025<br>
    Demonstration only ‚Äî no stored or transmitted data.
  </footer>

  <button class="showWhyBtn" onclick="localStorage.removeItem('hideWhyNovak'); location.reload();">
    Show Why NOVAK Again
  </button>

  <script>
/* ========= GLOBAL DOM HOOKS ========= */
const input = document.getElementById("input");
const hashesDiv = document.getElementById("hashes");
const primaryLabel = document.getElementById("primaryLabel");
const rgacDiv = document.getElementById("rgac");
const comparisonBox = document.getElementById("comparison");
const compareBtn = document.getElementById("compareBtn");
const gameBox = document.getElementById("gameBox");

/* ========= STATE ========= */
let lastHashes = {};
let primaryHash = "SHA-256";
let beforeSnapshot = null;
let rgacBlocks = [];
let soundEnabled = false;

/* ========= SOUND EFFECTS ========= */
const sCorrect = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3");
const sWrong   = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-buzz-960.mp3");

function playSound(type) {
  if (!soundEnabled) return;
  if (type === "correct") sCorrect.play();
  if (type === "wrong") sWrong.play();
}

/* ========= THEME PERSISTENCE ========= */
function toggleTheme() {
  const html = document.documentElement;
  html.dataset.theme = html.dataset.theme === "dark" ? "light" : "dark";
  localStorage.setItem("theme", html.dataset.theme);
}

(function initTheme() {
  const saved = localStorage.getItem("theme");
  if (saved) document.documentElement.dataset.theme = saved;
})();

/* ========= AUDIENCE TEXT ========= */
const audienceText = {
  public: {
    desc: "NOVAK proves data integrity instantly ‚Äî no tech degree required.",
    hash: "Integrity Fingerprints",
    timeline: "Proof History"
  },
  government: {
    desc: "NOVAK enforces proof-before-payment, preventing billions in improper decisions.",
    hash: "Regulatory Integrity Fingerprints",
    timeline: "Audit & Compliance Trail"
  },
  investor: {
    desc: "Tampering becomes mathematically impossible to hide ‚Äî reducing systemic risk.",
    hash: "Business Integrity Outputs",
    timeline: "Accountability Timeline"
  },
  cyber: {
    desc: "Ideal for SOC, DFIR, supply-chain integrity & zero-trust automation.",
    hash: "Cryptographic Hash Outputs",
    timeline: "Security Event Timeline"
  },
  academic: {
    desc: "Collision-resistant hashing demonstration for research & instruction.",
    hash: "Cryptographic Fingerprints",
    timeline: "Research Log"
  }
};

function setAudience(a) {
  document.getElementById("description").innerText = audienceText[a].desc;
  document.getElementById("hashHeader").innerText = audienceText[a].hash;
  document.getElementById("timelineHeader").innerText = audienceText[a].timeline;
  document.querySelectorAll(".nav button").forEach(btn => btn.classList.remove("active"));
  document.getElementById(`btn-${a}`).classList.add("active");
}

/* ========= WHY NOVAK MEMORY ========= */
function dismissWhyNovak() {
  document.getElementById("whyNovakCard").style.display = "none";
  localStorage.setItem("hideWhyNovak", "1");
}
if (localStorage.getItem("hideWhyNovak") === "1") {
  const card = document.getElementById("whyNovakCard");
  if (card) card.style.display = "none";
}

/* ========= HASH ENGINE ========= */
const algorithms = ["SHA-256", "SHA-512", "SHA3-256"];

async function compute() {
  const encoder = new TextEncoder();
  const data = encoder.encode(input.value);

  lastHashes = {};
  let html = "";

  for (const algo of algorithms) {
    const digest = await crypto.subtle.digest(algo, data);
    const hex = [...new Uint8Array(digest)]
      .map(x => x.toString(16).padStart(2, "0"))
      .join("");

    lastHashes[algo] = hex;

    html += `
      <div class="hash-row">
        <span class="hash-label">${algo}</span>
        <span class="hash-value">${hex}</span>
        <label style="font-size:11px;">
          <input type="radio" name="primary" value="${algo}"
          ${algo === primaryHash ? "checked" : ""}
          onclick="setPrimary('${algo}')"> primary
        </label>
      </div>`;
  }

  hashesDiv.innerHTML = html;
  primaryLabel.innerText = primaryHash;
  updateRGAC(lastHashes[primaryHash]);
}
input.addEventListener("input", compute);

/* ========= PRIMARY HASH SELECT ========= */
function setPrimary(algo) {
  primaryHash = algo;
  primaryLabel.innerText = algo;
}

/* ========= RGAC MINI-CHAIN ========= */
function updateRGAC(hash) {
  if (!hash) return;
  rgacBlocks.push(hash.slice(0, 10));
  if (rgacBlocks.length > 7) rgacBlocks.shift();
  rgacDiv.innerHTML = rgacBlocks.map(h => `<div class="block">${h}</div>`).join("");
}

/* ========= BEFORE/AFTER COMPARISON ========= */
function toggleCompareMode() {
  if (!beforeSnapshot) {
    beforeSnapshot = {
      input: input.value,
      hashes: { ...lastHashes },
      time: new Date().toLocaleTimeString()
    };
    compareBtn.innerText = "Finish Comparison";
  } else {
    const after = {
      input: input.value,
      hashes: { ...lastHashes },
      time: new Date().toLocaleTimeString()
    };

    let html = `<strong>BEFORE:</strong> ${beforeSnapshot.time}<br>
                <strong>AFTER:</strong> ${after.time}<hr><br>`;

    for (const algo of algorithms) {
      const changed = beforeSnapshot.hashes[algo] !== after.hashes[algo];
      html += `
      <div class="compare-row">
        <span>${algo}</span>
        <span>${beforeSnapshot.hashes[algo]}</span>
        <span style="color:${changed ? "#c42121" : "#159b4c"}">
          ${after.hashes[algo]}
        </span>
      </div>`;
    }

    comparisonBox.innerHTML = html;
    comparisonBox.style.display = "block";
    compareBtn.innerText = "Start Comparison";
    beforeSnapshot = null;
  }
}

/* ========= EXAMPLE DATA ========= */
const examples = {
  va: `Veteran: John Sample
Rating: 40%
Condition: Lumbar Disc Disease
Requested Increase: 10% ‚Üí 40%`,
  medical: `Patient: 54M
Diagnosis: Atrial fibrillation
Medication: Metoprolol 25mg BID`,
  finance: `Transaction ID: 99837-A
Amount: $248,932.17
Purpose: Federal subcontract payment`,
  ai: `Decision ID: A-5527
Model Confidence: 0.87
Action: Approve`,
  robot: `Robot Unit: XR-11
Command: Move 3.2mm anterior`,
  legal: `Directive ID: SEC-782-A
Policy: Data Tamper Prevention
Effective: March 2025`
};

function loadExample(x) {
  input.value = examples[x];
  compute();
}

/* ========= TAMPER TEST ========= */
function tamperTest() {
  input.value += "\nüö® UNAUTHORIZED CHANGE DETECTED";
  compute();
}

/* ========= COLLAPSIBLE EXPLAINER LOGIC ========= */
function toggleExplainer(id) {
  document.querySelectorAll(".explainer")
    .forEach(e => {
      if (e.id !== id) e.style.display = "none";
    });

  const box = document.getElementById(id);
  box.style.display = box.style.display === "block" ? "none" : "block";
  if (box.style.display === "block") box.scrollIntoView({ behavior: "smooth", block: "center" });
}

/* ========= MINI-GAME FRAMEWORK ========= */
function startGame(html) {
  gameBox.innerHTML = html;
  gameBox.style.display = "block";
  gameBox.scrollIntoView({ behavior: "smooth", block: "center" });
}

/* ========= GAMES ========= */
function startTamperGame() {
  startGame(`
    <h3>Spot the Tampered Claim üïµÔ∏è</h3>
    <p>One record below was altered ‚Äî which one?</p>

    <button class="action-btn" onclick="wrong()">Claim A</button>
    <button class="action-btn" onclick="correct()">Claim B</button>
  `);
}

function startHashMatch() {
  startGame(`
    <h3>Hash Match Memory üß©</h3>
    <p>Coming soon ‚Äî flip cards & match fingerprints!</p>
  `);
}

function startKeyGame() {
  startGame(`
    <h3>Find the Valid Key üîê</h3>
    <p>Only one dataset unlocks the verified hash.</p>
  `);
}

function startFraudDetective() {
  startGame(`
    <h3>Fraud Detective üö®</h3>
    <p>Modify the input above ‚Äî NOVAK will detect tampering instantly.</p>
  `);
}

/* Responses */
function wrong() {
  playSound("wrong");
  alert("‚ùå Not quite ‚Äî try again.");
}
function correct() {
  playSound("correct");
  alert("‚úÖ Correct ‚Äî NOVAK would flag this instantly.");
}

/* ========= GLORY SECTION ========= */
function toggleGlorySection() {
  const box = document.getElementById("glorySection");
  box.style.display = box.style.display === "block" ? "none" : "block";
  if (box.style.display === "block") box.scrollIntoView({ behavior: "smooth", block: "center" });
}

/* ========= INIT ========= */
setAudience("public");
compute();
</script>
</body>
</html>
